<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Enderfga&#39;Blog</title>
  
  
  <link href="http://enderfga.cn/atom.xml" rel="self"/>
  
  <link href="http://enderfga.cn/"/>
  <updated>2022-06-22T09:04:52.370Z</updated>
  <id>http://enderfga.cn/</id>
  
  <author>
    <name>Enderfga</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ·±åº¦å¯åˆ†ç¦»å·ç§¯ç®€ä»‹</title>
    <link href="http://enderfga.cn/2022/06/22/dsc/"/>
    <id>http://enderfga.cn/2022/06/22/dsc/</id>
    <published>2022-06-22T09:00:41.000Z</published>
    <updated>2022-06-22T09:04:52.370Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="ce095e397ce0ca13dab029258822977333d24e5336f179eb554b23ed3fca1185">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef8390949ab11b2c4d0bc57a5d6876cb072189b74822a738bf5dc05d57d5afa1df980b4fae6bd755b6f42601a9ea58a43d3d55806206a00bee09910852e23c14cc3ccaa5f3e95be2ff1f2ec4ed107337a675bc0731bdb208187785a8ef7f730c1892208665505eb516b8db843817bc7041edc7a5823abfe9b6a76f4045184e47beb86064d0f765b8d0237e95d55e57099ef5917aa</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>cifar10-horseç”Ÿæˆä»»åŠ¡</title>
    <link href="http://enderfga.cn/2022/06/20/horse/"/>
    <id>http://enderfga.cn/2022/06/20/horse/</id>
    <published>2022-06-20T00:46:42.000Z</published>
    <updated>2022-06-20T00:56:21.930Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="f21feef38d2c1c7a84e64e6cf6fd873694de45117fbde24518349b83585172db">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef83909494b7a2026de11d8723f3cff51a0d66eed8204673b60e46bd5551df6bbf1eb5ce0b816f50019449a222cfa2edd57c2a27c45b03948edf6cf9eb36bc7be0e16647b167fb36ff677e305074392e6b8518f45fcd83bfb269144ef6bccea75d58dac4c3292e234cc7a8834db2cdbfdbe3eff02920f52ea00d083db70511a91cb8aac3420e858aea36460c3fee975f2965522c38e7a162b8984472d1112ac8676a07fb11ac96678800794421eba620352fa1128e89b8a277f88e33b633dc32cb959eec5d42f3af78adffd8ce93954a6c54eca7eab701c69154204df3ff6e841acef004a7e3b9b96623f918edf8a99e8e69d8895371c22b0e2e1d2b398241a1280b988d915ccb42d28fd1d361715381131a450230c2347732369a44c113cb7057bdeb57a6a9b7418229644e3943f4ece563379372c04923c84b5cef531f4a7f20006791c55ec3f3392035d9a3efceb9629a214849cacd29b78f0ba8f09ed8925de52b499d1545c0056c43639d7bb30ab46af821dccd4c663e72451e7330f94b7f8a37899ec85cd9400f66518d328007243e03d6cd4ba6f6b96c9865f49ea9fda27ee44e7dbdf58be85c12b45593772f673fa53760bb1f16dd57f9080d76c458383ce982427fae5897f067c0deb8d6afdfe27e7731cf4966d7e61d8ba4a7902a91080fbe853edadb2a8caf942a2badadbeb444c7889e7dc192e0b5d3c64a40978b07a957d6c56fbb025bc3587bf7ca16748d1e0fb833121eee37b5a95ff1b5081e96598e502abedc6b1539a615a9c81b985031f1d32bcdb9f98ba13b2daf4ac303293039cecb8fc26d46f30bea7d4c7b47e03344b38f7a6220f61301380b2a378c0ce3c503f0dd9c1d793af96736df5cfa166886c4e453c363ede95a284cb020abcee097a092bfb9a696579fee247a531626afee5f18d6d4efaf794c341a3cdd3a371bb15c1e58af28f83585cdcd3e26cb5c5fbc02d02c7afc1ecbc59a31605f058ec0cc583c67ea46fc50124647880b0f7d5958ca201ad9d4095725474b8711577a06d00c9398d461c4f00204672652de08a220fb939b4f470b3113d1bb8d7aa6cccfe0671c0572fe1a86dac8b76e127e5ebf3b4fbfbf5844de794c3ca1cf7f7010f361429aca2aee16c3edb4a43d9fef457f039c7e4ab8694c4cf1786ba8123fda24b828a30ba111ddcf4b5c2eb36e2a26f2eb6a552b0dac6c82fdba3ed058eacf7c73abbdba360993a04961e539bd271c0609dc56c61f83ec08ed7683df843a49830e68ef261dec4c341cf1a5273abf9c8576c2b304731da175cfc63f326a2a3213822040ba6d2ff5302c9a2e016bd84211da84a190df229a1de77c458316cc7770b7cdd8329ce78ba86ee7470b647a726fd1933efad6b3aae27fcb768238da3b40099ba27d5dd2e1ea7b06b5ed61f46b2b67efc75c83c55def4413b56c356b44321c8a09c6331d80626b17724a63353ec59cb63f97b6e3ade55a5b96334ef4ce3da40651f25e17c627962074110e4e495f1ae948447afd8ce3e4e6a232dde477aa00ce1017aa0db8c3d48a387a885494cd6a933e39c04bc1a5a3c3c748288ad9d5492f8edcd62af716d4facb0b8177e6a928a79fff3f44a44644069f18d522480654d92cda4fca21cc771ecadc9597104d18d52671f90b48406a9b42825151ef840e12ff63decc49b01f630ac8235e3fa02e4004fe72feac14fa82ae8b9b28e849e7daf7b63a705fd2ad1d7d5eb094f4f16c877fa64fe72ae9ad866e7e7520928f2678f8c98a4658dd5cc6752999e56bd24b1e909bf091f8e7b2f7f3ad39258d6fd79a9c5c67169b1aa7a100e090b1d1007b141034f476aa06b3bceb4ea75d8c1890f0fcb75fa4c2fae8dce4bff4b4c8ebfa3a67f5bc45066f33c0c22d5e4e8ee2894031474259d1a132a3f9f6a1adce1dc0e55e5a63317d28b81c99caca1e2026f060d861f4db34a5ec004b8e17fddc154b6ea59504926ed0c2f17d89acf7f207505756433a250db49dcfb844ccb72b07bbd46daa9c2c1aa5d29926b717a173ff4e8173703bca89c6bb8bd52c8f8f53192fb13a7ac3484387461e76ae0746f6bbee6e742a43a5eae1cec71095f0326b40ea269a364c710aa8bbcc22948f550c3e60bcbf21103e47966c83993b8ef214fee4a6dab02654033a17c88898e8cc079935c33856e61591a912f47942d7be8e8a7781cb1147b0dd1fbd30b5210f2968092bb3e786b74367cea5f6d5b1cacaecb4f04d5167aac2618cd094e3dfd10b8c7e3e2b4e83e13ed96a0dbfcd38f32bff8ac6073f4a7bbd9a2d1a3e6b4e7ae0d4ba4b59b321940c17ba5783e6d852df93b8455a2b8c6fc3ae6865ca2c9f59bf9b55457ac2aa582a3befe109bd0619b0861ecac9b9ccfb02883682d36f26ae8fb2998210953a2473e503ea0583d5cbdc6c57758e3714d035e98e87c01956ebb37d80def06587c17f10e58fe6f6cc691b9314046d9c1789470035c0fed4e51f2c547b41bc87a854f00189f66f0cc9b17797a421b21ceebc6eca83f8a926a3e4935fafcc28ca48e5855644193ccda320fbc7886c0701eff8ffd526874bcb44e6b75ebc7ce7474f7c79e27bb1da16f8742b2b5937e474e2ae880d5ddb0e37157e5c214af47f75b0587433f3b1b65dc3f1f9bea2b73f19dd990bedd9a98b5508656e76bc075f2c2c2fcfaf6224bbc8f80862731bf1d5b5db89ffaec98fd1ce81c6d29361f77cb35d33dbd26a75c407e2e2685c2ec3c25847e50072a438a718d7e3ba566574005af978a8149b6a296b88fa0ef52491ab64a53f21653ce1efa2a37201772ca816db5d63d2314973fc4dc7bd8046571907031fa05abf4dc2eeecc1e7e0afbec7208d5d8d0b78aadd88b0e450aee807402d9b8ed6f326b09c89a30def9225ef9b6ac19fa6a19b5dd43aa3e95facc8721fc4e58db7fd452953ad638e009e39e7416e4d08b0c6eb8428d6713aa4bd9e465346450d0981de62426a7c51e3a949169c00b8a8a6890ce70feb42eb8fbeedd47917ddd55a21bd8fded18dcf40c5c3b6482deb8b11241c73ed003294f38fcafa4d0a705665746936c8b7915d839ab10e2b7af869c67eb2a033d6383503f004e2f7409bc3bf5e75e288beac5756341f7f41698b1e83554aa81d3f313145b2fc2a05b0bf3996ae8d33312df5249e356133023487678911edb4d2520da0df6b265acad10efa342b3ac04ed6104c153c1e5f8055c424af948167644e91ba3dd6546ca4e6aef910c4e11e884b77f3b236b33d768bcc545ba1b8bd514cbb7950049531f7390fd34fcf4af463688100ca6db325e14dc475c6f73a25754d0da871dd9a5a96e5e93363cb2fc7f4d364661dd528891f1a9bee991e89681e008e9bc9b83f45e2f506f6d620f1bb41ac2832e7cbe32063beec795cdf6ccfaddf0f6cadfa9b52d7426a703d79d05c47c2c27fc1bdbae47c83b093668dcf02ffe9c828385a48f3360b287d7aa4a582ca81f12f4b74d6bfc435b6ba22db3a0bbfb9147b14e562be42b32229efaa7904af62c2bd9bdd49d8b5cbf0ac2bd984a74680e0c513183eb5085eff42e8dc6b755a400d859e11066d8815ca0a11ca1397097f8b1b5c5ee924f27b5fd8ecaf73327b660d2ae9c9d8dcd98d56097a8e8d8f7e887c995a24cd5f67eb964db28c728d9a40b0dc60eed06f5a9690e09fec7929a7b8b3ca949e6c72ebcf539a7e4de4b7bb03b7d429e6a73772753053ef62fae44d5ef430af6ee7242bd4d399daeac6cda5b82487492c826566a1bacc87a1da699c4be33bc62f6bb6563b199bd641651709b94f225fe57850a8f4a13b64d80a3d6e81fd1d48383179987798b5a7824b941b6cb161cfb87679cfeeca13b4a9afeca03a4e82f69b0e7d85623cfb84ff456b0bffcc6892069f5d836d36e174862367bd2f16842df07ece813fb0546146a9e33c359c4bebef8b74518c7e5a51644121db0cf6523c642cb4c6ca8b78978f2ef7b0dbab391a6b08907ace1dddce4025312f8f2d3303e86ddbfe27d2b772d4ca01ab4ad22433c4d188fc6d47c82e28243aacdfec742ca78ce4b6a567bb5cbb7b82a005d692aaa165ad0af13b40d6bb7f12720aa8390ddec596943c82708ce314bcfd2d3249979935462639dfe191b9bd52f0cb16276e63b98cc12e5784fe13059ec831b88f990df9467160eca78b6b535a6518ca86d66006aaebaa373edd79e68732121d0e07ed44c8838b9e7f23284faa9d450aa0d0426edb8e811464753a09a394cfc63db044ff070cbc2a6683ba00a62916c570e3cfed842b3c17d04610d2a500cd3645521a73d5dca8a003bd987609908b8d7cb20548c9d8cd14c1d84a922d7707a4db63b49fccd948e48697c591354fffa1e5ff15fa4bfae1106afa7db1826b9586d65b92289de5d251a0da44b606e344d6651e025a1c7556e5e84c431907cff1f58d78fd8f4082ef9ba42caf889d9389e27c0e667fd8c093dfaaa13ae0a6a73eb0a5743474b8859b6d73682d1441b0208f9a1c608cd9f044b9e4354e026f924f79f5367b3de27db390d07e9c24e26b5a7d27cbf5bdb169b4106c402367b63d6046e579e6304f5243275a22b273e416ce483c02d5a3477f72381abc81ab16dd2156dd869677a691f843b42381bafca4ed35fd005dd34a861923bc6f279cd603a639521b3db737ec621abe0c0328362d56a5d3c3588fedb2d01d249d4fdf02372809c93fdd1f63d8d6f5378fb587a992cdb65e3abe6c814e1a8e58194d4eb8ba99f4989051148cd100fbc20ac3a547115d51d049702a79ee90ecd34283049bcfbc8b123fc10b16365d71c7d82437bb6494efed99a661973f23fea37795961bfc241a2a657cdbeeb4bf509cfc311e0138dd460c1d6bba5394b89eab9488de956d990b110ed989027d4f5af38aa1e0b434fa7d66270e3a667b4a00699db794ec3f6c19907ba60a3503fabc61e363f9f7779b6d212c70a4d01a74dc3f2167ca72797066d6a41a366a8d2244c5325956ceab3bf647648a4167a63a730852ef702cb673b392f755f7cb48e3e05e782aa0798b95a9f5a598bb5f9e68dd8525656935920525e49d24195b1fbd982b7b0ac05f34b00c3b194703c15d237f29fc97022af3c60bcc0124d788ea3807f16e312a3ba730b353d9254c6368d03109cbef3566538d1b7ecc0d762ca4919a5902a1a5d581be658e0bae0f74386668a145ac436781bdbdabe9ceebf666301d4b49d39a312fef1d550c6119477579f6f933fff6fac3db568f6aada01a53f3876932c1c4d3895db38b6f6413be0ebbf80733b109716d2dfbd8301161e88e932ffc142087c720d8f866b234627a149b3fa8f74d564fa82b1cc7840225138daff3a1c2281b248fa92e77dc090a2ed46b2d30a3539c687ee78d528a9191e8915d75f0d2f90774b028d386189f5fd5585a3a33ef023bb7052f39797eb2bd3c556db0e57be74b9ecd3fc613b01822c6cabe0058f100fd4919f8b9c504839cad7fdeb4974478f086be390751d59a55e962ec8635f64167317598a4e936eee412af7556cb6468229b106f3d337c1dd47b3842ef29cc72f94d57db13283a33c458f21318e468d9b844bf9abe333a57529c61baed6ca0a860518e2ca781fbd9d32040c6d7a169973466726173e7f0fa822af66b473d8f99f409e595e6c543b1f4cd3dada777f562e05f272b2beec43f6a12925abe0d486ce226b7129050d8307a37bfbb666b149ce8cca688710975fcca18a8b5a33b4a555d3b7a4b4d21bf7529eb10c866211b93e10ddb577e7c467295f67220d2ba346086d50918a3d0d65785bc0b6a0066bfbb903d7050d6e998cffe0c835135e8387a88e22fc1f9338ceba93d79373761d3edf09b714bb6422d1f341c24bbba9dfd627f5ee4ef9be40c591f643e8fa9c064945d6a228d635d6afffaf9a03dfd6ac2d04bcfc06cbba7fd8c44364aa48d7182e347e56fb257655c4a6534e3bfe6b8966167703494c5ac52743c0190b1d6fbb7e1779e61ad8b2681128cb7c4d05fb16669136b6a10e3bb24b08a029ea159bd3fdbbecb286bf0f8a67d9f4ddcdb9a2823328b85ff6fefbdfd9a1f0dd178702306b23cb5ce854a88f1b73dd27dc89d5cb531898dfc5f96c905e9ca8659619387d2704a06da09af0c3a06dd9f9b691e2fe3e92f01919de65da0668f60b8246f4dc37e819f5f3f5a227639749bb45217c81a26d6ddda4e8848de3de5ae83f9f4cdeccb9eeaac0200da09cb59ca69d05fb8709092d1dac856217bf7e0c8e0da72d905ef576af8fc27ad45f108275ea6e2227f4f52c6582b1fa747f80ce21b6190ea0d52b99dbd8127ab5ee8ee2582d13a646617d90eba796ef6c93d11d89c38a29c435c832b090cdc806c3c3bb79e6def8df3821481e81e92c05ea518a91902173da2ee243a063b94667f0fb76c76b3566bdf5116b4fddca4a7dca508bff5806070255b443d0c95dd521629316a17eeda63665af273f1c397b5294f81cefc98d70f54070ed93807087c36e5ca7acb4aad7f35c9215e0ab91ecdaf51d93a3086fafe8cad1436669bf616550525a681fadeba745bd92525f402b81002a849992c30dedfee2497ba7ca141b2de95b1bb5308a51163553ccb096982ab5208cb88f408d7beb12240562f903e21e3106eb0621f0ce6a50a80db63249841902f0734203fe74972bfaf7b044fbe6f145beea00b54de6c9707926f36980270dc7996e5f7408e4779cf845975289d9b9af64fcb873c8b0b960fe76046f898e72183da90df3ae4d04e4fec7e5dd966ed6794a407e44cff32e1cb5411aaff42b6c4acd3d6feb83293797d75a720f612c4f55fd80b182092446102fc2de75bf5138c6bbf4f3749f3d5a70225a9bca2a90ba1c6e50f58123955aef9337031763c5d294f2fcdafb51f804dd180c5bea95b667029ad8e6f1e58fdecef9d3be82340ba40fb9ca8b2a2962ef853fb439e6bcbac7cfa5a8aa1dfd65101a8022489866fa31f1e04b6815d04c3320d367214c0aac6f68009f3cab10adddb2e6ba8e22addd9e4350ff93e98e147ffb882dbc490256de7273331664dce1d6531df23dbca1f2f4b8748678ab04dc8451c972ddee3ca9e73a4d6b545edea4016a2fe0f232531ca9aaf2481f73cfd3d3a1a78f906c812799048f6bdc9975a21ed852e2ea8cf6fea31e6c92225547db62342150db6ee95efacb9af46563af00f7e562363bc41a8474d42c24691e3025b00f4fd031273d5fc0a913d3507168e8a24af770e052c3e6ebc3681223e789c3f1ce4eb238d6b8dcd919e2afc0c7e8d8a32f4302598b45e2d5886bee3b1522768056c1b309b81ee00730bb7527115161931ed4517b389d67369f4089ffc45ba35bfd8a5b016234c7ecc4673fc65d4279c4d8814b7183af3abdd0552173e0e1c5ca662e37b1b9d73702f4504a33af05c7a3a2bff16e90b10072f2cbfcbf3e30aa4807b90737e42ea3ac70bbefdcdf9f49245d62b50c6ff1695e15447344e0db3ea6b50ac80d226afe5f663f71351f4ad7b4ec050a259da8ba1df46d2469af4185bd39333a584285541df30b1e604a86710db886a8964d5f8dc9b8e40f1bba25dc49dc8892db075e7f14194afe62</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>å‘¼å¸è¿åŠ¨ä¼ªå½±çš„å›¾åƒè´¨é‡è¯„ä¼°</title>
    <link href="http://enderfga.cn/2022/06/20/cmr/"/>
    <id>http://enderfga.cn/2022/06/20/cmr/</id>
    <published>2022-06-20T00:42:42.000Z</published>
    <updated>2022-06-20T00:46:22.854Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>åŸºäºæ·±åº¦å­¦ä¹ åˆ†ç±»ç½‘ç»œçš„ç—…å˜è¯Šæ–­ä¹‹å‘¼å¸è¿åŠ¨ä¼ªå½±çš„å›¾åƒè´¨é‡è¯„ä¼°</strong></p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220620084604845.png" alt=""></p><embed src="./cmr.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;åŸºäºæ·±åº¦å­¦ä¹ åˆ†ç±»ç½‘ç»œçš„ç—…å˜è¯Šæ–­ä¹‹å‘¼å¸è¿åŠ¨ä¼ªå½±çš„å›¾åƒè´¨é‡è¯„ä¼°&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ åœ¨é¥æ„Ÿå›¾åƒåˆ†ç±»ä¸­çš„åº”ç”¨</title>
    <link href="http://enderfga.cn/2022/05/30/dl/"/>
    <id>http://enderfga.cn/2022/05/30/dl/</id>
    <published>2022-05-30T07:13:14.000Z</published>
    <updated>2022-05-30T07:16:24.561Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ·±åº¦å­¦ä¹ æœŸä¸­åº”ç”¨è°ƒç ”æŠ¥å‘Š</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/what-is-deep-learning.jpg" alt=""></p><embed src="./dl.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;æ·±åº¦å­¦ä¹ æœŸä¸­åº”ç”¨è°ƒç ”æŠ¥å‘Š&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Thinking Deeper about Cifar10</title>
    <link href="http://enderfga.cn/2022/05/30/cifar/"/>
    <id>http://enderfga.cn/2022/05/30/cifar/</id>
    <published>2022-05-30T07:07:15.000Z</published>
    <updated>2022-05-30T07:12:49.761Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>äººå·¥æ™ºèƒ½ç»¼åˆå®éªŒæœŸä¸­å¤§ä½œä¸šcifar10åˆ†ç±»</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220530151047.png" alt=""></p><embed src="./cifar.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;äººå·¥æ™ºèƒ½ç»¼åˆå®éªŒæœŸä¸­å¤§ä½œä¸šcifar10åˆ†ç±»&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Docker å¸¸ç”¨å‘½ä»¤ä¸æ“ä½œ</title>
    <link href="http://enderfga.cn/2022/05/29/docker/"/>
    <id>http://enderfga.cn/2022/05/29/docker/</id>
    <published>2022-05-29T01:13:27.000Z</published>
    <updated>2022-06-26T06:41:47.893Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€å¼ å›¾æ•´ç†Dockerå¸¸ç”¨å‘½ä»¤</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091219215.png" alt=""></p><h2 id="DockeråŸºæœ¬æ¦‚å¿µ"><a href="#DockeråŸºæœ¬æ¦‚å¿µ" class="headerlink" title="DockeråŸºæœ¬æ¦‚å¿µ"></a>DockeråŸºæœ¬æ¦‚å¿µ</h2><p>Docker åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p><ul><li>é•œåƒï¼ˆ<code>Image</code>ï¼‰ï¼šDocker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</li><li>å®¹å™¨ï¼ˆ<code>Container</code>ï¼‰ï¼šé•œåƒï¼ˆ<code>Image</code>ï¼‰å’Œå®¹å™¨ï¼ˆ<code>Container</code>ï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ <code>ç±»</code> å’Œ <code>å®ä¾‹</code> ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</li><li>ä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ï¼šä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ç±»ä¼¼Gitçš„è¿œç¨‹ä»“åº“ï¼Œé›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶ã€‚</li></ul><p>ä¸‰è€…å…³ç³»å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091304514.png" alt=""></p><p>æ¥ä¸‹æ¥çœ‹ä¸€çœ‹Dockerçš„å¸¸ç”¨å‘½ä»¤ã€‚</p><h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><ul><li><p>æŸ¥çœ‹Dockerç‰ˆæœ¬ä¿¡æ¯</p><p>docker version</p></li><li><p>æŸ¥çœ‹dockerç®€è¦ä¿¡æ¯</p><p>docker -v</p></li><li><p>å¯åŠ¨Docker</p><p>systemctl start docker</p></li><li><p>å…³é—­docker</p><p>systemctl stop docker</p></li><li><p>è®¾ç½®å¼€æœºå¯åŠ¨</p><p>systemctl enable docker</p></li><li><p>é‡å¯dockeræœåŠ¡</p><p>service docker restart</p></li><li><p>å…³é—­dockeræœåŠ¡</p><p>service docker stop</p></li></ul><h2 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h2><h3 id="é•œåƒä»“åº“"><a href="#é•œåƒä»“åº“" class="headerlink" title="é•œåƒä»“åº“"></a>é•œåƒä»“åº“</h3><p><a href="https://link.segmentfault.com/?enc=eCypHIByefaQ8WlX8AJqSg%3D%3D.IV619qtOOjR2McoljdjR%2FNJXcHjWaOrxy0NrT1051R7Ot%2BYs5eUPDK5lfZoTudgL">Docker Hub</a> ç­‰é•œåƒä»“åº“ä¸Šæœ‰å¤§é‡çš„é«˜è´¨é‡çš„é•œåƒå¯ä»¥ç”¨ï¼Œå¯ä»¥ä»ä»“åº“è·å–é•œåƒã€‚</p><ul><li><p>æ£€ç´¢é•œåƒ</p><p>docker search å…³é”®å­—</p></li><li><p>æ‹‰å–é•œåƒ</p><p>docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]</p></li></ul><h3 id="é•œåƒç®¡ç†"><a href="#é•œåƒç®¡ç†" class="headerlink" title="é•œåƒç®¡ç†"></a>é•œåƒç®¡ç†</h3><ul><li><p>åˆ—å‡ºé•œåƒ</p><p>docker image ls<br>docker images</p></li><li><p>åˆ é™¤é•œåƒ</p><p># åˆ é™¤æŒ‡å®šé•œåƒ<br>docker rmi &lt;é•œåƒId&gt;</p></li><li><p>å¯¼å‡ºé•œåƒ</p><p># å°†é•œåƒä¿å­˜ä¸ºå½’æ¡£æ–‡ä»¶<br>docker save</p></li><li><p>å¯¼å…¥é•œåƒ</p><p>docker load</p></li></ul><h3 id="Dockerfileæ„å»ºé•œåƒ"><a href="#Dockerfileæ„å»ºé•œåƒ" class="headerlink" title="Dockerfileæ„å»ºé•œåƒ"></a>Dockerfileæ„å»ºé•œåƒ</h3><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ ¼å¼çš„é… æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Dockerfile æ¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„é•œåƒã€‚</p><p>Dockerfile ç”±ä¸€è¡Œè¡Œè¡Œå‘½ä»¤è¯­å¥ç»„æˆï¼Œå¹¶ä¸”æ”¯æŒä»¥ï¼ƒå¼€å¤´çš„æ³¨é‡Šè¡Œ.</p><h4 id="Dockerfileå¸¸è§æŒ‡ä»¤"><a href="#Dockerfileå¸¸è§æŒ‡ä»¤" class="headerlink" title="Dockerfileå¸¸è§æŒ‡ä»¤"></a>Dockerfileå¸¸è§æŒ‡ä»¤</h4><p>ä¸‹é¢æ˜¯Dockerfileä¸­ä¸€äº›å¸¸è§çš„æŒ‡ä»¤ï¼š</p><ul><li>FROMï¼šæŒ‡å®šåŸºç¡€é•œåƒ</li><li>RUNï¼šæ‰§è¡Œå‘½ä»¤</li><li>COPYï¼šå¤åˆ¶æ–‡ä»¶</li><li>ADDï¼šæ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</li><li>CMDï¼šå®¹å™¨å¯åŠ¨å‘½ä»¤</li><li>ENVï¼šè®¾ç½®ç¯å¢ƒå˜é‡</li><li>EXPOSEï¼šæš´éœ²ç«¯å£</li></ul><p>å…¶å®ƒçš„æŒ‡ä»¤è¿˜æœ‰ENTRYPOINTã€ARGã€VOLUMEã€WORKDIRã€USERã€HEALTHCHECKã€ONBUILDã€LABELç­‰ç­‰ã€‚</p><h4 id="é•œåƒæ„å»º"><a href="#é•œåƒæ„å»º" class="headerlink" title="é•œåƒæ„å»º"></a>é•œåƒæ„å»º</h4><p> docker build</p><h4 id="é•œåƒè¿è¡Œ"><a href="#é•œåƒè¿è¡Œ" class="headerlink" title="é•œåƒè¿è¡Œ"></a>é•œåƒè¿è¡Œ</h4><p>é•œåƒè¿è¡Œï¼Œå°±æ˜¯æ–°å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚</p><p> docker run [é•œåƒID]</p><h2 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h2><h3 id="å®¹å™¨ç”Ÿå‘½å‘¨æœŸ"><a href="#å®¹å™¨ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å®¹å™¨ç”Ÿå‘½å‘¨æœŸ"></a>å®¹å™¨ç”Ÿå‘½å‘¨æœŸ</h3><ul><li><p>å¯åŠ¨ï¼šå¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚</p><p># æ–°å»ºå¹¶å¯åŠ¨</p><p>docker run [é•œåƒå/é•œåƒID]</p><p># å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨</p><p>docker start [å®¹å™¨ID]</p></li><li><p>æŸ¥çœ‹å®¹å™¨</p><p># åˆ—å‡ºæœ¬æœºè¿è¡Œçš„å®¹å™¨</p><p>docker ps</p><p># åˆ—å‡ºæœ¬æœºæ‰€æœ‰çš„å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢å’Œè¿è¡Œï¼‰</p><p>docker ps -a</p></li><li><p>åœæ­¢å®¹å™¨</p><p># åœæ­¢è¿è¡Œçš„å®¹å™¨</p><p>docker stop [å®¹å™¨ID]</p><p># æ€æ­»å®¹å™¨è¿›ç¨‹</p><p>docker kill [å®¹å™¨ID]</p></li><li><p>é‡å¯å®¹å™¨</p><p>docker restart [å®¹å™¨ID]</p></li><li><p>åˆ é™¤å®¹å™¨</p><p>docker rm [å®¹å™¨ID]</p></li></ul><h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h3><p>è¿›å…¥å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p> # å¦‚æœä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢</p><p> docker attach [å®¹å™¨ID]</p><p> # äº¤äº’å¼è¿›å…¥å®¹å™¨</p><p> docker exec [å®¹å™¨ID]</p><p>è¿›å…¥å®¹å™¨é€šå¸¸ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œ<code>docker exec</code>åé¢è·Ÿçš„å¸¸è§å‚æ•°å¦‚ä¸‹ï¼š</p><p>ï¼ d, â€”detach åœ¨å®¹å™¨ä¸­åå°æ‰§è¡Œå‘½ä»¤ï¼›</p><p> ï¼ i, â€”interactive=true I false ï¼šæ‰“å¼€æ ‡å‡†è¾“å…¥æ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤</p><h3 id="å¯¼å‡ºå’Œå¯¼å…¥"><a href="#å¯¼å‡ºå’Œå¯¼å…¥" class="headerlink" title="å¯¼å‡ºå’Œå¯¼å…¥"></a>å¯¼å‡ºå’Œå¯¼å…¥</h3><ul><li><p>å¯¼å‡ºå®¹å™¨</p><p>#å¯¼å‡ºä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨åˆ°ä¸€ä¸ªæ–‡ä»¶</p><p>docker export [å®¹å™¨ID]</p></li><li><p>å¯¼å…¥å®¹å™¨</p><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ</p><p>docker import [è·¯å¾„]</p></li></ul><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><ul><li><p>æŸ¥çœ‹æ—¥å¿—</p><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ</p><p>docker logs [å®¹å™¨ID]</p></li></ul><p>è¿™ä¸ªå‘½ä»¤æœ‰ä»¥ä¸‹å¸¸ç”¨å‚æ•°</p><p> -f : è·Ÿè¸ªæ—¥å¿—è¾“å‡º</p><p>â€”since :æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿—</p><p>-t : æ˜¾ç¤ºæ—¶é—´æˆ³</p><p>â€”tail :ä»…åˆ—å‡ºæœ€æ–°Næ¡å®¹å™¨æ—¥å¿—</p><ul><li><p>å¤åˆ¶æ–‡ä»¶</p><p># ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨</p><p>sudo docker cp host_path containerID:container_path</p><p># ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº</p><p>sudo docker cp containerID:container_path host_path</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€å¼ å›¾æ•´ç†Dockerå¸¸ç”¨å‘½ä»¤&lt;/p&gt;</summary>
    
    
    
    
    <category term="ç¬”è®°" scheme="http://enderfga.cn/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å®‰ã®æ¨è</title>
    <link href="http://enderfga.cn/2022/05/28/suggest/"/>
    <id>http://enderfga.cn/2022/05/28/suggest/</id>
    <published>2022-05-28T13:33:51.000Z</published>
    <updated>2022-05-29T00:39:42.466Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528213455416.png" alt=""></p><p>ä¸€æ—¶å…´èµ·ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æ¨èï¼›éœ€è¦ä»˜è´¹çš„ä¹Ÿå¾ˆå¤šï¼Œä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒæ­£ç‰ˆ</p><span id="more"></span><h1 id="ä¹¦ç­¾"><a href="#ä¹¦ç­¾" class="headerlink" title="ä¹¦ç­¾"></a>ä¹¦ç­¾</h1><h2 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h2><p><a href="https://enderfga.cn/">æˆ‘çš„åšå®¢</a></p><p>æ²¡æƒ³åˆ°å§ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªä¹¦ç­¾å±…ç„¶æ˜¯è‡ªå·±çš„åšå®¢ è™½ç„¶æ²¡ä»€ä¹ˆé«˜è´¨é‡æ–‡ç« ï¼Œä½†æ‹¿æ¥å½“çŸ¥è¯†å¤‡å¿˜å½•è¿˜æ˜¯æŒºæ–¹ä¾¿çš„~</p><p><a href="https://pan.baidu.com/disk/home?#/all?path=%2F&amp;vmode=list">ç™¾åº¦äº‘</a></p><p>ä¸Šäº†å¤§å­¦ä¹‹åä½¿ç”¨é¢‘ç‡å¾ˆä½ï¼Œå½“ç„¶ä¸»è¦åŸå› è¿˜æ˜¯æˆ‘æ ¡çš„ç½‘é€Ÿâ€¦.ä¸è¿‡æœ‰æ—¶å€™è¿˜æ˜¯ä¼šæ‹¿æ¥ä¸‹ä¸‹ç”µå½±</p><p><a href="https://translate.google.cn/">Google ç¿»è¯‘</a></p><p><a href="https://dict.cnki.net/index">CNKIç¿»è¯‘åŠ©æ‰‹</a></p><p><a href="https://www.deepl.com/translator">DeepLç¿»è¯‘</a></p><p>é‚£ä¸ªçŸ¥ç½‘çš„ç¿»è¯‘åŠ©æ‰‹åœ¨bç«™åˆ·è§†é¢‘è¢«æ¨èçš„ï¼Œè¿˜æ²¡æœ‰æ€ä¹ˆç”¨è¿‡ï¼›ä¸€èˆ¬ç”¨deeplï¼‹googleå¯¹ç…§ä½¿ç”¨</p><p><a href="http://www.gamersky.com/">æ¸¸æ°‘æ˜Ÿç©º </a></p><p>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ç½‘ç«™ï¼Œä»08å¹´å¼€å§‹æ¯å¤©æ™šä¸Š19ç‚¹å®šæ—¶æ‰“å¼€çœ‹å›§å›¾ï¼Œè™½ç„¶æ€ªå‚»çš„</p><p>ç°åœ¨æ²¡æœ‰ç›—ç‰ˆæ¸¸æˆä¸‹è½½äº†ï¼Œä½†å„ç§å„æ ·çš„èµ„è®¯å½“æ–°é—»çœ‹è¿˜æŒºæœ‰è¶£çš„(è¯„è®ºåŒºçš„æ¸¸æ°‘è€å“¥å¥½ç©)</p><p><a href="https://www.youtube.com/">YouTube</a></p><p>æ²¡å•¥å¥½è¯´çš„ï¼Œå…¶å®æˆ‘å¤§éƒ¨åˆ†æ—¶é—´ä¹Ÿåªç”¨bilibili</p><p><a href="https://www.zhihu.com/">çŸ¥ä¹</a></p><p>æœæœå„ç§çŸ¥è¯†ï¼Œçœ‹çœ‹æ–‡ç« è¿˜æœ‰ç§‘æŠ€äº§å“æ¨è</p><p><a href="https://portal.sysu.edu.cn/#/index">ä¸­å±±å¤§å­¦ç»Ÿä¸€é—¨æˆ·</a></p><p>æˆ‘æ ¡å®˜ç½‘çš„æ–°uiå¾ˆä¸é”™ï¼Œå®‰å“ç«¯ä¹Ÿé€‚é…äº†</p><p><a href="https://github.com/Enderfga?tab=stars">Your Stars</a></p><p>ä¹ æƒ¯äº†æ”¶è—starsæ¥ä¸ŠGitHubï¼ŒGitHubçš„ä½¿ç”¨å°±ä¸ç”¨ä»‹ç»äº†</p><p><a href="https://2550505.com/">æ¯›æ€ªä¿±ä¹éƒ¨</a></p><p>æ¯›æ€ªå±…ç„¶æœ‰è‡ªå·±çš„å®˜ç½‘äº†ï¼å¥½åƒåˆšåˆšèµ·æ­¥ï¼Œå¸Œæœ›æ—©æ—¥èƒ½ä¹°åˆ°hanserçš„ä¸“è¾‘ï¼</p><p><a href="https://www.douyin.com/">æŠ–éŸ³-è®°å½•ç¾å¥½ç”Ÿæ´»</a></p><p>ä¸ºäº†é˜²æ²‰è¿·ï¼Œæˆ‘å¸è½½äº†æŠ–éŸ³ï¼›ä½†è¿˜æ˜¯æƒ³åˆ·ï¼Œæœ‰æ—¶å€™å°±çœ‹çœ‹ç½‘é¡µç‰ˆ</p><p><a href="https://eshop-prices.com/?currency=CNY">eShop-Prices.com â€“ The best price comparison tool for Nintendo Switch games â€“ Chinese Renminbi Yuan</a></p><p>ä¸€ä¸ªæ˜¾ç¤ºswitchæ¸¸æˆæœ€ä½ä»·æ ¼çš„ç½‘ç«™ï¼Œä¸è¿‡æˆ‘æ˜¯å¤§æ…ˆå–„å®¶ï¼Œä¹°äº†ä¹Ÿæ²¡æœ‰æ—¶é—´ç©</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528220111823.png" alt=""></p><h2 id="å½±è§†"><a href="#å½±è§†" class="headerlink" title="å½±è§†"></a>å½±è§†</h2><p>ç”±äºä¸‹é¢çš„ç½‘ç«™ç‰¹æ®Šæ€§ï¼Œä»–ä»¬å¸¸å¸¸è·‘è·¯æ¢åŸŸåÂ·Â·Â·</p><p><a href="http://www.rrdyw.net/">äººäººç”µå½±ç½‘</a></p><p><a href="http://www.btbtt15.com/">BTä¹‹å®¶-BTç”µå½±å¤©å ‚-å½±è§†èµ„æºäº¤æµç¤¾åŒº</a></p><p><a href="http://www.kisssub.org/">çˆ±æ‹åŠ¨æ¼«</a></p><p>ä¸‹è½½ç”µå½±ï¼Œç•ªå‰§Â·Â·Â·ç­‰ç­‰çš„åœ°æ–¹ï¼Œå¦‚æœèƒ½æ‰“å¼€çš„è¯ï¼Œéƒ½æŒºå¥½ç”¨çš„</p><p><a href="http://www.age.tv/">åœ¨çº¿åŠ¨ç”» åŠ¨æ¼«ä¸‹è½½ - AGEåŠ¨æ¼«</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæ— å¼¹å¹•ï¼Œæ›´æ–°å¿«</p><p><a href="https://omofun.tv/">OmoFunåŠ¨æ¼«è§†é¢‘ç½‘ - (ï¿£ï¹ƒï¿£)~omO</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæœ‰å¼¹å¹•</p><p><a href="http://dyxs14.com/">ç”µå½±å…ˆç”Ÿ - èšåˆå…¨ç½‘é«˜æ¸…å½±è§†åœ¨çº¿è§‚çœ‹ã€ä¸‹è½½</a></p><p>åœ¨çº¿çœ‹å‰§</p><p><a href="http://www.549.tv/">å½±è§†æ£®æ—â€”â€”è§‚å½±ç¬¬ä¸€ç«™</a></p><p>ä¸€ä¸ªé›†åˆå¯¼èˆªç±»å‹çš„ç½‘ç«™ï¼Œä¸æ€ä¹ˆç”¨ï¼Œé™¤éä¸Šé¢çš„éƒ½æ‰“ä¸å¼€ä¼šè¯•ç€åœ¨é‡Œé¢æ¢ç´¢æ–°çš„</p><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p><a href="https://apod.nasa.gov/">Astronomy Picture of the Day</a></p><p>æ¯å¤©ä¸€å¼ å®‡å®™ç…§ç‰‡å’Œä»‹ç»</p><p><a href="https://wallhaven.cc/">Awesome Wallpapers - wallhaven.cc</a></p><p>ç²¾ç¾çš„å£çº¸ï¼Œç™»å½•è§£é”å…¨éƒ¨å†…å®¹</p><p><a href="https://unsplash.com/">Beautiful Free Images &amp; Pictures | Unsplash</a></p><p>å¥½çœ‹çš„å›¾ç‰‡ï¼Œä¸æ˜¯å£çº¸ç±»å‹çš„</p><p><a href="https://tinypng.com/">TinyPNG</a></p><p><a href="https://www.picdiet.com/zh-cn">Picdiet - å‹ç¼©å›¾ç‰‡</a></p><p>å›¾ç‰‡æ— æŸå‹ç¼©</p><p><a href="https://bigjpg.com/">Bigjpg</a></p><p>å›¾ç‰‡æ— æŸæ”¾å¤§</p><p><a href="https://wordart.com/">WordArt.com - Word Cloud Art Creator</a></p><p>åˆ¶ä½œè¯äº‘å›¾ï¼Œåˆšå¼€å§‹æˆ‘ç”¨pythonï¼Œåæ¥å‘ç°è¿˜æ˜¯ç”¨è¿™ä¸ªæ‹¿å»éª—äººæ•ˆæœå¥½ä¸€ç‚¹</p><p><a href="https://photomosh.com/">PhotoMosh</a></p><p>ä¸€ä¸ªâ€œæ— èŠâ€çš„ç½‘ç«™ï¼Œä¼šéšæœºç»™ä½ çš„å›¾ç‰‡æ¥ç‚¹å›¾åƒå¢å¹¿ï¼Œå»ºè®®è‡ªå·±è¯•è¯•</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221059628.png" alt=""></p><h2 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h2><p>è¿™é‡Œå†™çš„æ˜¯å…³äºè½¯ä»¶çš„ä¹¦ç­¾ï¼Œå¹¶ä¸æ˜¯æ¨èè½¯ä»¶</p><p><a href="https://amazing-apps.gitbooks.io/windows-apps-that-amaze-us/content/zh-CN/?q=">åºç«  Â· ç»èµåº”ç”¨</a></p><p>GitHubä¸Šä¸€ä¸ªæ—¨åœ¨ä»‹ç» Windows ç»å¦™é¡¹ç›®çš„ç½‘ç«™ï¼Œç°åœ¨èƒ½ç”¨ï¼Œä¸è¿‡å¥½åƒæ–­æ›´äº†</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221330033.png" alt=""></p><p><a href="https://music.hwkxk.cn/">éŸ³ä¹åŠ©æ‰‹ - ç®€æ´æé€Ÿæœç´¢è§£æå„å¤§å¹³å°éŸ³ä¹</a></p><p>ç©·äººçš„æœ€çˆ±ï¼Œä¸è¿‡æœ€è¿‘æ— äº†ï¼Œæˆ‘ä¹Ÿæ˜¯å†™è¿™ä¸ªæ‰å‘ç°çš„ï¼Œå¸Œæœ›èƒ½å›æ¥</p><p><a href="https://www.ghxi.com/">æœæ ¸å‰¥å£³ - äº’è”ç½‘çš„å‡€åœŸ</a></p><p><a href="https://www.rjsos.com/">è½¯ä»¶SOS</a></p><p>ä¸¤ä¸ªæˆ‘ä¸‹è½½è½¯ä»¶çš„åœ°æ–¹ï¼Œç±»ä¼¼äºxmindï¼Œbandicamç­‰å¥½ç”¨çš„ä»˜è´¹è½¯ä»¶ä¸Šé¢å¯èƒ½æœ‰ç ´è§£ç‰ˆ</p><h2 id="çŸ¥è¯†"><a href="#çŸ¥è¯†" class="headerlink" title="çŸ¥è¯†"></a>çŸ¥è¯†</h2><p>çœŸæ­£çš„å¹²è´§</p><p><a href="http://www.ucdrs.superlib.net/">å…¨å›½å›¾ä¹¦é¦†å‚è€ƒå’¨è¯¢è”ç›Ÿ</a></p><p><a href="http://libgen.rs/">Library Genesis</a></p><p><a href="https://www.jiumodiary.com/">Jiumo Search é¸ æ‘©æœç´¢</a></p><p><a href="https://zh.z-lib.org/">Z-Library</a></p><p>ä»¥ä¸Šæ˜¯ä¸‹è½½ç”µå­ä¹¦çš„åœ°æ–¹ï¼Œzlibraryä½¿ç”¨é¢‘ç‡æœ€é«˜ï¼Œæˆ‘è¿˜æœ‰æŠŠæˆ‘æœ‰ä¸Šé¢æ²¡æœ‰çš„pdfä¸Šä¼ ï¼Œç¬¬äºŒä¸ªä¸‹è½½å›½å¤–çš„ä¹¦ç”¨çš„ï¼Œé¸ æ‘©åƒæ˜¯ä¸ªç™¾åº¦ç½‘ç›˜æœç´¢ç½‘ç«™ï¼Œèµ°æŠ•æ— è·¯çš„æ—¶å€™ä¼šæœï¼›æœ€åè¿™ä¸ªå‚è€ƒå’¨è¯¢è”ç›Ÿå…¶å®æœ¬èº«æ²¡ä»€ä¹ˆåµç”¨ï¼Œä½†ç»“åˆæ²¹çŒ´è„šæœ¬å¯ä»¥ç®€å•åœ°èŠ±1,2å—é’±ä¹°åˆ°pdfï¼Œæ¯”æ·˜å®æ–¹ä¾¿</p><p><a href="https://apps.webofknowledge.com/UA_GeneralSearch_input.do?product=UA&amp;search_mode=GeneralSearch&amp;SID=D4NArRzmguT3sCmspng&amp;preferencesSaved=">Web of Science</a></p><p><a href="https://www.cnki.net/">ä¸­å›½çŸ¥ç½‘</a></p><p><a href="https://scholar.google.com/">Google Scholar</a></p><p><a href="https://xueshu.baidu.com/">ç™¾åº¦å­¦æœ¯</a></p><p><a href="https://readpaper.com/">è®ºæ–‡é˜…è¯»-ä¸“ä¸šçš„å­¦æœ¯è®¨è®ºç¤¾åŒº</a></p><p>åŸºæœ¬åªç”¨webofscienceå’Œè°·æ­Œå­¦æœ¯ï¼Œç™¾åº¦å­¦æœ¯ç”¨æ¥æ‰¹é‡å¼•ç”¨ï¼›é‚£ä¸ªç¤¾åŒºå¯ä»¥è¯»è¯»æ–‡çŒ®ï¼Œåˆ’è¯ç¿»è¯‘ï¼Œä¸è¿‡èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½çš„æ–¹å¼å®åœ¨å¤ªå¤šäº†ï¼›çŸ¥ç½‘å¤§ä¸€å†™æ”¿æ²»è¯¾ä½œä¸šçš„æ—¶å€™è¿˜ç”¨ï¼Œç°åœ¨æˆ‘ç”šè‡³ç‚¹ä¸å¼€äº†ã€‚</p><p><a href="https://oi-wiki.org/">OI Wiki</a></p><p><a href="https://labuladong.gitee.io/algo/">labuladong çš„ç®—æ³•å°æŠ„ </a></p><p>æ”¶è—äº†ä½†å°±æ˜¯æ‡’å¾—ç‚¹å¼€çš„ç®—æ³•çŸ¥è¯†</p><p><a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹</a></p><p><a href="https://missing-semester-cn.github.io/">è®¡ç®—æœºæ•™è‚²ä¸­ç¼ºå¤±çš„ä¸€è¯¾</a></p><p>é«˜è´¨é‡è‡ªå­¦å†…å®¹ï¼Œä½†å°±æ˜¯å¾ˆéš¾æœ‰è¢«ç‚¹å¼€çš„æœºä¼š</p><p><a href="https://zh.wikipedia.org/wiki/Wikipedia:é¦–é¡µ">ç»´åŸºç™¾ç§‘</a></p><p>è™½ç„¶æ”¶è—çš„æ˜¯ä¸­æ–‡é¦–é¡µï¼Œä½†è¿˜æ˜¯ç”¨çš„è‹±æ–‡ç‰ˆæœèµ„æ–™ï¼ˆä¼šå…¨å¾ˆå¤šï¼Œç¿»è¯‘ä¸åŠæ—¶ï¼‰</p><p><a href="https://www.latexlive.com/">åœ¨çº¿LaTeXå…¬å¼ç¼–è¾‘å™¨</a></p><p>ocrå…¬å¼ï¼Œä»¥å‰ä¸€å¤©50æ¬¡ï¼Œç°åœ¨ä¸€å¤©10æ¬¡ï¼Œæ”¹ç”¨mathpixäº†</p><p><a href="https://paperswithcode.com/sota">State-of-the-Art</a></p><p>æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ å†™ä½œä¸šçš„æ—¶å€™çš„çµæ„Ÿæ¥æºï¼Œæˆ–è€…è¯´æ˜¯å€Ÿé‰´æ¥æºï¼›paperwithcodeçœŸçš„å¾ˆæ–¹ä¾¿</p><p><a href="https://cn.overleaf.com/latex/templates">Templates - - Overleaf</a></p><p>å°ç»„å¤§ä½œä¸šä¼šå¤§å®¶ä¸€èµ·ç”¨è¿™ä¸ªåœ¨çº¿ç¼–è¯‘ï¼Œæ¨¡æ¿çš„è¯æˆ‘è¿˜æ˜¯ä¹ æƒ¯è‡ªå·±å¸¸å¤‡çš„é‚£3ä¸ª</p><p><a href="https://spcqwserdvymm.com.vika.cn/share/shryNwH3HRgvzMTaZVAGx/fodkuzz5eaw0w">ğŸ”” Efficiency-follow</a></p><p>ä¹±ä¸ƒå…«ç³Ÿçš„å¥½ä¸œè¥¿åˆé›†ï¼Œè‡ªå·±æ¢ç´¢å§</p><p><a href="https://snip.mathpix.com/">Snip Notes</a></p><p>mathpixä»–ä»¬çš„ä¸€ä¸ªäº§å“ï¼Œæˆ‘æ‹¿æ¥ä¸Šä¼ è€å¸ˆå‘çš„pdfç„¶åæå–å†…å®¹æ”¾åˆ°æˆ‘çš„ä½œä¸šé‡Œ</p><p><a href="https://quillbot.com/">Paraphrasing Tool | QuillBot AI</a></p><p>è‹±æ–‡å†™ä½œå°å¸®æ‰‹ï¼Œå†™å‡ºæ¥ä¹‹åèƒ½å¸®å¿™æå‡æµç•…åº¦ã€ä¸“ä¸šæ€§ç­‰ç­‰ç­‰ç­‰ï¼ŒåŠŸèƒ½é«˜çº§çš„éƒ¨åˆ†è¦ä»˜è´¹</p><p><a href="https://stackoverflow.com/">Stack Overflow</a></p><p>ç¨‹åºçŒ¿çš„â€œçŸ¥ä¹â€ï¼Œä¸€èˆ¬æœ‰bugåœ¨è¿™ä¸€æœéƒ½èƒ½æœåˆ°ï¼Œæˆ‘æ²¡æ€ä¹ˆè¯•è¿‡é—®ç­”</p><p><a href="https://zs.symbolab.com/">Symbolab æ•°å­¦æ±‚è§£å™¨ - åˆ†æ­¥è®¡ç®—å™¨</a></p><p>å½“ä½ é«˜æ•°çŸ¥è¯†å¿˜çš„ä¸€å¹²äºŒå‡€ï¼Œé‡åˆ°é—®é¢˜å°±ç”¨è¿™ä¸ªæ¥è§£å§ï¼Œè¿˜æœ‰åˆ†æ­¥è¿‡ç¨‹</p><p><a href="https://www.ilovepdf.com/zh-cn/unlock_pdf">è§£é” PDFæ–‡ä»¶</a></p><p>é‡Œé¢è¿˜æœ‰å„ç§å„æ ·çš„pdfåŠŸèƒ½ï¼Œä¸è¿‡å­¦æ ¡æä¾›çš„æ­£ç‰ˆfoxitä¹ŸåŸºæœ¬éƒ½æœ‰ï¼Œä¸»è¦æ˜¯ç”¨æ¥è§£é”deeplç¿»è¯‘çš„æ–‡æ¡£ï¼ˆåªè¯»ï¼‰</p><h1 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h1><h2 id="å»å¹¿å‘Š"><a href="#å»å¹¿å‘Š" class="headerlink" title="å»å¹¿å‘Š"></a>å»å¹¿å‘Š</h2><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223252001.png" alt=""></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223408102.png" alt=""></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223542478.png" alt=""></p><p><a href="https://chrome.google.com/webstore/detail/adblock-plus-free-ad-bloc/cfhdojbkjhnklbpkdaibdccddilifddb">Adblock Plus</a></p><p><a href="https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom">AdBlock</a></p><p><a href="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm">uBlock Origin</a></p><p>è¿™ä»¨å°±æ²¡ä»€ä¹ˆå¥½è§£é‡Šçš„ï¼Œå¯¹å¹¿å‘Šé›¶å®¹å¿ï¼Œä¹Ÿä¸å«Œå¤šå°±éƒ½è£…äº†ï¼›å¯ä»¥æŒ‡å®šå±è”½å†…å®¹ï¼Œæˆ‘æŠŠGitHubä¸Šé‚£äº›*ç‹¬åˆ†å­éƒ½å±è”½äº†</p><h2 id="é‚®ä»¶"><a href="#é‚®ä»¶" class="headerlink" title="é‚®ä»¶"></a>é‚®ä»¶</h2><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223729300.png" alt=""></p><p>æ–¹ä¾¿æˆ‘æŸ¥æ”¶<a href="https://chrome.google.com/webstore/detail/checker-plus-for-gmail/oeopbcgkkoapgobdbedcemjljbihmemj">gmail</a>çš„é‚®ä»¶ï¼Œä¼šæœ‰æ¶ˆæ¯æé†’ç­‰</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223816247.png" alt=""></p><p>ä½œä¸ºä¸€ä¸ªå¼ºè¿«ç—‡ï¼Œæˆ‘çœ‹åˆ°æˆ‘çš„æ¯ä¸€ä¸ªç›˜å¤šäº†å‡ MB<a href="https://chrome.google.com/webstore/detail/clean-master-the-best-chr/eagiakjmjnblliacokhcalebgnhellfi">åƒåœ¾</a>æˆ‘éƒ½ä¼šå¾ˆéš¾å—</p><h2 id="ç¿»è¯‘å†™ä½œ"><a href="#ç¿»è¯‘å†™ä½œ" class="headerlink" title="ç¿»è¯‘å†™ä½œ"></a>ç¿»è¯‘å†™ä½œ</h2><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223919801.png" alt=""></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223946957.png" alt=""></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224113309.png" alt=""></p><p>åˆšå¼€å§‹åªç”¨<a href="https://chrome.google.com/webstore/detail/%E6%B2%99%E6%8B%89%E6%9F%A5%E8%AF%8D-%E8%81%9A%E5%90%88%E8%AF%8D%E5%85%B8%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91/cdonnmffkdaoajfknoeeecmchibpmkmg">æ²™æ‹‰æŸ¥è¯</a>çš„ï¼Œå„ç§åŠŸèƒ½éå¸¸å…¨é¢ï¼›åæ¥ç”¨<a href="https://chrome.google.com/webstore/detail/deepl-translate-beta-vers/cofdbpoegempjloogbagkncekinflcnj">deepl</a>è¾¹å†™è¾¹è¯‘ï¼ˆä¸­è¯‘è‹±ï¼‰ï¼Œæ–¹ä¾¿è·Ÿå¤–å›½å‹äººäº¤æµï¼Œå†™å®Œçš„å†…å®¹è¿˜å¯ä»¥ç”¨<a href="https://chrome.google.com/webstore/detail/quillbot-for-chrome/iidnbdjijdkbmajdffnidomddglmieko">quillbot</a>ä¿®æ”¹æ¶¦è‰²ã€‚è™½ç„¶ä»¥ä¸Šå†…å®¹åªä¼šæ˜¾å¾—æˆ‘è‹±è¯­æ°´å¹³å¾ˆæï¼Œä½†æˆ‘ç”¨çš„è›®å¼€å¿ƒ</p><h2 id="ä½¿ç”¨ä½“éªŒ"><a href="#ä½¿ç”¨ä½“éªŒ" class="headerlink" title="ä½¿ç”¨ä½“éªŒ"></a>ä½¿ç”¨ä½“éªŒ</h2><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224252617.png" alt=""></p><p><a href="https://chrome.google.com/webstore/detail/gitzip-for-github/ffabmkklhbepgcgfonabamgnfafbdlkn">gitzip</a>ï¼Œæ‰“åŒ…GitHubä¸ŠæŒ‡å®šæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œä¸ç”¨å…¨éƒ¨cloneä¸‹æ¥æ–¹ä¾¿å¾ˆå¤š</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224450069.png" alt=""></p><p><a href="https://limestart.cn/">é’æŸ èµ·å§‹é¡µ</a></p><p>è™½ç„¶è£…äº†æ‰©å±•ä½†ä¸»è¦è¿˜æ˜¯ä½¿ç”¨è¿™ä¸ªç½‘é¡µï¼Œæˆ‘çš„æ–°æ ‡ç­¾é¡µä¸»é¡µéƒ½æ˜¯è¿™ä¸ªï¼Œç®€æ´ç¾è§‚ï¼Œå·¦ä¸Šè§’æ˜¯ä¾¿ç­¾å¯ä»¥å€’è®¡æ—¶ã€‚</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224715406.png" alt=""></p><p><a href="https://extensions.redeviation.com/">ä¹¦ç­¾ä¾§è¾¹æ </a>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘é‚£ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¹¦ç­¾å°±æ˜¯è¿™æ ·æ‰“ç†çš„</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224903817.png" alt=""></p><p><a href="https://chrome.google.com/webstore/detail/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8A%A9%E6%89%8B%EF%BC%9Abilibilicom-%E7%BB%BC%E5%90%88%E8%BE%85%E5%8A%A9%E6%89%A9%E5%B1%95/kpbnombpnpcffllnianjibmpadjolanh">å“”å“©å“”å“©åŠ©æ‰‹</a>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘çš„ä¹¦ç­¾é‡Œæ²¡æœ‰bç«™çš„åŸå› ï¼Œæˆ‘éƒ½æ˜¯ä»è¿™é‡Œè·³è½¬çš„ã€‚åŠŸèƒ½éå¸¸éå¸¸ä¸°å¯Œï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä¸‹è½½å„ä¸ªåˆ†è¾¨ç‡çš„è§†é¢‘å’Œå¼¹å¹•ï¼Œå®ç°å„ç§å„æ ·çš„é»˜è®¤è·³è½¬ï¼ˆè‡ªåŠ¨å®½å±ï¼Œå…³å¼¹å¹•ï¼Œ4kÂ·Â·Â·ï¼‰ï¼Œè‡ªåŠ¨å¸®æˆ‘ç»™hanserä¸‰è¿</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225202730.png" alt=""></p><p>è™½ç„¶ç»å¸¸è¯´æ²¹çŒ´è„šæœ¬ï¼Œä½†æˆ‘è‡ªå·±ç”¨çš„è¿˜æ˜¯æš´åŠ›çŒ´ï¼Œä½œè€…æ˜¯ä¸­å›½äººï¼Œåœ¨å“ªäº›ç½‘é¡µä½¿ç”¨ä½“éªŒä¸å¥½äº†æˆ‘å°±æœä¸€ä¸‹</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225352529.png" alt=""></p><p>å¾€å¾€ä¼šæœ‰æƒŠå–œ</p><p>æœ¬æ¥æƒ³ä¸“é—¨å†™ä¸€ä¸ªæ ç›®ä»‹ç»äº†ï¼Œä½†æˆ‘å¥½ç´¯</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225516406.png" alt=""></p><p>å¤§å®¶çœ‹åå­—è¯†åŠŸèƒ½å§</p><p>æ¯”è¾ƒæ¨èçš„æœ‰ç½‘é¡µé™åˆ¶è§£é™¤ï¼Œå¾ˆå¤šç½‘ç«™ä¸èƒ½å¤åˆ¶å°±å¾ˆçƒ¦ï¼›ç§€è¯»å›¾ä¹¦äº’è½¬ï¼Œç»“åˆè¿™ä¸ªä¸Šé¢æåˆ°çš„å‚è€ƒå’¨è¯¢è”ç›Ÿæ‰èƒ½è½»æ¾ä¸‹è½½pdfï¼›</p><p>ç™¾åº¦ç½‘ç›˜ç®€æ˜“ä¸‹è½½åŠ©æ‰‹ï¼Œç›®å‰è¿˜èƒ½ç”¨ï¼Œæ ¡å›­ç½‘æ»¡é€Ÿï¼›AC-baiduï¼Œå¯¹ç™¾åº¦è°·æ­Œç­‰ç•Œé¢éƒ½ä¼˜åŒ–äº†ã€‚ï¼ˆé»‘æ˜¯å› ä¸ºæˆ‘ç³»ç»Ÿè®¾ç½®äº†æš—ï¼‰</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225804605.png" alt=""></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225854431.png" alt=""></p><h1 id="è½¯ä»¶-1"><a href="#è½¯ä»¶-1" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h1><p>æ²¡åŠ¨åŠ›å†™äº†ï¼Œæ‘†çƒ‚å¼æ¨è</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230140552.png" alt=""></p><p>foxit pdfï¼šåŠŸèƒ½å…¨é¢ï¼Œæ¯•ç«Ÿæ˜¯å­¦æ ¡å¸®å¿™ä»˜è´¹äº†çš„</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230232796.png" alt=""></p><p>vscodeï¼šå•¥éƒ½èƒ½å†™ï¼ŒåŠ ä¸Šcopilotï¼Œä¸€åˆ†é’Ÿä¸Šåƒè¡Œä»£ç ä¸æ˜¯æ¢¦ï¼ˆbushiï¼‰</p><p>æ„Ÿè§‰vscodeä¹Ÿå¯ä»¥å†™ä¸€ä¸ªæ‰©å±•åˆ†äº«ï¼Œ ä½†æˆ‘å¥½æ‡’ï¼Œæ„Ÿå…´è¶£åœ°å¯ä»¥äº†è§£ä¸€ä¸‹å›¾é‡Œè¿™ä¸ªï¼Œæ ¹æ®æ³¨é‡Šè‡ªåŠ¨å†™ä»£ç </p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230544526.png" alt=""></p><p>æ ¼å¼å·¥å‚ï¼šå•¥éƒ½èƒ½ç»™ä½ è½¬è½¬ï¼Œé™¤äº†å„ç§æ ¼å¼è½¬æ¢ï¼Œæˆ‘è¿˜ç”¨æ¥ç®€å•åœ°å‰ªè¾‘ä¹‹ç±»çš„ï¼›å¯ä»¥æŠŠå„å¤§è½¯ä»¶çš„ä»˜è´¹æ ¼å¼è½¬æ¢æˆå¸¸è§æ ¼å¼</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230709483.png" alt=""></p><p>anacondaï¼šmaybeæ˜¯pythonå­¦ä¹ å¿…å¤‡è½¯ä»¶ä¹‹ä¸€ï¼ˆå§ï¼‰,æ­å»ºç¯å¢ƒä¹‹åæˆ‘æ›´ä¹ æƒ¯å†™jupyter notebookï¼ˆä½†ç”¨çš„æ˜¯vscodeï¼‰</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528231002743.png" alt=""></p><p>mathpixï¼šä¸Šé¢ä¸€å¼ å›¾å±•ç¤ºåŠŸèƒ½ï¼Œå¿«æ·é”®æˆªå›¾ä¹‹åå°±èƒ½ocrå‡ºæ¥è´´typoraæˆ–è€…latexï¼Œç”šè‡³officeç³»åˆ—è½¯ä»¶</p><p>æ•™è‚²é‚®ç®±æ¯æœˆ100æ¬¡</p><p>åˆ—ä¸¾å‰©ä¸‹çš„ä¸€äº›ä½“éªŒè‰¯å¥½çš„è½¯ä»¶ï¼š</p><p>è§†é¢‘æ’­æ”¾æˆ‘ç”¨potplayerï¼›è§£å‹ç¼©æˆ‘ç”¨bandizipï¼›è§†é¢‘å½•åˆ¶æˆ‘ç”¨bandicamï¼›æ€ç»´å¯¼å›¾æˆ‘ç”¨xmindï¼›</p><p>æµè§ˆå™¨å½“ç„¶æ˜¯chromeï¼Œä¸è¿‡edgeä¹Ÿå¾ˆä¸é”™ï¼›å¤‡å¿˜å½•ç”¨microsoft to doï¼›</p><p>å¤‡ä»½ä¹ æƒ¯ç”¨google driveï¼Œæ‰“æ¸¸æˆç”¨ä¸€ä¸ªå«çµç¼‡çš„å°ä¼—åŠ é€Ÿå™¨Â·Â·Â·Â·Â·</p><p>æš‚æ—¶åˆ°è¿™é‡Œå§ï¼Œå¦‚æœæˆ‘åˆåŒå’å•å¿ƒè¡€æ¥æ½®ä¹Ÿè®¸ä¼šæ›´æ–°ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528213455416.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸€æ—¶å…´èµ·ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æ¨èï¼›éœ€è¦ä»˜è´¹çš„ä¹Ÿå¾ˆå¤šï¼Œä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒæ­£ç‰ˆ&lt;/p&gt;</summary>
    
    
    
    
    <category term="é—²è°ˆ" scheme="http://enderfga.cn/tags/%E9%97%B2%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æ„ŸçŸ¥</title>
    <link href="http://enderfga.cn/2022/05/27/robot7/"/>
    <id>http://enderfga.cn/2022/05/27/robot7/</id>
    <published>2022-05-27T07:53:41.000Z</published>
    <updated>2022-05-28T16:35:37.060Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220527155651383.png" alt=""></p><embed src="./Perception.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>å¯é æ•°æ®ä¼ è¾“åŸç†</title>
    <link href="http://enderfga.cn/2022/05/17/net5/"/>
    <id>http://enderfga.cn/2022/05/17/net5/</id>
    <published>2022-05-16T23:52:24.000Z</published>
    <updated>2022-05-28T16:35:37.073Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç¬¬ä¸‰ç« è¿è¾“å±‚ä¹‹å¯é æ•°æ®ä¼ è¾“åŸç†</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220517080217.png" alt=""></p><span id="more"></span><embed src="./ARQ.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;ç¬¬ä¸‰ç« è¿è¾“å±‚ä¹‹å¯é æ•°æ®ä¼ è¾“åŸç†&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220517080217.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>2Ræœºæ¢°è‡‚äº”æ¬¡å¤šé¡¹å¼è½¨è¿¹è§„åˆ’</title>
    <link href="http://enderfga.cn/2022/05/16/robot6/"/>
    <id>http://enderfga.cn/2022/05/16/robot6/</id>
    <published>2022-05-16T15:56:27.000Z</published>
    <updated>2022-06-20T00:55:56.568Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220516000042.png" alt=""></p><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><embed src="./2R.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220516000042.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>C2TCPï¼šä¸€ä¸ªè¶…ä½å»¶è¿Ÿçš„çµæ´»èœ‚çªå¼TCP</title>
    <link href="http://enderfga.cn/2022/05/16/net4/"/>
    <id>http://enderfga.cn/2022/05/16/net4/</id>
    <published>2022-05-16T00:59:15.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç®—æœºç½‘ç»œå‰æ²¿è®ºæ–‡å¯¼è¯»</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2432716a34cb4571ac86e2b7f56f617.png" alt=""></p><span id="more"></span><embed src="./C2TCP.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç®—æœºç½‘ç»œå‰æ²¿è®ºæ–‡å¯¼è¯»&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2432716a34cb4571ac86e2b7f56f617.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·</title>
    <link href="http://enderfga.cn/2022/05/15/robot5/"/>
    <id>http://enderfga.cn/2022/05/15/robot5/</id>
    <published>2022-05-15T06:05:29.000Z</published>
    <updated>2022-06-20T00:56:08.960Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><h1 id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·"><a href="#æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·" class="headerlink" title="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·"></a>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·</h1><p>ä¸€ã€ç»™å®šå¹³é¢2Ræœºæ¢°è‡‚çŠ¶æ€å‚æ•°ï¼Œ</p><p>çŠ¶æ€æè¿°ï¼š</p><ul><li>å…³èŠ‚çŠ¶æ€: $\quad\left[\theta_{1}, \theta_{2}\right]^{\mathrm{T}}$</li><li>æœ«ç«¯ä½ç½®: $\quad\left[x_{e}, y_{e}\right]^{\mathrm{T}}$</li></ul><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220508155155580.png" alt=""></p><ol><li><p>è®¡ç®—é€†è¿åŠ¨å­¦ï¼Œæ±‚è§£å…³èŠ‚è§’çš„è¡¨è¾¾å¼ï¼ˆå·²çŸ¥æœ«ç«¯ä½ç½®$\quad\left[x_{e}, y_{e}\right]^{\mathrm{T}}$ï¼Œæ±‚å…³èŠ‚è§’$\quad\left[\theta_{1}, \theta_{2}\right]^{\mathrm{T}}$ï¼‰</p><p>æ ¹æ®å‡ ä½•å…³ç³», å¯æ¨å¯¼å‡ºæœºæ¢°è‡‚æœ«ç«¯ä½ç½®ä¸æœºæ¢°è‡‚å…³èŠ‚å˜é‡çš„å…³ç³»:</p><script type="math/tex; mode=display">\begin{array}{l}p_{\mathrm{ex}}=l_{1} c_{1}+l_{2} c_{12} \\p_{\mathrm{ey}}=l_{1} s_{1}+l_{2} s_{12}\end{array}</script><p>å…¶ä¸­,</p><script type="math/tex; mode=display">\left\{\begin{array}{l}s_{1}=\sin \theta_{1}, c_{1}=\cos \theta_{1} \\s_{12}=\sin \left(\theta_{1}+\theta_{2}\right), c_{12}=\cos \left(\theta_{1}+\theta_{2}\right)\end{array}\right.</script><p>å…¶å‘é‡å½¢å¼ä¸ºï¼š</p><script type="math/tex; mode=display">p_{\mathrm{e}}=\left[\begin{array}{l}p_{\mathrm{ex}} \\p_{\mathrm{e} y}\end{array}\right]=\left[\begin{array}{l}l_{1} c_{1}+l_{2} c_{12} \\l_{1} s_{1}+l_{2} s_{12}\end{array}\right]=\left[\begin{array}{l}l_{1} \cos \theta_{1}+l_{2} \cos \left(\theta_{1}+\theta_{2}\right) \\l_{1} \sin \theta_{1}+l_{2} \sin \left(\theta_{1}+\theta_{2}\right)\end{array}\right]</script><p>å°†å¼å­ä¸¤è¾¹çš„å¹³æ–¹ç›¸åŠ , æœ‰</p><script type="math/tex; mode=display">p_{\mathrm{e}}^{2}=l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2}\left(c_{1} c_{12}+s_{1} s_{12}\right)</script><p>$p_{\mathrm{e}}^{2}=p_{\mathrm{ex}}^{2}+p_{\mathrm{ey}}^{2}$ ä¸ºåŸºåæ ‡ç³»åŸç‚¹åˆ°æœ«ç«¯åæ ‡ç³»åŸç‚¹çš„è·ç¦»ã€‚</p><p>æ ¹æ®ä¸‰è§’å‡½æ•°çš„æ€§è´¨, æœ‰</p><script type="math/tex; mode=display">c_{1} c_{12}+s_{1} s_{12}=c_{2}</script><p>æ•…å¯åŒ–ç®€ä¸º</p><script type="math/tex; mode=display">p_{\mathrm{e}}^{2}=l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2} c_{2}</script><p>å› æ­¤ï¼Œ</p><script type="math/tex; mode=display">\left\{\begin{array}{l}p_{\mathrm{e}}^{2} \leqslant l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2}=\left(l_{1}+l_{2}\right)^{2} \\p_{\mathrm{e}}^{2} \geqslant l_{1}^{2}+l_{2}^{2}-2 l_{1} l_{2}=\left(l_{1}-l_{2}\right)^{2}\end{array}\right.\\\left|l_{1}-l_{2}\right| \leqslant p_{e} \leqslant l_{1}+l_{2}</script><p>ä¸Šå¼å³è¡¨ç¤ºäº†è¯¥ $2 \mathrm{R}$ æœºæ¢°è‡‚çš„å·¥ä½œç©ºé—´èŒƒå›´, å…¶æœ€å°è¾¹æ²¿å’Œæœ€å¤§è¾¹æ²¿åˆ†åˆ«å¯¹åº”äº $\theta_{2}=\pi$ å’Œ $\theta_{2}=0$ çš„æƒ…å†µã€‚</p><p>è¿›ä¸€æ­¥æœ‰ï¼Œ</p><script type="math/tex; mode=display">\left|\frac{p_{\mathrm{e}}^{2}-l_{1}^{2}-l_{2}^{2}}{2 l_{1} l_{2}}\right| \leqslant 1</script><p>è§£å¾—ï¼š</p><script type="math/tex; mode=display">\theta_{2}=\pm \arccos \frac{p_{\mathrm{e}}^{2}-l_{1}^{2}-l_{2}^{2}}{2 l_{1} l_{2}}=\pm \arccos \frac{x_{\mathrm{e}}^{2}+y_{\mathrm{e}}^{2}-l_{1}^{2}-l_{2}^{2}}{2 l_{1} l_{2}}</script><p>å…³èŠ‚è§’ $\theta_{2}$ è§£å‡ºå, å°†å…¶ä»£å…¥æ–¹ç¨‹ç»„ä¸­, å¯è¿›ä¸€æ­¥è§£å‡ºå…³èŠ‚è§’ $\theta_{1}$ ã€‚é¦–å…ˆæ ¹æ®ä¸‰è§’å‡½æ•°çš„æ€§è´¨:</p><script type="math/tex; mode=display">\begin{aligned}&c_{12}=c_{1} c_{2}-s_{1} s_{2} \\&s_{12}=s_{1} c_{2}+c_{1} s_{2}\end{aligned}</script><p>æœ‰ï¼Œ</p><script type="math/tex; mode=display">\left\{\begin{array}{l}\left(l_{1}+l_{2} c_{2}\right) c_{1}-l_{2} s_{2} s_{1}=p_{\mathrm{ex}} \\l_{2} s_{2} c_{1}+\left(l_{1}+l_{2} c_{2}\right) s_{1}=p_{\mathrm{e} y}\end{array}\right.</script><p>å¯å†™æˆå¦‚ä¸‹å½¢å¼:</p><script type="math/tex; mode=display">\left[\begin{array}{cc}l_{1}+l_{2} c_{2} & -l_{2} s_{2} \\l_{2} s_{2} & l_{1}+l_{2} c_{2}\end{array}\right]\left[\begin{array}{l}c_{1} \\s_{1}\end{array}\right]=\left[\begin{array}{l}p_{e x} \\p_{\mathrm{ey}}\end{array}\right]</script><p>æ–¹ç¨‹ç»„çš„ç³»æ•°çŸ©é˜µ $\boldsymbol{A}$ åŠå…¶è¡Œåˆ—å¼åˆ†åˆ«ä¸º</p><script type="math/tex; mode=display">\boldsymbol{A}=\left[\begin{array}{cc}l_{1}+l_{2} c_{2} & -l_{2} s_{2} \\l_{2} s_{2} & l_{1}+l_{2} c_{2}\end{array}\right], \operatorname{det}(\boldsymbol{A})=l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2} c_{2}</script><p>è‹¥ $\operatorname{det}(\boldsymbol{A}) \neq 0$, åˆ™çŸ©é˜µ $\boldsymbol{A}$ æ»¡ç§©, æ–¹ç¨‹ç»„æœ‰è§£, å³:</p><script type="math/tex; mode=display">\left[\begin{array}{l}c_{1} \\s_{1}\end{array}\right]=\left[\begin{array}{cc}l_{1}+l_{2} c_{2} & -l_{2} s_{2} \\l_{2} s_{2} & l_{1}+l_{2} c_{2}\end{array}\right]^{-1}\left[\begin{array}{l}p_{\mathrm{ex}} \\p_{\mathrm{ey}}\end{array}\right]=\frac{1}{l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2} c_{2}}\left[\begin{array}{c}\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ex}}+l_{2} s_{2} p_{\mathrm{ey}} \\-l_{2} s_{2} p_{\mathrm{ex}}+\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ey}}\end{array}\right]</script><p>$\theta_{1}$ å¯æ ¹æ®è§£å‡ºçš„ $s_{1}$ å’Œ $c_{1}$ æ±‚å‡º, å³:</p><script type="math/tex; mode=display">\begin{aligned}\theta_{1} &=\arctan 2\left(s_{1}, c_{1}\right)=\arctan 2\left(\frac{-l_{2} s_{2} p_{\mathrm{ex}}+\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ey}}}{l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2} c_{2}}, \frac{\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ex}}+l_{2} s_{2} p_{\mathrm{ey}}}{l_{1}^{2}+l_{2}^{2}+2 l_{1} l_{2} c_{2}}\right) \\&=\arctan 2\left(-l_{2} s_{2} p_{\mathrm{ex}}+\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ey}},\left(l_{1}+l_{2} c_{2}\right) p_{\mathrm{ex}}+l_{2} s_{2} p_{\mathrm{ey}}\right)\end{aligned}</script><p>æ ¹æ®åŸºæœ¬ä¸ç­‰å¼åŠä¸‰çº§å‡½æ•°çš„æ€§è´¨, ä»¤ $\operatorname{det}(\boldsymbol{A})=0$, åˆ™å¿…æœ‰ $l_{1}=l_{2}$ ä¸” $\theta_{2}=\pi$, å³:</p><script type="math/tex; mode=display">\operatorname{det}(\boldsymbol{A})=0 \Rightarrow\left\{\begin{array} { l } { l _ { 1 } ^ { 2 } + l _ { 2 } ^ { 2 } + 2 l _ { 1 } l _ { 2 } c _ { 2 } = 0 } \\{ l _ { 1 } ^ { 2 } + l _ { 2 } ^ { 2 } \geqslant 2 l _ { 1 } l _ { 2 } } \\{ | c _ { 2 } | \leqslant 1 }\end{array} \Rightarrow \left\{\begin{array}{l}l_{1}=l_{2} \\\theta_{2}=\pi\end{array}\right.\right.</script><p>ç»¼ä¸Šæ‰€è¿°, ç»“æœå¯ä»¥æ±‚å‡ºä¸¤ç»„è§£, å¯¹åº”äºæœºå™¨äººçš„ä¸¤ç§è‡‚å‹, åˆ†åˆ«ç§°ä¸ºé«˜è‡‚ (è‚˜) å’Œä½è‡‚ (è‚˜), å¹³é¢ $2 \mathrm{R}$ æœºæ¢°è‡‚é€†è¿åŠ¨å­¦å¤šè§£æƒ…å†µåˆ†æä¸‹å›¾æ‰€ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´, å¯¹äºå‰è¿°çš„ $2 \mathrm{R}$ æœºæ¢°è‡‚, å½“ç»™å®šæœ«ç«¯ç‚¹çš„ä¸€ä¸ªä½ç½® $\boldsymbol{p}_{\mathrm{e}}$ æ—¶, æœ‰ä¸¤ç»„å…³èŠ‚è§’ä¸ä¹‹å¯¹åº”, å³ä½ç½®çº§é€†è¿åŠ¨å­¦æœ‰å¤šè§£ã€‚</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220515125458389.png" alt=""></p></li><li>è®¡ç®—é›…å…‹æ¯”çŸ©é˜µ</li></ol><p>æ ¹æ®æœºæ¢°è‡‚æœ«ç«¯ä½ç½®ä¸æœºæ¢°è‡‚å…³èŠ‚å˜é‡çš„å…³ç³»æ±‚å¯¼å¾—ï¼š</p><script type="math/tex; mode=display">\left\{\begin{array}{l}\dot{p}_{\mathrm{ex}}=-l_{1} s_{1} \dot{\theta}_{1}-l_{2} s_{12}\left(\dot{\theta}_{1}+\dot{\theta}_{2}\right)=-\left(l_{1} s_{1}+l_{2} s_{12}\right) \dot{\theta}_{1}-l_{2} s_{12} \dot{\theta}_{2} \\\dot{p}_{\mathrm{cy}}=l_{1} c_{1} \dot{\theta}_{1}+l_{2} c_{12}\left(\dot{\theta}_{1}+\dot{\theta}_{2}\right)=\left(l_{1} c_{1}+l_{2} c_{12}\right) \dot{\theta}_{1}+l_{2} c_{12} \dot{\theta}_{2} \\\end{array}\right.</script><p>å³:</p><script type="math/tex; mode=display">\left[\begin{array}{l}\dot{p}_{\mathrm{ex}} \\\dot{p}_{\mathrm{ey}}\end{array}\right]=\left[\begin{array}{cc}-l_{1} s_{1}-l_{2} s_{12} & -l_{2} s_{12} \\l_{1} c_{1}+l_{2} c_{12} & l_{2} c_{12}\end{array}\right]\left[\begin{array}{l}\dot{\theta}_{1} \\\dot{\theta}_{2}\end{array}\right]</script><p>å…¶çŸ©é˜µå½¢å¼ä¸ºï¼š</p><script type="math/tex; mode=display">\dot{\boldsymbol{p}}_{\mathrm{e}}=\boldsymbol{J}_{v}(\boldsymbol{\Theta}) \dot{\boldsymbol{\Theta}}</script><p>æ­¤æ—¶, $\boldsymbol{J}_{v}$ ä¸º $2 \times 2$ çš„æ–¹é˜µ:</p><script type="math/tex; mode=display">\boldsymbol{J}_{v}=\left[\begin{array}{cc}-l_{1} s_{1}-l_{2} s_{12} & -l_{2} s_{12} \\l_{1} c_{1}+l_{2} c_{12} & l_{2} c_{12}\end{array}\right]</script><p>äºŒã€ç»™å®šD-Håæ ‡ç³»ï¼Œå¡«å†™D-Hå‚æ•°è¡¨ã€‚</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220515131813671.png" alt=""></p><script type="math/tex; mode=display">\begin{array}{ccccc}\hline  \text { è¿æ†i } & \theta_{i} & \alpha_{i} & a_{i} & d_{i} \\\hline1 & 0 & -90^{\circ} & 0 & d_{1} \\2 & 0 & 0 & a_{2} & 0 \\  3 & 0 & 0 & a_{3} & 0\\  \hline\end{array}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>PyTorchå¸¸ç”¨ä»£ç æ®µåˆé›†</title>
    <link href="http://enderfga.cn/2022/05/10/torch/"/>
    <id>http://enderfga.cn/2022/05/10/torch/</id>
    <published>2022-05-10T15:45:53.000Z</published>
    <updated>2022-05-28T16:35:37.059Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>PyTorchæœ€å¥½çš„èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚æœ¬æ–‡æ˜¯PyTorchå¸¸ç”¨ä»£ç æ®µï¼Œåœ¨å‚è€ƒèµ„æ–™çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›ä¿®è¡¥ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…ã€‚</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220511003116457.png" alt=""></p><span id="more"></span><h1 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a><strong>åŸºæœ¬é…ç½®</strong></h1><h3 id="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"><a href="#å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢" class="headerlink" title="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"></a><strong>å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">import</span> torchvision<span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>version<span class="token punctuation">.</span>cuda<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>get_device_name<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¯å¤ç°æ€§"><a href="#å¯å¤ç°æ€§" class="headerlink" title="å¯å¤ç°æ€§"></a><strong>å¯å¤ç°æ€§</strong></h3><p>åœ¨ç¡¬ä»¶è®¾å¤‡ï¼ˆCPUã€GPUï¼‰ä¸åŒæ—¶ï¼Œå®Œå…¨çš„å¯å¤ç°æ€§æ— æ³•ä¿è¯ï¼Œå³ä½¿éšæœºç§å­ç›¸åŒã€‚ä½†æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œåº”è¯¥ä¿è¯å¯å¤ç°æ€§ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œåœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™å›ºå®štorchçš„éšæœºç§å­ï¼ŒåŒæ—¶ä¹ŸæŠŠnumpyçš„éšæœºç§å­å›ºå®šã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>manual_seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>manual_seed_all<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>deterministic <span class="token operator">=</span> <span class="token boolean">True</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>benchmark <span class="token operator">=</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ˜¾å¡è®¾ç½®</p><p>å¦‚æœåªéœ€è¦ä¸€å¼ æ˜¾å¡</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Device configuration</span>device <span class="token operator">=</span> torch<span class="token punctuation">.</span>device<span class="token punctuation">(</span><span class="token string">'cuda'</span> <span class="token keyword">if</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'cpu'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>å¦‚æœéœ€è¦æŒ‡å®šå¤šå¼ æ˜¾å¡ï¼Œæ¯”å¦‚0ï¼Œ1å·æ˜¾å¡ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> osos<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">'CUDA_VISIBLE_DEVICES'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'0,1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œè¿è¡Œä»£ç æ—¶è®¾ç½®æ˜¾å¡ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0,1</span> python train.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ¸…é™¤æ˜¾å­˜</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>empty_cache<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å‘½ä»¤è¡Œé‡ç½®GPUçš„æŒ‡ä»¤</p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi --gpu-reset -i <span class="token punctuation">[</span>gpu_id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h1 id="å¼ é‡-Tensor-å¤„ç†"><a href="#å¼ é‡-Tensor-å¤„ç†" class="headerlink" title="å¼ é‡(Tensor)å¤„ç†"></a><strong>å¼ é‡(Tensor)å¤„ç†</strong></h1><h3 id="å¼ é‡çš„æ•°æ®ç±»å‹"><a href="#å¼ é‡çš„æ•°æ®ç±»å‹" class="headerlink" title="å¼ é‡çš„æ•°æ®ç±»å‹"></a><strong>å¼ é‡çš„æ•°æ®ç±»å‹</strong></h3><p>PyTorchæœ‰9ç§CPUå¼ é‡ç±»å‹å’Œ9ç§GPUå¼ é‡ç±»å‹ã€‚</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/640" alt=""></p><h3 id="å¼ é‡åŸºæœ¬ä¿¡æ¯"><a href="#å¼ é‡åŸºæœ¬ä¿¡æ¯" class="headerlink" title="å¼ é‡åŸºæœ¬ä¿¡æ¯"></a><strong>å¼ é‡åŸºæœ¬ä¿¡æ¯</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®ç±»å‹</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å¼ é‡çš„shapeï¼Œæ˜¯ä¸ªå…ƒç»„</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># ç»´åº¦çš„æ•°é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å‘½åå¼ é‡"><a href="#å‘½åå¼ é‡" class="headerlink" title="å‘½åå¼ é‡"></a><strong>å‘½åå¼ é‡</strong></h3><p>å¼ é‡å‘½åæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç»´åº¦çš„åå­—æ¥åšç´¢å¼•æˆ–å…¶ä»–æ“ä½œï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§ã€æ˜“ç”¨æ€§ï¼Œé˜²æ­¢å‡ºé”™ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨PyTorch 1.3ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨æ³¨é‡Š</span><span class="token comment"># Tensor[N, C, H, W]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># PyTorch 1.3ä¹‹å</span>NCHW <span class="token operator">=</span> <span class="token punctuation">[</span>â€˜Nâ€™<span class="token punctuation">,</span> â€˜Câ€™<span class="token punctuation">,</span> â€˜Hâ€™<span class="token punctuation">,</span> â€˜Wâ€™<span class="token punctuation">]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> names<span class="token operator">=</span>NCHW<span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># ä¹Ÿå¯ä»¥è¿™ä¹ˆè®¾ç½®</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>names<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨align_toå¯ä»¥å¯¹ç»´åº¦æ–¹ä¾¿åœ°æ’åº</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>align_to<span class="token punctuation">(</span><span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°æ®ç±»å‹è½¬æ¢</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è®¾ç½®é»˜è®¤ç±»å‹ï¼Œpytorchä¸­çš„FloatTensorè¿œè¿œå¿«äºDoubleTensor</span>torch<span class="token punctuation">.</span>set_default_tensor_type<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>FloatTensor<span class="token punctuation">)</span><span class="token comment"># ç±»å‹è½¬æ¢</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="torch-Tensorä¸np-ndarrayè½¬æ¢"><a href="#torch-Tensorä¸np-ndarrayè½¬æ¢" class="headerlink" title="torch.Tensorä¸np.ndarrayè½¬æ¢"></a><strong>torch.Tensorä¸np.ndarrayè½¬æ¢</strong></h3><p>é™¤äº†CharTensorï¼Œå…¶ä»–æ‰€æœ‰CPUä¸Šçš„å¼ é‡éƒ½æ”¯æŒè½¬æ¢ä¸ºnumpyæ ¼å¼ç„¶åå†è½¬æ¢å›æ¥ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">ndarray <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If ndarray has negative stride.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Torch-tensorä¸PIL-Imageè½¬æ¢"><a href="#Torch-tensorä¸PIL-Imageè½¬æ¢" class="headerlink" title="Torch.tensorä¸PIL.Imageè½¬æ¢"></a><strong>Torch.tensorä¸PIL.Imageè½¬æ¢</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸­çš„å¼ é‡é»˜è®¤é‡‡ç”¨[N, C, H, W]çš„é¡ºåºï¼Œå¹¶ä¸”æ•°æ®èŒƒå›´åœ¨[0,1]ï¼Œéœ€è¦è¿›è¡Œè½¬ç½®å’Œè§„èŒƒåŒ–</span><span class="token comment"># torch.Tensor -> PIL.Image</span>image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>clamp<span class="token punctuation">(</span>tensor<span class="token operator">*</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span>byte<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>image <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_pil_image<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>  <span class="token comment"># Equivalently way</span><span class="token comment"># PIL.Image -> torch.Tensor</span>path <span class="token operator">=</span> <span class="token string">r'./figure.jpg'</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255</span>tensor <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_tensor<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#Equivalently way</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="np-ndarrayä¸PIL-Imageçš„è½¬æ¢"><a href="#np-ndarrayä¸PIL-Imageçš„è½¬æ¢" class="headerlink" title="np.ndarrayä¸PIL.Imageçš„è½¬æ¢"></a>np.ndarrayä¸PIL.Imageçš„è½¬æ¢</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">)</span>ndarray <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"><a href="#ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼" class="headerlink" title="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"></a><strong>ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">value <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="å¼ é‡å½¢å˜"><a href="#å¼ é‡å½¢å˜" class="headerlink" title="å¼ é‡å½¢å˜"></a><strong>å¼ é‡å½¢å˜</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨å°†å·ç§¯å±‚è¾“å…¥å…¨è¿æ¥å±‚çš„æƒ…å†µä¸‹é€šå¸¸éœ€è¦å¯¹å¼ é‡åšå½¢å˜å¤„ç†ï¼Œ</span><span class="token comment"># ç›¸æ¯”torch.viewï¼Œtorch.reshapeå¯ä»¥è‡ªåŠ¨å¤„ç†è¾“å…¥å¼ é‡ä¸è¿ç»­çš„æƒ…å†µã€‚</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> shape<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ‰“ä¹±é¡ºåº"><a href="#æ‰“ä¹±é¡ºåº" class="headerlink" title="æ‰“ä¹±é¡ºåº"></a><strong>æ‰“ä¹±é¡ºåº</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span>torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># æ‰“ä¹±ç¬¬ä¸€ä¸ªç»´åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="æ°´å¹³ç¿»è½¬"><a href="#æ°´å¹³ç¿»è½¬" class="headerlink" title="æ°´å¹³ç¿»è½¬"></a><strong>æ°´å¹³ç¿»è½¬</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸æ”¯æŒtensor[::-1]è¿™æ ·çš„è´Ÿæ­¥é•¿æ“ä½œï¼Œæ°´å¹³ç¿»è½¬å¯ä»¥é€šè¿‡å¼ é‡ç´¢å¼•å®ç°</span><span class="token comment"># å‡è®¾å¼ é‡çš„ç»´åº¦ä¸º[N, D, H, W].</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span>torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¤åˆ¶å¼ é‡"><a href="#å¤åˆ¶å¼ é‡" class="headerlink" title="å¤åˆ¶å¼ é‡"></a><strong>å¤åˆ¶å¼ é‡</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Operation                 |  New/Shared memory | Still in computation graph |</span>tensor<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># |        New         |          Yes               |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># |      Shared        |          No                |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># |        New         |          No                | </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¼ é‡æ‹¼æ¥"><a href="#å¼ é‡æ‹¼æ¥" class="headerlink" title="å¼ é‡æ‹¼æ¥"></a><strong>å¼ é‡æ‹¼æ¥</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">'''æ³¨æ„torch.catå’Œtorch.stackçš„åŒºåˆ«åœ¨äºtorch.catæ²¿ç€ç»™å®šçš„ç»´åº¦æ‹¼æ¥ï¼Œè€Œtorch.stackä¼šæ–°å¢ä¸€ç»´ã€‚ä¾‹å¦‚å½“å‚æ•°æ˜¯3ä¸ª10x5çš„å¼ é‡ï¼Œtorch.catçš„ç»“æœæ˜¯30x5çš„å¼ é‡ï¼Œè€Œtorch.stackçš„ç»“æœæ˜¯3x10x5çš„å¼ é‡ã€‚'''</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>stack<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "><a href="#å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç " class="headerlink" title="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "></a><strong>å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç </strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchçš„æ ‡è®°é»˜è®¤ä»0å¼€å§‹</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>N <span class="token operator">=</span> tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>num_classes <span class="token operator">=</span> <span class="token number">4</span>one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span>one_hot<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> src<span class="token operator">=</span>torch<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¾—åˆ°éé›¶å…ƒç´ "><a href="#å¾—åˆ°éé›¶å…ƒç´ " class="headerlink" title="å¾—åˆ°éé›¶å…ƒç´ "></a><strong>å¾—åˆ°éé›¶å…ƒç´ </strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>               <span class="token comment"># index of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token comment"># index of zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment"># number of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># number of zero elements</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"><a href="#åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰" class="headerlink" title="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"></a><strong>åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>allclose<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>  <span class="token comment"># float tensor</span>torch<span class="token punctuation">.</span>equal<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>     <span class="token comment"># int tensor</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="å¼ é‡æ‰©å±•"><a href="#å¼ é‡æ‰©å±•" class="headerlink" title="å¼ é‡æ‰©å±•"></a><strong>å¼ é‡æ‰©å±•</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Expand tensor of shape 64*512 to shape 64*512*7*7.</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>expand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="çŸ©é˜µä¹˜æ³•"><a href="#çŸ©é˜µä¹˜æ³•" class="headerlink" title="çŸ©é˜µä¹˜æ³•"></a><strong>çŸ©é˜µä¹˜æ³•</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Matrix multiplcation: (m*n) * (n*p) * -> (m*p).</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>mm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Batch matrix multiplication: (b*m*n) * (b*n*p) -> (b*m*p)</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Element-wise multiplication.</span>result <span class="token operator">=</span> tensor1 <span class="token operator">*</span> tensor2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"><a href="#è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»" class="headerlink" title="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"></a><strong>è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»</strong></h3><p>åˆ©ç”¨broadcastæœºåˆ¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">dist <span class="token operator">=</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>X1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">-</span> X2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h1 id="æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"><a href="#æ¨¡å‹å®šä¹‰å’Œæ“ä½œ" class="headerlink" title="æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"></a><strong>æ¨¡å‹å®šä¹‰å’Œæ“ä½œ</strong></h1><h3 id="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># convolutional neural network (2 convolutional layers)</span><span class="token keyword">class</span> <span class="token class-name">ConvNet</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num_classes<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>ConvNet<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer1 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer2 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">32</span><span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span>      <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer1<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer2<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        out <span class="token operator">=</span> out<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>out<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>fc<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        <span class="token keyword">return</span> outmodel <span class="token operator">=</span> ConvNet<span class="token punctuation">(</span>num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å·ç§¯å±‚çš„è®¡ç®—å’Œå±•ç¤ºå¯ä»¥ç”¨è¿™ä¸ªç½‘ç«™è¾…åŠ©ã€‚</p><p><a href="https://ezyang.github.io/convolution-visualizer/index.html">https://ezyang.github.io/convolution-visualizer/index.html</a></p><h3 id="åŒçº¿æ€§æ±‡åˆï¼ˆbilinear-poolingï¼‰"><a href="#åŒçº¿æ€§æ±‡åˆï¼ˆbilinear-poolingï¼‰" class="headerlink" title="åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰"></a>åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> H <span class="token operator">*</span> W<span class="token punctuation">)</span>                        <span class="token comment"># Assume X has shape N*D*H*W</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>X<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>H <span class="token operator">*</span> W<span class="token punctuation">)</span>  <span class="token comment"># Bilinear pooling</span><span class="token keyword">assert</span> X<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> D<span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D <span class="token operator">*</span> D<span class="token punctuation">)</span><span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">*</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1e-5</span><span class="token punctuation">)</span>   <span class="token comment"># Signed-sqrt normalization</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>normalize<span class="token punctuation">(</span>X<span class="token punctuation">)</span>                  <span class="token comment"># L2 normalization</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¤šå¡åŒæ­¥-BNï¼ˆBatch-normalizationï¼‰"><a href="#å¤šå¡åŒæ­¥-BNï¼ˆBatch-normalizationï¼‰" class="headerlink" title="å¤šå¡åŒæ­¥ BNï¼ˆBatch normalizationï¼‰"></a><strong>å¤šå¡åŒæ­¥ BNï¼ˆBatch normalizationï¼‰</strong></h3><p>å½“ä½¿ç”¨ torch.nn.DataParallel å°†ä»£ç è¿è¡Œåœ¨å¤šå¼  GPU å¡ä¸Šæ—¶ï¼ŒPyTorch çš„ BN å±‚é»˜è®¤æ“ä½œæ˜¯å„å¡ä¸Šæ•°æ®ç‹¬ç«‹åœ°è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®ï¼ŒåŒæ­¥ BN ä½¿ç”¨æ‰€æœ‰å¡ä¸Šçš„æ•°æ®ä¸€èµ·è®¡ç®— BN å±‚çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œç¼“è§£äº†å½“æ‰¹é‡å¤§å°ï¼ˆbatch sizeï¼‰æ¯”è¾ƒå°æ—¶å¯¹å‡å€¼å’Œæ ‡å‡†å·®ä¼°è®¡ä¸å‡†çš„æƒ…å†µï¼Œæ˜¯åœ¨ç›®æ ‡æ£€æµ‹ç­‰ä»»åŠ¡ä¸­ä¸€ä¸ªæœ‰æ•ˆçš„æå‡æ€§èƒ½çš„æŠ€å·§ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>num_features<span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>   affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚"><a href="#å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚" class="headerlink" title="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚"></a>å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">convertBNtoSyncBN</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> process_group<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''Recursively replace all BN layers to SyncBN layer.    Args:        module[torch.nn.Module]. Network    '''</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>batchnorm<span class="token punctuation">.</span>_BatchNorm<span class="token punctuation">)</span><span class="token punctuation">:</span>        sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>module<span class="token punctuation">.</span>num_features<span class="token punctuation">,</span> module<span class="token punctuation">.</span>eps<span class="token punctuation">,</span> module<span class="token punctuation">.</span>momentum<span class="token punctuation">,</span>                                          module<span class="token punctuation">.</span>affine<span class="token punctuation">,</span> module<span class="token punctuation">.</span>track_running_stats<span class="token punctuation">,</span> process_group<span class="token punctuation">)</span>        sync_bn<span class="token punctuation">.</span>running_mean <span class="token operator">=</span> module<span class="token punctuation">.</span>running_mean        sync_bn<span class="token punctuation">.</span>running_var <span class="token operator">=</span> module<span class="token punctuation">.</span>running_var        <span class="token keyword">if</span> module<span class="token punctuation">.</span>affine<span class="token punctuation">:</span>            sync_bn<span class="token punctuation">.</span>weight <span class="token operator">=</span> module<span class="token punctuation">.</span>weight<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>            sync_bn<span class="token punctuation">.</span>bias <span class="token operator">=</span> module<span class="token punctuation">.</span>bias<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> sync_bn    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> name<span class="token punctuation">,</span> child_module <span class="token keyword">in</span> module<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token builtin">setattr</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=</span> convert_syncbn_model<span class="token punctuation">(</span>child_module<span class="token punctuation">,</span> process_group<span class="token operator">=</span>process_group<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> module<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç±»ä¼¼-BN-æ»‘åŠ¨å¹³å‡"><a href="#ç±»ä¼¼-BN-æ»‘åŠ¨å¹³å‡" class="headerlink" title="ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡"></a><strong>ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡</strong></h3><p>å¦‚æœè¦å®ç°ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡çš„æ“ä½œï¼Œåœ¨ forward å‡½æ•°ä¸­è¦ä½¿ç”¨åŸåœ°ï¼ˆinplaceï¼‰æ“ä½œç»™æ»‘åŠ¨å¹³å‡èµ‹å€¼ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">BN</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>register_buffer<span class="token punctuation">(</span><span class="token string">'running_mean'</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>num_features<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>running_mean <span class="token operator">+=</span> momentum <span class="token operator">*</span> <span class="token punctuation">(</span>current <span class="token operator">-</span> self<span class="token punctuation">.</span>running_mean<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"><a href="#è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡" class="headerlink" title="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"></a><strong>è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">num_parameters <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>numel<span class="token punctuation">(</span>parameter<span class="token punctuation">)</span> <span class="token keyword">for</span> parameter <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"><a href="#æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"></a><strong>æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°</strong></h3><p>å¯ä»¥é€šè¿‡model.state_dict()æˆ–è€…model.named_parameters()å‡½æ•°æŸ¥çœ‹ç°åœ¨çš„å…¨éƒ¨å¯è®­ç»ƒå‚æ•°ï¼ˆåŒ…æ‹¬é€šè¿‡ç»§æ‰¿å¾—åˆ°çš„çˆ¶ç±»ä¸­çš„å‚æ•°ï¼‰</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">params <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> param<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name2<span class="token punctuation">,</span> param2<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param2<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'----------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name1<span class="token punctuation">,</span> param1<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param1<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰"><a href="#æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰" class="headerlink" title="æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰"></a><strong>æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰</strong></h3><p><a href="https://github.com/szagoruyko/pytorchviz">https://github.com/szagoruyko/pytorchviz</a></p><h3 id="ç±»ä¼¼-Keras-çš„-model-summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summary-ï¼‰"><a href="#ç±»ä¼¼-Keras-çš„-model-summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summary-ï¼‰" class="headerlink" title="ç±»ä¼¼ Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summary ï¼‰"></a><strong>ç±»ä¼¼ Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summary ï¼‰</strong></h3><p><a href="https://github.com/sksq96/pytorch-summary">https://github.com/sksq96/pytorch-summary</a></p><p><strong>æ¨¡å‹æƒé‡åˆå§‹åŒ–</strong></p><p>æ³¨æ„ model.modules() å’Œ model.children() çš„åŒºåˆ«ï¼šmodel.modules() ä¼šè¿­ä»£åœ°éå†æ¨¡å‹çš„æ‰€æœ‰å­å±‚ï¼Œè€Œ model.children() åªä¼šéå†æ¨¡å‹ä¸‹çš„ä¸€å±‚ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Common practise for initialization.</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>kaiming_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'fan_out'</span><span class="token punctuation">,</span>                                      nonlinearity<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">)</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Linear<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>xavier_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token comment"># Initialization with given tensor.</span>layer<span class="token punctuation">.</span>weight <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"><a href="#æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚" class="headerlink" title="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"></a><strong>æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚</strong></h3><p>modules()ä¼šè¿”å›æ¨¡å‹ä¸­æ‰€æœ‰æ¨¡å—çš„è¿­ä»£å™¨ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®åˆ°æœ€å†…å±‚ï¼Œæ¯”å¦‚self.layer1.conv1è¿™ä¸ªæ¨¡å—ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å®ƒä»¬ç›¸å¯¹åº”çš„æ˜¯name_children()å±æ€§ä»¥åŠnamed_modules(),è¿™ä¸¤ä¸ªä¸ä»…ä¼šè¿”å›æ¨¡å—çš„è¿­ä»£å™¨ï¼Œè¿˜ä¼šè¿”å›ç½‘ç»œå±‚çš„åå­—ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å–æ¨¡å‹ä¸­çš„å‰ä¸¤å±‚</span>new_model <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># å¦‚æœå¸Œæœ›æå–å‡ºæ¨¡å‹ä¸­çš„æ‰€æœ‰å·ç§¯å±‚ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·æ“ä½œï¼š</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>         conv_model<span class="token punctuation">.</span>add_module<span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"><a href="#éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹" class="headerlink" title="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"></a><strong>éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹</strong></h3><p>æ³¨æ„å¦‚æœä¿å­˜çš„æ¨¡å‹æ˜¯ torch.nn.DataParallelï¼Œåˆ™å½“å‰çš„æ¨¡å‹ä¹Ÿéœ€è¦æ˜¯</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="å°†åœ¨-GPU-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-CPU"><a href="#å°†åœ¨-GPU-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-CPU" class="headerlink" title="å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ° CPU"></a>å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ° CPU</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">,</span> map_location<span class="token operator">=</span><span class="token string">'cpu'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"><a href="#å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹" class="headerlink" title="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"></a><strong>å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹</strong></h2><p>æ¨¡å‹å¯¼å…¥å‚æ•°æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å‹ç»“æ„ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥å¯¼å…¥å‚æ•°ä¼šæŠ¥é”™ã€‚ç”¨ä¸‹é¢æ–¹æ³•å¯ä»¥æŠŠå¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒçš„éƒ¨åˆ†å¯¼å…¥åˆ°æ–°çš„æ¨¡å‹ä¸­ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># model_newä»£è¡¨æ–°çš„æ¨¡å‹</span><span class="token comment"># model_savedä»£è¡¨å…¶ä»–æ¨¡å‹ï¼Œæ¯”å¦‚ç”¨torch.loadå¯¼å…¥çš„å·²ä¿å­˜çš„æ¨¡å‹</span>model_new_dict <span class="token operator">=</span> model_new<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>model_common_dict <span class="token operator">=</span> <span class="token punctuation">&#123;</span>k<span class="token punctuation">:</span>v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> model_saved<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> k <span class="token keyword">in</span> model_new_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>model_new_dict<span class="token punctuation">.</span>update<span class="token punctuation">(</span>model_common_dict<span class="token punctuation">)</span>model_new<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>model_new_dict<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h1 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a><strong>æ•°æ®å¤„ç†</strong></h1><h3 id="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®"><a href="#è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®" class="headerlink" title="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®"></a>è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>data <span class="token keyword">import</span> Dataset<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">def</span> <span class="token function">compute_mean_and_std</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># è¾“å…¥PyTorchçš„datasetï¼Œè¾“å‡ºå‡å€¼å’Œæ ‡å‡†å·®</span>    mean_r <span class="token operator">=</span> <span class="token number">0</span>    mean_g <span class="token operator">=</span> <span class="token number">0</span>    mean_b <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span> <span class="token comment"># change PIL Image to numpy array</span>        mean_r <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_g <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_b <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    mean_r <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_g <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_b <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    diff_r <span class="token operator">=</span> <span class="token number">0</span>    diff_g <span class="token operator">=</span> <span class="token number">0</span>    diff_b <span class="token operator">=</span> <span class="token number">0</span>    N <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span>        diff_r <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_r<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_g <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_g<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_b <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_b<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        N <span class="token operator">+=</span> np<span class="token punctuation">.</span>prod<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span>    std_r <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_r <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_g <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_g <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_b <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_b <span class="token operator">/</span> N<span class="token punctuation">)</span>    mean <span class="token operator">=</span> <span class="token punctuation">(</span>mean_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    std <span class="token operator">=</span> <span class="token punctuation">(</span>std_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> mean<span class="token punctuation">,</span> std<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯"><a href="#å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯" class="headerlink" title="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯"></a>å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2video <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>mp4_path<span class="token punctuation">)</span>height <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span>width <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span>num_frames <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_COUNT<span class="token punctuation">)</span><span class="token punctuation">)</span>fps <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">)</span><span class="token punctuation">)</span>video<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="TSN-æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘"><a href="#TSN-æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘" class="headerlink" title="TSN æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘"></a>TSN æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">K <span class="token operator">=</span> self<span class="token punctuation">.</span>_num_segments<span class="token keyword">if</span> is_train<span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Random index for each segment.</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames <span class="token operator">//</span> K<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>            torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> frame_indices<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Middle index for each segment.</span>        frame_indices <span class="token operator">=</span> num_frames <span class="token operator">/</span> K <span class="token operator">//</span> <span class="token number">2</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>                                        torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">assert</span> frame_indices<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token punctuation">[</span>frame_indices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"><a href="#å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†" class="headerlink" title="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"></a><strong>å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†</strong></h3><p>å…¶ä¸­ ToTensor æ“ä½œä¼šå°† PIL.Image æˆ–å½¢çŠ¶ä¸º HÃ—WÃ—Dï¼Œæ•°å€¼èŒƒå›´ä¸º [0, 255] çš„ np.ndarray è½¬æ¢ä¸ºå½¢çŠ¶ä¸º DÃ—HÃ—Wï¼Œæ•°å€¼èŒƒå›´ä¸º [0.0, 1.0] çš„ torch.Tensorã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">train_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomResizedCrop<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">224</span><span class="token punctuation">,</span>                                             scale<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.08</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomHorizontalFlip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> val_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Resize<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>CenterCrop<span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h1 id="æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"><a href="#æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•" class="headerlink" title="æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"></a><strong>æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•</strong></h1><h3 id="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "><a href="#åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç " class="headerlink" title="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "></a><strong>åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç </strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Loss and optimizer</span>criterion <span class="token operator">=</span> nn<span class="token punctuation">.</span>CrossEntropyLoss<span class="token punctuation">(</span><span class="token punctuation">)</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>Adam<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span>learning_rate<span class="token punctuation">)</span><span class="token comment"># Train the model</span>total_step <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token punctuation">,</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> labels<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>              <span class="token comment"># Forward pass</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        loss <span class="token operator">=</span> criterion<span class="token punctuation">(</span>outputs<span class="token punctuation">,</span> labels<span class="token punctuation">)</span>              <span class="token comment"># Backward and optimizer</span>        optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>        loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>        optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Epoch: [&#123;&#125;/&#123;&#125;], Step: [&#123;&#125;/&#123;&#125;], Loss: &#123;&#125;'</span>                  <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>epoch<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> num_epochs<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> total_step<span class="token punctuation">,</span> loss<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "><a href="#åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç " class="headerlink" title="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "></a><strong>åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç </strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Test the model</span>model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># eval mode(batch norm uses moving mean/variance </span>              <span class="token comment">#instead of mini-batch mean/variance)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    correct <span class="token operator">=</span> <span class="token number">0</span>    total <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> test_loader<span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        _<span class="token punctuation">,</span> predicted <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>outputs<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        total <span class="token operator">+=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        correct <span class="token operator">+=</span> <span class="token punctuation">(</span>predicted <span class="token operator">==</span> labels<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Test accuracy of the model on the 10000 test images: &#123;&#125; %'</span>          <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> correct <span class="token operator">/</span> total<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è‡ªå®šä¹‰loss"><a href="#è‡ªå®šä¹‰loss" class="headerlink" title="è‡ªå®šä¹‰loss"></a><strong>è‡ªå®šä¹‰loss</strong></h3><p>ç»§æ‰¿torch.nn.Moduleç±»å†™è‡ªå·±çš„lossã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyLoss</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Moudle<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>MyLoss<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> loss<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ ‡ç­¾å¹³æ»‘ï¼ˆlabel-smoothingï¼‰"><a href="#æ ‡ç­¾å¹³æ»‘ï¼ˆlabel-smoothingï¼‰" class="headerlink" title="æ ‡ç­¾å¹³æ»‘ï¼ˆlabel smoothingï¼‰"></a><strong>æ ‡ç­¾å¹³æ»‘ï¼ˆlabel smoothingï¼‰</strong></h3><p>å†™ä¸€ä¸ªlabel_smoothing.pyçš„æ–‡ä»¶ï¼Œç„¶ååœ¨è®­ç»ƒä»£ç é‡Œå¼•ç”¨ï¼Œç”¨LSRä»£æ›¿äº¤å‰ç†µæŸå¤±å³å¯ã€‚label_smoothing.pyå†…å®¹å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">class</span> <span class="token class-name">LSR</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> reduction<span class="token operator">=</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>log_softmax <span class="token operator">=</span> nn<span class="token punctuation">.</span>LogSoftmax<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>e <span class="token operator">=</span> e        self<span class="token punctuation">.</span>reduction <span class="token operator">=</span> reduction      <span class="token keyword">def</span> <span class="token function">_one_hot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> labels<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""            Convert labels to one hot vectors              Args:            labels: torch tensor in format [label1, label2, label3, ...]            classes: int, number of classes            value: label value in one hot vector, default to 1              Returns:            return one hot format labels in shape [batchsize, classes]        """</span>        one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> classes<span class="token punctuation">)</span>        <span class="token comment">#labels and value_added  size must match</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>view<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        value_added <span class="token operator">=</span> torch<span class="token punctuation">.</span>Tensor<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fill_<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        value_added <span class="token operator">=</span> value_added<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot <span class="token operator">=</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot<span class="token punctuation">.</span>scatter_add_<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> labels<span class="token punctuation">,</span> value_added<span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot    <span class="token keyword">def</span> <span class="token function">_smooth_label</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> smooth_factor<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""convert targets to one-hot format, and smooth        them.        Args:            target: target in form with [label1, label2, label_batchsize]            length: length of one-hot format(number of classes)            smooth_factor: smooth factor for label smooth              Returns:            smoothed labels in one hot format        """</span>        one_hot <span class="token operator">=</span> self<span class="token punctuation">.</span>_one_hot<span class="token punctuation">(</span>target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">-</span> smooth_factor<span class="token punctuation">)</span>        one_hot <span class="token operator">+=</span> smooth_factor <span class="token operator">/</span> <span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>target<span class="token punctuation">.</span>device<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">!=</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input batchsize (&#123;&#125;) to match target batch_size(&#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input tensor to have least 2 dimensions(got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Only 2 dimension tensor are implemented, (got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        smoothed_target <span class="token operator">=</span> self<span class="token punctuation">.</span>_smooth_label<span class="token punctuation">(</span>target<span class="token punctuation">,</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>e<span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token operator">-</span> x <span class="token operator">*</span> smoothed_target<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'none'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> loss              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'sum'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'mean'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'unrecognized option, expect reduction to be one of none, mean, sum'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æˆ–è€…ç›´æ¥åœ¨è®­ç»ƒæ–‡ä»¶é‡Œåšlabel smoothing</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    N <span class="token operator">=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token comment"># C is the number of classes.</span>    smoothed_labels <span class="token operator">=</span> torch<span class="token punctuation">.</span>full<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">,</span> fill_value<span class="token operator">=</span><span class="token number">0.1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>C <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    smoothed_labels<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>labels<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>    score <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>    log_prob <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>score<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token operator">-</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>log_prob <span class="token operator">*</span> smoothed_labels<span class="token punctuation">)</span> <span class="token operator">/</span> N    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Mixupè®­ç»ƒ"><a href="#Mixupè®­ç»ƒ" class="headerlink" title="Mixupè®­ç»ƒ"></a><strong>Mixupè®­ç»ƒ</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">beta_distribution <span class="token operator">=</span> torch<span class="token punctuation">.</span>distributions<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>Beta<span class="token punctuation">(</span>alpha<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Mixup images and labels.</span>    lambda_ <span class="token operator">=</span> beta_distribution<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>    index <span class="token operator">=</span> torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>images<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    mixed_images <span class="token operator">=</span> lambda_ <span class="token operator">*</span> images <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> images<span class="token punctuation">[</span>index<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>    label_a<span class="token punctuation">,</span> label_b <span class="token operator">=</span> labels<span class="token punctuation">,</span> labels<span class="token punctuation">[</span>index<span class="token punctuation">]</span>    <span class="token comment"># Mixup loss.</span>    scores <span class="token operator">=</span> model<span class="token punctuation">(</span>mixed_images<span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token punctuation">(</span>lambda_ <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_a<span class="token punctuation">)</span>            <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_b<span class="token punctuation">)</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="L1-æ­£åˆ™åŒ–"><a href="#L1-æ­£åˆ™åŒ–" class="headerlink" title="L1 æ­£åˆ™åŒ–"></a>L1 æ­£åˆ™åŒ–</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">l1_regularization <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>L1Loss<span class="token punctuation">(</span>reduction<span class="token operator">=</span><span class="token string">'sum'</span><span class="token punctuation">)</span>loss <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment"># Standard cross-entropy loss</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    loss <span class="token operator">+=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">)</span>loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight-decayï¼‰"><a href="#ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight-decayï¼‰" class="headerlink" title="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight decayï¼‰"></a><strong>ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight decayï¼‰</strong></h3><p>pytorché‡Œçš„weight decayç›¸å½“äºl2æ­£åˆ™</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">bias_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>others_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> bias_list<span class="token punctuation">,</span> <span class="token string">'weight_decay'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> others_list<span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e-2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e-4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¢¯åº¦è£å‰ªï¼ˆgradient-clippingï¼‰"><a href="#æ¢¯åº¦è£å‰ªï¼ˆgradient-clippingï¼‰" class="headerlink" title="æ¢¯åº¦è£å‰ªï¼ˆgradient clippingï¼‰"></a><strong>æ¢¯åº¦è£å‰ªï¼ˆgradient clippingï¼‰</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>clip_grad_norm_<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> max_norm<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"><a href="#å¾—åˆ°å½“å‰å­¦ä¹ ç‡" class="headerlink" title="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"></a><strong>å¾—åˆ°å½“å‰å­¦ä¹ ç‡</strong></h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># If there is one global learning rate (which is the common case).</span>lr <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span>optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token comment"># If there are multiple learning rates for different layers.</span>all_lr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> param_group <span class="token keyword">in</span> optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">:</span>    all_lr<span class="token punctuation">.</span>append<span class="token punctuation">(</span>param_group<span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¦ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªbatchè®­ç»ƒä»£ç é‡Œï¼Œå½“å‰çš„lræ˜¯optimizer.param_groups[0][â€˜lrâ€™]</p><h3 id="å­¦ä¹ ç‡è¡°å‡"><a href="#å­¦ä¹ ç‡è¡°å‡" class="headerlink" title="å­¦ä¹ ç‡è¡°å‡"></a>å­¦ä¹ ç‡è¡°å‡</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Reduce learning rate when validation accuarcy plateau.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>ReduceLROnPlateau<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'max'</span><span class="token punctuation">,</span> patience<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span>val_acc<span class="token punctuation">)</span><span class="token comment"># Cosine annealing learning rate.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>CosineAnnealingLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> T_max<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token comment"># Reduce learning rate by 10 at given epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>MultiStepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> milestones<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>      train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token comment"># Learning rate warmup by 10 epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>LambdaLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> lr_lambda<span class="token operator">=</span><span class="token keyword">lambda</span> t<span class="token punctuation">:</span> t <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"><a href="#ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°" class="headerlink" title="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"></a><strong>ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°</strong></h3><p>ä»1.4ç‰ˆæœ¬å¼€å§‹ï¼Œtorch.optim.lr_scheduler æ”¯æŒé“¾å¼æ›´æ–°ï¼ˆchainingï¼‰ï¼Œå³ç”¨æˆ·å¯ä»¥å®šä¹‰ä¸¤ä¸ª schedulersï¼Œå¹¶äº¤æ›¿åœ¨è®­ç»ƒä¸­ä½¿ç”¨ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim <span class="token keyword">import</span> SGD<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler <span class="token keyword">import</span> ExponentialLR<span class="token punctuation">,</span> StepLRmodel <span class="token operator">=</span> <span class="token punctuation">[</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> requires_grad<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> SGD<span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span>scheduler1 <span class="token operator">=</span> ExponentialLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>scheduler2 <span class="token operator">=</span> StepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> step_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>epoch<span class="token punctuation">,</span> scheduler2<span class="token punctuation">.</span>get_last_lr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler1<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler2<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"><a href="#æ¨¡å‹è®­ç»ƒå¯è§†åŒ–" class="headerlink" title="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"></a><strong>æ¨¡å‹è®­ç»ƒå¯è§†åŒ–</strong></h3><p>PyTorchå¯ä»¥ä½¿ç”¨tensorboardæ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚</p><p>å®‰è£…å’Œè¿è¡ŒTensorBoardã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip <span class="token function">install</span> tensorboardtensorboard --logdir<span class="token operator">=</span>runs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>ä½¿ç”¨SummaryWriterç±»æ¥æ”¶é›†å’Œå¯è§†åŒ–ç›¸åº”çš„æ•°æ®ï¼Œæ”¾äº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚â€™Loss/trainâ€™å’Œâ€™Loss/testâ€™ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>tensorboard <span class="token keyword">import</span> SummaryWriter<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npwriter <span class="token operator">=</span> SummaryWriter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> n_iter <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"><a href="#ä¿å­˜ä¸åŠ è½½æ–­ç‚¹" class="headerlink" title="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"></a><strong>ä¿å­˜ä¸åŠ è½½æ–­ç‚¹</strong></h3><p>æ³¨æ„ä¸ºäº†èƒ½å¤Ÿæ¢å¤è®­ç»ƒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¿å­˜æ¨¡å‹å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€ï¼Œä»¥åŠå½“å‰çš„è®­ç»ƒè½®æ•°ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">start_epoch <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># Load checkpoint.</span><span class="token keyword">if</span> resume<span class="token punctuation">:</span> <span class="token comment"># resumeä¸ºå‚æ•°ï¼Œç¬¬ä¸€æ¬¡è®­ç»ƒæ—¶è®¾ä¸º0ï¼Œä¸­æ–­å†è®­ç»ƒæ—¶è®¾ä¸º1</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    best_acc <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'best_acc'</span><span class="token punctuation">]</span>    start_epoch <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'epoch'</span><span class="token punctuation">]</span>    model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'model'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'optimizer'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Load checkpoint at epoch &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Best accuracy so far &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>best_acc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Train the model</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">,</span> num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token comment"># Test the model</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>          <span class="token comment"># save checkpoint</span>    is_best <span class="token operator">=</span> current_acc <span class="token operator">></span> best_acc    best_acc <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>current_acc<span class="token punctuation">,</span> best_acc<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'best_acc'</span><span class="token punctuation">:</span> best_acc<span class="token punctuation">,</span>        <span class="token string">'epoch'</span><span class="token punctuation">:</span> epoch <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token string">'model'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token string">'optimizer'</span><span class="token punctuation">:</span> optimizer<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'checkpoint.pth.tar'</span><span class="token punctuation">)</span>    best_model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    torch<span class="token punctuation">.</span>save<span class="token punctuation">(</span>checkpoint<span class="token punctuation">,</span> model_path<span class="token punctuation">)</span>    <span class="token keyword">if</span> is_best<span class="token punctuation">:</span>        shutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>model_path<span class="token punctuation">,</span> best_model_path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾"><a href="#æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾" class="headerlink" title="æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾"></a>æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># VGG-16 relu5-3 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># VGG-16 pool5 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token comment"># VGG-16 fc7 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model<span class="token punctuation">.</span>classifier <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>classifier<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># ResNet GAP feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>collections<span class="token punctuation">.</span>OrderedDict<span class="token punctuation">(</span>    <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    conv_representation <span class="token operator">=</span> model<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾"><a href="#æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾" class="headerlink" title="æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾"></a>æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FeatureExtractor</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Helper class to extract several convolution features from the given    pre-trained model.    Attributes:        _model, torch.nn.Module.        _layers_to_extract, list&lt;str> or set&lt;str>    Example:        >>> model = torchvision.models.resnet152(pretrained=True)        >>> model = torch.nn.Sequential(collections.OrderedDict(                list(model.named_children())[:-1]))        >>> conv_representation = FeatureExtractor(                pretrained_model=model,                layers_to_extract=&#123;'layer1', 'layer2', 'layer3', 'layer4'&#125;)(image)    """</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pretrained_model<span class="token punctuation">,</span> layers_to_extract<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_model <span class="token operator">=</span> pretrained_model        self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_layers_to_extract <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>layers_to_extract<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            conv_representation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> name<span class="token punctuation">,</span> layer <span class="token keyword">in</span> self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                x <span class="token operator">=</span> layer<span class="token punctuation">(</span>x<span class="token punctuation">)</span>                <span class="token keyword">if</span> name <span class="token keyword">in</span> self<span class="token punctuation">.</span>_layers_to_extract<span class="token punctuation">:</span>                    conv_representation<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>            <span class="token keyword">return</span> conv_representation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¾®è°ƒå…¨è¿æ¥å±‚"><a href="#å¾®è°ƒå…¨è¿æ¥å±‚" class="headerlink" title="å¾®è°ƒå…¨è¿æ¥å±‚"></a>å¾®è°ƒå…¨è¿æ¥å±‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    param<span class="token punctuation">.</span>requires_grad <span class="token operator">=</span> <span class="token boolean">False</span>model<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># Replace the last fc layer</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e-2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e-4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚"><a href="#ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚" class="headerlink" title="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚"></a>ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>finetuned_parameters <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">,</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>conv_parameters <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token keyword">for</span> p <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">id</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token keyword">not</span> <span class="token keyword">in</span> finetuned_parameters<span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> conv_parameters<span class="token punctuation">,</span> <span class="token string">'lr'</span><span class="token punctuation">:</span> <span class="token number">1e-3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>               <span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e-2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e-4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h1 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="å…¶ä»–æ³¨æ„äº‹é¡¹"></a><strong>å…¶ä»–æ³¨æ„äº‹é¡¹</strong></h1><ul><li>ä¸è¦ä½¿ç”¨å¤ªå¤§çš„çº¿æ€§å±‚ã€‚å› ä¸ºnn.Linear(m,n)ä½¿ç”¨çš„æ˜¯O(mn)çš„å†…å­˜ï¼Œçº¿æ€§å±‚å¤ªå¤§å¾ˆå®¹æ˜“è¶…å‡ºç°æœ‰æ˜¾å­˜ã€‚</li><li>ä¸è¦åœ¨å¤ªé•¿çš„åºåˆ—ä¸Šä½¿ç”¨RNNã€‚å› ä¸ºRNNåå‘ä¼ æ’­ä½¿ç”¨çš„æ˜¯BPTTç®—æ³•ï¼Œå…¶éœ€è¦çš„å†…å­˜å’Œè¾“å…¥åºåˆ—çš„é•¿åº¦å‘ˆçº¿æ€§å…³ç³»ã€‚</li><li>model(x) å‰ç”¨ model.train() å’Œ model.eval() åˆ‡æ¢ç½‘ç»œçŠ¶æ€ã€‚</li><li>ä¸éœ€è¦è®¡ç®—æ¢¯åº¦çš„ä»£ç å—ç”¨ with torch.no_grad() åŒ…å«èµ·æ¥ã€‚</li><li>model.eval() å’Œ torch.no_grad() çš„åŒºåˆ«åœ¨äºï¼Œmodel.eval() æ˜¯å°†ç½‘ç»œåˆ‡æ¢ä¸ºæµ‹è¯•çŠ¶æ€ï¼Œä¾‹å¦‚ BN å’Œdropoutåœ¨è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µä½¿ç”¨ä¸åŒçš„è®¡ç®—æ–¹æ³•ã€‚torch.no_grad() æ˜¯å…³é—­ PyTorch å¼ é‡çš„è‡ªåŠ¨æ±‚å¯¼æœºåˆ¶ï¼Œä»¥å‡å°‘å­˜å‚¨ä½¿ç”¨å’ŒåŠ é€Ÿè®¡ç®—ï¼Œå¾—åˆ°çš„ç»“æœæ— æ³•è¿›è¡Œ loss.backward()ã€‚</li><li>model.zero_grad()ä¼šæŠŠæ•´ä¸ªæ¨¡å‹çš„å‚æ•°çš„æ¢¯åº¦éƒ½å½’é›¶, è€Œoptimizer.zero_grad()åªä¼šæŠŠä¼ å…¥å…¶ä¸­çš„å‚æ•°çš„æ¢¯åº¦å½’é›¶.</li><li>torch.nn.CrossEntropyLoss çš„è¾“å…¥ä¸éœ€è¦ç»è¿‡ Softmaxã€‚torch.nn.CrossEntropyLoss ç­‰ä»·äº torch.nn.functional.log_softmax + torch.nn.NLLLossã€‚</li><li>loss.backward() å‰ç”¨ optimizer.zero_grad() æ¸…é™¤ç´¯ç§¯æ¢¯åº¦ã€‚</li><li>torch.utils.data.DataLoader ä¸­å°½é‡è®¾ç½® pin_memory=Trueï¼Œå¯¹ç‰¹åˆ«å°çš„æ•°æ®é›†å¦‚ MNIST è®¾ç½® pin_memory=False åè€Œæ›´å¿«ä¸€äº›ã€‚num_workers çš„è®¾ç½®éœ€è¦åœ¨å®éªŒä¸­æ‰¾åˆ°æœ€å¿«çš„å–å€¼ã€‚</li><li>ç”¨ del åŠæ—¶åˆ é™¤ä¸ç”¨çš„ä¸­é—´å˜é‡ï¼ŒèŠ‚çº¦ GPU å­˜å‚¨ã€‚</li><li>ä½¿ç”¨ inplace æ“ä½œå¯èŠ‚çº¦ GPU å­˜å‚¨ï¼Œå¦‚</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>x<span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><ul><li>å‡å°‘ CPU å’Œ GPU ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ä¾‹å¦‚å¦‚æœä½ æƒ³çŸ¥é“ä¸€ä¸ª epoch ä¸­æ¯ä¸ª mini-batch çš„ loss å’Œå‡†ç¡®ç‡ï¼Œå…ˆå°†å®ƒä»¬ç´¯ç§¯åœ¨ GPU ä¸­ç­‰ä¸€ä¸ª epoch ç»“æŸä¹‹åä¸€èµ·ä¼ è¾“å› CPU ä¼šæ¯”æ¯ä¸ª mini-batch éƒ½è¿›è¡Œä¸€æ¬¡ GPU åˆ° CPU çš„ä¼ è¾“æ›´å¿«ã€‚</li><li>ä½¿ç”¨åŠç²¾åº¦æµ®ç‚¹æ•° half() ä¼šæœ‰ä¸€å®šçš„é€Ÿåº¦æå‡ï¼Œå…·ä½“æ•ˆç‡ä¾èµ–äº GPU å‹å·ã€‚éœ€è¦å°å¿ƒæ•°å€¼ç²¾åº¦è¿‡ä½å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ã€‚</li><li>æ—¶å¸¸ä½¿ç”¨ assert tensor.size() == (N, D, H, W) ä½œä¸ºè°ƒè¯•æ‰‹æ®µï¼Œç¡®ä¿å¼ é‡ç»´åº¦å’Œä½ è®¾æƒ³ä¸­ä¸€è‡´ã€‚</li><li>é™¤äº†æ ‡è®° y å¤–ï¼Œå°½é‡å°‘ä½¿ç”¨ä¸€ç»´å¼ é‡ï¼Œä½¿ç”¨ n*1 çš„äºŒç»´å¼ é‡ä»£æ›¿ï¼Œå¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸€ç»´å¼ é‡è®¡ç®—ç»“æœã€‚</li><li>ç»Ÿè®¡ä»£ç å„éƒ¨åˆ†è€—æ—¶</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> torch<span class="token punctuation">.</span>autograd<span class="token punctuation">.</span>profiler<span class="token punctuation">.</span>profile<span class="token punctuation">(</span>enabled<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> use_cuda<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">as</span> profile<span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">print</span><span class="token punctuation">(</span>profile<span class="token punctuation">)</span><span class="token comment"># æˆ–è€…åœ¨å‘½ä»¤è¡Œè¿è¡Œ</span>python <span class="token operator">-</span>m torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>bottleneck main<span class="token punctuation">.</span>py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><ul><li>ä½¿ç”¨TorchSnooperæ¥è°ƒè¯•PyTorchä»£ç ï¼Œç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨ print å‡ºæ¥æ¯ä¸€è¡Œçš„æ‰§è¡Œç»“æœçš„ tensor çš„å½¢çŠ¶ã€æ•°æ®ç±»å‹ã€è®¾å¤‡ã€æ˜¯å¦éœ€è¦æ¢¯åº¦çš„ä¿¡æ¯ã€‚</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pip install torchsnooper</span><span class="token keyword">import</span> torchsnooper<span class="token comment"># å¯¹äºå‡½æ•°ï¼Œä½¿ç”¨ä¿®é¥°å™¨</span><span class="token decorator annotation punctuation">@torchsnooper<span class="token punctuation">.</span>snoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å¦‚æœä¸æ˜¯å‡½æ•°ï¼Œä½¿ç”¨ with è¯­å¥æ¥æ¿€æ´» TorchSnooperï¼ŒæŠŠè®­ç»ƒçš„é‚£ä¸ªå¾ªç¯è£…è¿› with è¯­å¥ä¸­å»ã€‚</span><span class="token keyword">with</span> torchsnooper<span class="token punctuation">.</span>snoop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><ul><li>åŸæœ¬çš„ä»£ç </li></ul><p><a href="https://github.com/zasdfgbnm/TorchSnooper">https://github.com/zasdfgbnm/TorchSnooper</a></p><ul><li>æ¨¡å‹å¯è§£é‡Šæ€§ï¼Œä½¿ç”¨captumåº“</li></ul><p><a href="https://captum.ai/">https://captum.ai/</a></p><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><p>1.<a href="https://zhuanlan.zhihu.com/p/59205847">https://zhuanlan.zhihu.com/p/59205847</a></p><p>2.<a href="https://pytorch.org/tutorials/">PyTorchå®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹</a></p><p>3.<a href="https://pytorch.org/docs/stable/notes/faq.html">https://pytorch.org/docs/stable/notes/faq.html</a></p><p>4.<a href="https://github.com/szagoruyko/pytorchviz">https://github.com/szagoruyko/pytorchviz</a></p><p>5.<a href="https://github.com/sksq96/pytorch-summary">https://github.com/sksq96/pytorch-summary</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;PyTorchæœ€å¥½çš„èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚æœ¬æ–‡æ˜¯PyTorchå¸¸ç”¨ä»£ç æ®µï¼Œåœ¨å‚è€ƒèµ„æ–™çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›ä¿®è¡¥ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220511003116457.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>PID æ§åˆ¶åœ¨åŒ»å­¦éº»é†‰è¿‡ç¨‹è¡€å‹æ§åˆ¶ä¸­çš„åº”ç”¨</title>
    <link href="http://enderfga.cn/2022/05/04/pid/"/>
    <id>http://enderfga.cn/2022/05/04/pid/</id>
    <published>2022-05-04T13:42:55.000Z</published>
    <updated>2022-06-20T00:56:17.116Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è‡ªåŠ¨æ§åˆ¶åŸç†å¤§ä½œä¸šâ€”â€”pidæ§åˆ¶å™¨</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220504214948390.png" alt=""></p><embed src="./PID.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è‡ªåŠ¨æ§åˆ¶åŸç†å¤§ä½œä¸šâ€”â€”pidæ§åˆ¶å™¨&lt;/p&gt;</summary>
    
    
    
    
    <category term="è‡ªåŠ¨æ§åˆ¶åŸç†" scheme="http://enderfga.cn/tags/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æ</title>
    <link href="http://enderfga.cn/2022/05/01/net3/"/>
    <id>http://enderfga.cn/2022/05/01/net3/</id>
    <published>2022-05-01T03:07:57.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æå®éªŒ</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/wall.png" alt=""></p><embed src="./problem.pdf" width="100%" height="750" type="application/pdf"><embed src="./wireshark.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç½‘ä½œä¸šï¼šç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æå®éªŒ&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åº“åŸç† Exercises 3&amp;4&amp;5</title>
    <link href="http://enderfga.cn/2022/04/29/data3/"/>
    <id>http://enderfga.cn/2022/04/29/data3/</id>
    <published>2022-04-28T16:33:52.000Z</published>
    <updated>2022-06-03T16:18:04.234Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Database System Concepts Exercises of Chapter 5&amp;6&amp;8</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003143556.png" alt=""></p><h1 id="Database-System-Concepts-Exercises-of-Chapter-5-amp-6"><a href="#Database-System-Concepts-Exercises-of-Chapter-5-amp-6" class="headerlink" title="Database System Concepts Exercises of Chapter 5&amp;6"></a>Database System Concepts Exercises of Chapter 5&amp;6</h1><p><strong>Exercise 5.8</strong> Consider the bank database of Figure <strong>5.25</strong>. Write an sQL trigger to carryout the following action: On <strong>delete</strong> of an account, for each owner of theaccount, check if the owner has any remaining accounts, and if she doesnot, delete her from the <em>depositor</em> relation.</p><p>branch(branch_name, branch_city, assets)</p><p>customer ( customer_name, customer_street, customer_city )</p><p>loan( loan_number, branch_name, amount)</p><p>borrower ( customer_name, loan_number )</p><p>account ( account_number, branch_name, balance )</p><p>depositor ( customer_name, account_number )</p><p><strong>Figure 5.25</strong></p><p><strong>My answer:</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">trigger</span> <span class="token keyword">check</span><span class="token operator">-</span><span class="token keyword">delete</span><span class="token operator">-</span><span class="token keyword">trigger</span> <span class="token keyword">after</span> <span class="token keyword">delete</span> <span class="token keyword">on</span> account referencing old <span class="token keyword">row</span> <span class="token keyword">as</span> orow<span class="token keyword">for each row</span><span class="token keyword">delete</span> <span class="token keyword">from</span> depositor<span class="token keyword">where</span> depositor<span class="token punctuation">.</span>customer_name <span class="token operator">not</span> <span class="token operator">in</span>   <span class="token punctuation">(</span> <span class="token keyword">select</span> customer_name <span class="token keyword">from</span> depositor     <span class="token keyword">where</span> account_number <span class="token operator">&lt;></span> orow<span class="token punctuation">.</span>account_number <span class="token punctuation">)</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>Exercise</strong> <strong>5.15</strong> Consider an employee database with two relations<br>employee ($\underline{employee_name}$, street, city)<br>works ($\underline{employee_name}$, company_name, salary)<br>where the primary keys are underlined. Write a query to find companies whose employees earn a higher salary, on average, than the average salary at â€œFirst Bank Corporationâ€.<br>a. Using SQL functions as appropriate.<br>b. Without using SQL functions.</p><p><strong>My answer:</strong></p><p>a)</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">function</span> avg_salary<span class="token punctuation">(</span>cname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">integer</span>     <span class="token keyword">declare</span> result <span class="token keyword">integer</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">into</span> result<span class="token keyword">from</span> works<span class="token keyword">where</span> works<span class="token punctuation">.</span>company<span class="token punctuation">.</span>name <span class="token operator">=</span> cname<span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">where</span> avg_salary<span class="token punctuation">(</span>company_name<span class="token punctuation">)</span> <span class="token operator">></span> avg_salary<span class="token punctuation">(</span>â€œ<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>b)</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">group</span> <span class="token keyword">by</span> company_name<span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> works<span class="token keyword">where</span> company_name<span class="token operator">=</span>â€<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><p><strong>Exercise 6.1</strong> Write the following queries in relational algebra, using the university schema.<br> <strong>a</strong>. Find the titles of courses in the Comp. Sci. department that have 3 credits.<br> <strong>b</strong>. Find the IDs of all students who were taught by an instructor named Einstein; make sure there are no duplicates in the result.<br> <strong>c</strong>. Find the highest salary of any instructor.<br> <strong>d</strong>. Find all instructors earning the highest salary (there may be more than one with the same salary).</p><p><strong>My answer:</strong></p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003507835.png" alt=""></p><embed src="./data.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;Database System Concepts Exercises of Chapter 5&amp;amp;6&amp;amp;8&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ•°æ®åº“" scheme="http://enderfga.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>conda/linux/git/æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨å‘½ä»¤â€œç¬”è®°â€</title>
    <link href="http://enderfga.cn/2022/04/28/code/"/>
    <id>http://enderfga.cn/2022/04/28/code/</id>
    <published>2022-04-28T01:34:32.000Z</published>
    <updated>2022-06-26T02:33:29.641Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯æ¬¡å¿˜äº†éƒ½å¾—æœï¼Œè®°å½•ä¸€ä¸‹</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428094832340.png" alt=""></p><span id="more"></span><h1 id="Anaconda-amp-python"><a href="#Anaconda-amp-python" class="headerlink" title="Anaconda&amp;python"></a>Anaconda&amp;python</h1><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428093957780.png" alt=""></p><p><strong>pipå®‰è£…ï¼ˆtensorflow-gpuä¸ºä¾‹ï¼‰</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>condaå®‰è£…</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>pip3å®‰è£…ï¼ˆæŒ‡å®šç‰ˆæœ¬å·åªéœ€åœ¨å‘½ä»¤æœ«å°¾æ·»åŠ ==1.12.0ç‰ˆæœ¬å·ï¼‰</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip3  install tensorflow-gpu&#x3D;&#x3D;1.12.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>ä½¿ç”¨æ¸…åé•œåƒä¸‹è½½</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install tensorflow-gpu&#x3D;&#x3D;1.10 -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æŒ‡å®šç›®å½•å®‰è£…</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install -t D:\ProgramData\Anaconda3\Lib\site-packages torch-1.0.1-cp36-cp36m-win_amd64.whl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>å¸è½½å®‰è£…ï¼ˆpip\pip3åªéœ€å°†condaæ¢æˆpip\pip3ï¼‰</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  uninstall tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆcondaä¸ºä¾‹ï¼‰</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda create -n py36 python&#x3D;3.6  #py36è™šæ‹Ÿç¯å¢ƒçš„åå­—  python&#x3D;3.6  pythonç‰ˆæœ¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda remove -n py36 --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda activate py36<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æŸ¥çœ‹æ‰€æœ‰åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda env list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>ç”¨virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">VENV_DIR</span><span class="token operator">=</span>venvpip <span class="token function">install</span> virtualenvvirtualenv <span class="token variable">$VENV_DIR</span><span class="token builtin class-name">source</span> <span class="token variable">$VENV_DIR</span>/bin/activatedeactivate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>nohupé€å…¥åå°è¿è¡Œ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nohup</span> python train.py <span class="token operator">></span>nohup <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>      <span class="token comment">#train.pyè¿è¡Œçš„æ–‡ä»¶  nohupç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>CUDAæŒ‡å®šGPU</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0</span> <span class="token function">nohup</span> python train.py  <span class="token operator">></span> nohup.log <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>å¯¼å‡ºrequirements.txt</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 -m pip freeze <span class="token operator">></span> requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æŸ¥çœ‹è¿›ç¨‹å·</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ps</span> aux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>æ ¹æ®è¿›ç¨‹å·æ€æ­»è¿›ç¨‹</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">kill</span> -9 è¿›ç¨‹å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/200301122312741.jpg" alt=""></p><h1 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h1><p>linuxä¸åƒWindows åˆ†äº†ç›˜ï¼Œå®ƒæ ¹ç›®å½•ä¸‹æœ‰å¦‚ä¸‹å¸¸ç”¨æ–‡ä»¶å¤¹:</p><p><em>home</em>         â€”â€”â€”â€”â€”        ç”¨æˆ·çš„å®¶</p><p><em>root</em>            â€”â€”â€”â€”â€”        è¶…çº§ç®¡ç†å‘˜rootçš„å®¶</p><p><em>etc</em>              â€”â€”â€”â€”â€”        å­˜æ”¾é…ç½®æ–‡ä»¶</p><p><em>usr</em>              â€”â€”â€”â€”â€”        å­˜æ”¾å…±äº«èµ„æº</p><h2 id="1ã€cdå‘½ä»¤"><a href="#1ã€cdå‘½ä»¤" class="headerlink" title="1ã€cdå‘½ä»¤:"></a>1ã€cdå‘½ä»¤:</h2><p><strong>â‘ ã€è¿›å…¥æŸä¸€ä¸ªç›®å½•</strong> <code>cd ç›®å½•å</code></p><p><strong>â‘¡ã€è¿›å…¥å¤šçº§ç›®å½•</strong>  <code>cd ç›®å½•å/ç›®å½•å</code></p><p><strong>â‘¢ã€è¿”å›ä¸Šä¸€çº§ç›®å½•</strong> <code>cd ..</code></p><p><strong>â‘£ã€è¿”å›æ ¹ç›®å½•</strong> <code>cd /</code></p><p><strong>â‘¤ã€è¿”å›æ ¹ç›®å½•ä¸‹çš„æŸä¸€ä¸ªç›®å½•</strong> <code>cd /ç›®å½•å</code></p><p><strong>â‘¥ã€å›å®¶</strong> <code>cd ~</code></p><h2 id="2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•"><a href="#2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•" class="headerlink" title="2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•:"></a>2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•:</h2><p><strong>â‘ ã€åˆ›å»ºç›®å½•</strong> <code>mkdir ç›®å½•å</code></p><p><strong>â‘¡ã€åˆ›å»ºå¤šçº§ç›®å½•</strong> <code>mkdir -p a/b/c</code></p><p><strong>â‘¢ã€åˆ é™¤ç›®å½•(åªèƒ½åˆ é™¤ç©ºç›®å½•)</strong> <code>rmdir ç›®å½•å</code></p><p><strong>â‘£ã€åˆ é™¤ç›®å½•(å¯åˆ é™¤éç©ºç›®å½•ï¼Œå¸¦è¯¢é—®)</strong> <code>rm -r</code></p><p><strong>â‘¤ã€åˆ é™¤ç›®å½•(ä¸å¸¦è¯¢é—®ï¼Œè°¨æ…ä½¿ç”¨)</strong> <code>rm -rf</code></p><h2 id="3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ"><a href="#3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ" class="headerlink" title="3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ:"></a>3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ:</h2><p><strong>â‘ ã€åˆ›å»ºç©ºç™½æ–‡ä»¶</strong> <code>touch æ–‡ä»¶å</code></p><p><strong>â‘¡ã€å¤åˆ¶æ–‡ä»¶</strong></p><p> <code>cp a.txt b.txt</code> <em>è¡¨ç¤ºå¤åˆ¶aæ–‡ä»¶å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><code>cp a.txt dir/b.txt</code> <em>è¡¨ç¤ºæŠŠaå¤åˆ¶åˆ°diræ–‡ä»¶å¤¹ä¸‹å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><strong>â‘¢ã€ç§»åŠ¨æ–‡ä»¶</strong> <code>mv a.txt dir/b.txt</code> <em>æŠŠa.txtç§»åŠ¨åˆ°dirç›®å½•ä¸‹å¹¶é‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘£ã€é‡å‘½åæ–‡ä»¶</strong> <code>mv a.txt b.txt</code> <em>æŠŠa.txté‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘¤ã€åˆ é™¤æ–‡ä»¶</strong></p><p><code>rm æ–‡ä»¶å</code> <em>å¸¦è¯¢é—®çš„åˆ é™¤</em></p><p><code>rm -f æ–‡ä»¶å</code> <em>ä¸å¸¦è¯¢é—®çš„åˆ é™¤ã€‚</em></p><p><strong>â‘¥ã€æµè§ˆæ–‡ä»¶</strong></p><p> <code>cat æ–‡ä»¶å</code> <em>æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰å†…å®¹</em></p><p><code>more æ–‡ä»¶å</code> <em>åˆ†é¡µæ˜¾ç¤ºï¼Œç©ºæ ¼é”®ä¸‹ä¸€é¡µï¼Œå›è½¦é”®ä¸‹ä¸€è¡Œã€‚</em></p><p><code>less æ–‡ä»¶å</code> <em>åˆ†é¡µæ˜¾ç¤ºï¼Œpgupä¸Šä¸€é¡µï¼Œpgdnä¸‹ä¸€é¡µã€‚</em></p><p><code>tail -5 a.txt</code> <em>æ˜¾ç¤ºa.txtæ–‡ä»¶çš„æœ€å5è¡Œã€‚</em></p><p><code>tail -f æ–‡ä»¶å</code> <em>åŠ¨æ€çš„æŸ¥çœ‹ã€‚</em></p><h2 id="4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶"><a href="#4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶" class="headerlink" title="4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶:"></a>4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶:</h2><p><strong>â‘ ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°</strong> <code>ls</code></p><p><strong>â‘¡ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°(åŒ…æ‹¬éšè—çš„)</strong> <code>ls -a</code></p><p><strong>â‘¢ã€æŸ¥çœ‹æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(æœ€å¸¸ç”¨)</strong> <code>ll</code></p><p><strong>â‘£ã€å‹å¥½çš„æ˜¾ç¤º</strong> <code>ll -h</code> <em>æ¯”å¦‚æ˜¾ç¤ºçš„æ–‡ä»¶å¤§å°æ˜¯kbè€Œä¸æ˜¯å­—èŠ‚ã€‚</em></p><h2 id="5ã€taræ‰“åŒ…å‘½ä»¤"><a href="#5ã€taræ‰“åŒ…å‘½ä»¤" class="headerlink" title="5ã€taræ‰“åŒ…å‘½ä»¤:"></a>5ã€taræ‰“åŒ…å‘½ä»¤:</h2><p><strong>â‘ ã€å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…æˆhaha.tar</strong> <code>tar -cvf haha.tar ./*</code></p><p><strong>â‘¡ã€å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©æˆhaha.tar</strong> <code>tar -zcvf haha.tar.gz ./*</code></p><p><strong>â‘¢ã€å°†haha.tarè§£å‹åˆ°å½“å‰ç›®å½•</strong> <code>tar -xvf haha.tar</code></p><p><strong>â‘£ã€å°†haha.tarè§£å‹åˆ°bç›®å½•</strong> <code>tar -xvf haha.tar -C b</code> <em>æ³¨æ„Cæ˜¯å¤§å†™çš„ï¼</em></p><h2 id="6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤"><a href="#6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤" class="headerlink" title="6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤:"></a>6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤:</h2><p><strong>â‘ ã€grepå‘½ä»¤</strong></p><p><code>grep category a.txt</code> <em>è¡¨ç¤ºåœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²æ‰€åœ¨çš„è¡Œï¼Œå‰ææ˜¯æ‰“å¼€äº†a.txtæ–‡ä»¶ã€‚</em></p><p><code>grep category a.txt -A2</code> <em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„å‰ä¸¤è¡Œã€‚</em></p><p><code>grep category a.txt -B2</code> <em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„åä¸¤è¡Œã€‚</em></p><p><strong>â‘¡ã€æŸ¥çœ‹å½“å‰ç›®å½•</strong> <code>pwd</code></p><p><strong>â‘¢ã€wgetä¸‹è½½å‘½ä»¤</strong> <code>wget www.baidu.com</code> <em>ä¸‹è½½ç™¾åº¦é¦–é¡µ</em></p><h2 id="7ã€vi-vimç¼–è¾‘å™¨"><a href="#7ã€vi-vimç¼–è¾‘å™¨" class="headerlink" title="7ã€vi/vimç¼–è¾‘å™¨:"></a>7ã€vi/vimç¼–è¾‘å™¨:</h2><p><strong>â‘ ã€ç¼–è¾‘å™¨æœ‰ä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯:</strong> <strong>å‘½ä»¤è¡Œæ¨¡å¼:</strong> æ­¤æ¨¡å¼æ— æ³•ç¼–è¾‘æ–‡ä»¶ï¼Œ<code>yy</code>å¤åˆ¶è¡Œï¼Œ<code>p</code>ç²˜è´´ï¼Œ<code>dd</code>åˆ é™¤è¡Œï¼ŒæŒ‰å¦‚ä¸‹é”®éƒ½å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼:</p><p><code>i</code>       å½“å‰ä½ç½®å‰æ’å…¥;</p><p><code>I</code>        å½“å‰è¡Œè¡Œé¦–æ’å…¥;</p><p><code>a</code>       å½“å‰ä½ç½®åæ’å…¥;</p><p><code>A</code>      å½“å‰è¡Œè¡Œå°¾æ’å…¥;</p><p><code>o</code>       å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œ;</p><p> <code>O</code>      å½“å‰çš„ä¹‹å‰æ’å…¥ä¸€è¡Œ</p><p><strong>æ’å…¥æ¨¡å¼:</strong>æ­¤æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚æŒ‰ <code>esc</code>é€€å‡ºæ’å…¥æ¨¡å¼ï¼Œå›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚ <strong>åº•è¡Œæ¨¡å¼:</strong>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æŒ‰ <code>:</code>ï¼Œå³å¯è¿›å…¥åº•è¡Œæ¨¡å¼ã€‚åº•è¡Œæ¨¡å¼æœ‰å¦‚ä¸‹å¸¸ç”¨å‘½ä»¤:</p><p> <code>q</code>        ä¸ä¿å­˜é€€å‡º;</p><p> <code>qï¼</code>    ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º;</p><p><code>wq</code>     ä¿å­˜é€€å‡º</p><h2 id="8ã€ç®¡é“"><a href="#8ã€ç®¡é“" class="headerlink" title="8ã€ç®¡é“:"></a>8ã€ç®¡é“:</h2><p><strong>ç®¡é“:<code>|</code>ï¼Œå°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚ä¾‹å¦‚:</strong> <strong>åœ¨ <code>ip addr</code>çš„è¾“å‡ºç»“æœä¸­æŸ¥æ‰¾ <code>192.168</code>å­—ç¬¦ä¸²:</strong> <code>ip addr | grep 192.168</code></p><h2 id="9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤"><a href="#9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤" class="headerlink" title="9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤:"></a>9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤:</h2><p><strong>â‘ ã€æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´</strong> <code>date</code>  æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´ <code>date -s &quot;2018-05-15 22:22:22&quot;</code>å°†ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸ºå¼•å·é‡Œé¢çš„æ—¶é—´</p><p><strong>â‘¡ã€æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</strong> <code>df</code> æŸ¥çœ‹ç£ç›˜ä¿¡æ¯ <code>df -h</code>  å‹å¥½åœ°å±•ç¤ºç£ç›˜ä¿¡æ¯</p><p><strong>â‘¢ã€æ¸…å±</strong> <code>clear</code>æˆ–è€…æŒ‰ <code>ctr L</code></p><p><strong>â‘£ã€è¿›ç¨‹</strong> <code>ps -ef</code>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ <code>ps -ef | grep ssh</code>æŸ¥æ‰¾sshè¿›ç¨‹</p><p><strong>â‘¤ã€æ€æ‰è¿›ç¨‹</strong> <code>kill 9527</code>æ€æ‰9527å·è¿›ç¨‹ <code>kill -9 9527</code> å¼ºåˆ¶æ€æ‰9527å·è¿›ç¨‹</p><p><strong>â‘¥ã€æŸ¥çœ‹ç½‘ç»œç«¯å£</strong> <code>netstat -an | grep 3306</code>æŸ¥çœ‹3306ç«¯å£å ç”¨æƒ…å†µ</p><p><strong>â‘¦ã€pingå‘½ä»¤</strong> <code>ping xx.xx.xxx</code>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/bg2015120901.png" alt=""></p><h1 id="GIT"><a href="#GIT" class="headerlink" title="GIT"></a>GIT</h1><p>ä¸‹é¢æ˜¯å¸¸ç”¨ Git å‘½ä»¤æ¸…å•ã€‚å‡ ä¸ªä¸“ç”¨åè¯çš„è¯‘åå¦‚ä¸‹ã€‚</p><blockquote><ul><li>Workspaceï¼šå·¥ä½œåŒº</li><li>Index / Stageï¼šæš‚å­˜åŒº</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰</li><li>Remoteï¼šè¿œç¨‹ä»“åº“</li></ul></blockquote><h2 id="ä¸€ã€æ–°å»ºä»£ç åº“"><a href="#ä¸€ã€æ–°å»ºä»£ç åº“" class="headerlink" title="ä¸€ã€æ–°å»ºä»£ç åº“"></a>ä¸€ã€æ–°å»ºä»£ç åº“</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span>$ <span class="token function">git</span> init<span class="token comment"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span>$ <span class="token function">git</span> init <span class="token punctuation">[</span>project-name<span class="token punctuation">]</span><span class="token comment"># ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span>$ <span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h2><p>Gitçš„è®¾ç½®æ–‡ä»¶ä¸º <code>.gitconfig</code>ï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚</p><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span>$ <span class="token function">git</span> config --list<span class="token comment"># ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span>$ <span class="token function">git</span> config -e <span class="token punctuation">[</span>--global<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.name <span class="token string">"[name]"</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.email <span class="token string">"[email address]"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="ä¸‰ã€å¢åŠ -åˆ é™¤æ–‡ä»¶"><a href="#ä¸‰ã€å¢åŠ -åˆ é™¤æ–‡ä»¶" class="headerlink" title="ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶"></a>ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>dir<span class="token punctuation">]</span><span class="token comment"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token comment"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span><span class="token comment"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span>$ <span class="token function">git</span> <span class="token function">add</span> -p<span class="token comment"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">mv</span> <span class="token punctuation">[</span>file-original<span class="token punctuation">]</span> <span class="token punctuation">[</span>file-renamed<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="å››ã€ä»£ç æäº¤"><a href="#å››ã€ä»£ç æäº¤" class="headerlink" title="å››ã€ä»£ç æäº¤"></a>å››ã€ä»£ç æäº¤</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>. -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -a<span class="token comment"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span>$ <span class="token function">git</span> commit -v<span class="token comment"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span><span class="token comment"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span>$ <span class="token function">git</span> commit --amend -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span>$ <span class="token function">git</span> commit --amend <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="äº”ã€åˆ†æ”¯"><a href="#äº”ã€åˆ†æ”¯" class="headerlink" title="äº”ã€åˆ†æ”¯"></a>äº”ã€åˆ†æ”¯</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span>$ <span class="token function">git</span> branch<span class="token comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -r<span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -a<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span>$ <span class="token function">git</span> branch --track <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span>$ <span class="token function">git</span> checkout -<span class="token comment"># å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span>$ <span class="token function">git</span> branch --set-upstream <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> merge <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> cherry-pick <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤åˆ†æ”¯</span>$ <span class="token function">git</span> branch -d <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> push origin --delete <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span>$ <span class="token function">git</span> branch -dr <span class="token punctuation">[</span>remote/branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="å…­ã€æ ‡ç­¾"><a href="#å…­ã€æ ‡ç­¾" class="headerlink" title="å…­ã€æ ‡ç­¾"></a>å…­ã€æ ‡ç­¾</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰tag</span>$ <span class="token function">git</span> tag<span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤æœ¬åœ°tag</span>$ <span class="token function">git</span> tag -d <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹tag</span>$ <span class="token function">git</span> push origin :refs/tags/<span class="token punctuation">[</span>tagName<span class="token punctuation">]</span><span class="token comment"># æŸ¥çœ‹tagä¿¡æ¯</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æŒ‡å®štag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æ‰€æœ‰tag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --tags<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯"><a href="#ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯"></a>ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> status<span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span>$ <span class="token function">git</span> log<span class="token comment"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> log --stat<span class="token comment"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span>$ <span class="token function">git</span> log -S <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --pretty<span class="token operator">=</span>format:%s<span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --grep feature<span class="token comment"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span>$ <span class="token function">git</span> log --follow <span class="token punctuation">[</span>file<span class="token punctuation">]</span>$ <span class="token function">git</span> whatchanged <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span>$ <span class="token function">git</span> log -p <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span>$ <span class="token function">git</span> log -5 --pretty --oneline<span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span>$ <span class="token function">git</span> shortlog -sn<span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span>$ <span class="token function">git</span> blame <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> HEAD<span class="token comment"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> <span class="token punctuation">[</span>first-branch<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span class="token punctuation">[</span>second-branch<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span>$ <span class="token function">git</span> <span class="token function">diff</span> --shortstat <span class="token string">"@&#123;0 day ago&#125;"</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span>$ <span class="token function">git</span> show --name-only <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span>:<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span>$ <span class="token function">git</span> reflog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="å…«ã€è¿œç¨‹åŒæ­¥"><a href="#å…«ã€è¿œç¨‹åŒæ­¥" class="headerlink" title="å…«ã€è¿œç¨‹åŒæ­¥"></a>å…«ã€è¿œç¨‹åŒæ­¥</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span>$ <span class="token function">git</span> fetch <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> remote -v<span class="token comment"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span>$ <span class="token function">git</span> remote show <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span>$ <span class="token function">git</span> remote <span class="token function">add</span> <span class="token punctuation">[</span>shortname<span class="token punctuation">]</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token comment"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span>$ <span class="token function">git</span> pull <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --force<span class="token comment"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="ä¹ã€æ’¤é”€"><a href="#ä¹ã€æ’¤é”€" class="headerlink" title="ä¹ã€æ’¤é”€"></a>ä¹ã€æ’¤é”€</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token builtin class-name">.</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span>$ <span class="token function">git</span> reset --hard<span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span>$ <span class="token function">git</span> reset --hard <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset --keep <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span><span class="token comment"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> revert <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span>$ <span class="token function">git</span> stash$ <span class="token function">git</span> stash pop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></blockquote><h2 id="åã€å…¶ä»–"><a href="#åã€å…¶ä»–" class="headerlink" title="åã€å…¶ä»–"></a>åã€å…¶ä»–</h2><blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span>$ <span class="token function">git</span> archive<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure></blockquote><p>ä¸€ä¸ªå¸¸ç”¨çš„å®ä¾‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> remote <span class="token function">add</span> origin xxx<span class="token punctuation">(</span>å¤åˆ¶çš„SSHé“¾æ¥<span class="token punctuation">)</span><span class="token function">git</span> branch -m master main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token function">git</span> commit -m <span class="token string">"æ³¨é‡Š"</span> <span class="token function">git</span> pull --rebase origin main<span class="token function">git</span> push origin main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><embed src="./code.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯æ¬¡å¿˜äº†éƒ½å¾—æœï¼Œè®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428094832340.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="ç¬”è®°" scheme="http://enderfga.cn/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€ä¹‹å»ºæ¨¡ä¸æ§åˆ¶</title>
    <link href="http://enderfga.cn/2022/04/25/auto1/"/>
    <id>http://enderfga.cn/2022/04/25/auto1/</id>
    <published>2022-04-25T08:57:56.000Z</published>
    <updated>2022-05-28T16:35:24.689Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€çš„å»ºæ¨¡ä¸æ§åˆ¶ä½œä¸š</p><span id="more"></span><p>æ¦‚å¿µé¢˜ï¼ˆ18åˆ†ï¼‰</p><ol><li>è‡ªåŠ¨é©¾é©¶ä¸ºäº†å‡ºè‰²åœ°å®Œæˆé©¾é©¶ä»»åŠ¡ï¼Œå¯åˆ†ä¸ºå“ªå››å¤§æ¨¡å—ï¼Ÿï¼ˆ4åˆ†ï¼‰</li><li>ç³»ç»Ÿå»ºæ¨¡ä¸€èˆ¬åˆ†å“ªä¸¤ç§å»ºæ¨¡æ–¹å¼ï¼Ÿï¼ˆ2åˆ†ï¼‰</li><li>è¯·å†™å‡ºé«˜é€Ÿè½¬å‘è½¦è¾†æ¨¡å‹çš„ç®€åŒ–æ¨ªå‘è¯¯å·®æ¨¡å‹ï¼ˆå³å››ä¸ªçŠ¶æ€ä¸ºè¯¯å·®ï¼‰ï¼ˆ4åˆ†ï¼‰</li><li>äºŒæ¬¡å‹æ€§èƒ½æŒ‡æ ‡å‡½æ•°ä¸€èˆ¬åŒ…å«å“ªä¸‰é¡¹ä¼˜åŒ–é¡¹ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>çº¿æ€§äºŒæ¬¡é—®é¢˜ä¸‰ç§é‡è¦å½¢å¼åˆ†åˆ«æ˜¯ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>Kalman Filterï¼ˆLQEï¼‰å¦‚ä½•é€šè¿‡LQRæ±‚å¾—ï¼Œè¯·å†™å‡ºmatlabå…³é”®ä»£ç ï¼Œå³ï¼šxxx=lqr(xxx) ï¼ˆ2åˆ†ï¼‰</li></ol><p>ç¼–ç¨‹å®è·µé¢˜ï¼ˆ12åˆ†ï¼‰</p><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image002.png" alt=""></p><p>ç»™å®šä¸€ä¸ªåŒè´¨ç³»ç»Ÿ:  m~1~ =2, m~2~=1, å¼¹ç°§ç³»æ•° k=5, é˜»å°¼Ïƒ=0.1, è´¨é‡å—ä¸åœ°é¢çš„æ»‘åŠ¨é˜»å°¼ Î´=0.1 (ä¸é€Ÿåº¦æœ‰æˆæ­£æ¯”)ã€‚åˆå§‹æ—¶åˆ» m~1~ è´¨é‡å—å¤„äº x=0 çš„ä½ç½®, ä¸¤è´¨é‡å—è·ç¦»ä¸º 0 ã€‚ç°åœ¨ m~2~ å¤„ä½œç”¨ä¸€å¤–åŠ› F æ‹–åŠ¨ç³»ç»Ÿä½¿ m~1~ ä¸ m~2~ è´¨é‡å—å‡å¤„äº x=5 çš„ä½ç½®ã€‚</p><ol><li>å¯¹ç³»ç»Ÿå»ºæ¨¡ï¼ˆç³»ç»Ÿå¯ä»¥ç›´æ¥æµ‹é‡ä¸¤ä¸ªç‰©ä½“çš„ä½ç½®ï¼‰</li><li>åˆ¤æ–­ç³»ç»Ÿå¯æ§æ€§ä¸å¯è§‚</li><li>ç»“åˆç»™å®šçš„simulinkå’Œè„šæœ¬æ–‡ä»¶ï¼Œè®¾è®¡å®ç°ä¸Šè¿°ç³»ç»Ÿçš„LQGæ§åˆ¶å™¨å¹¶ç»˜åˆ¶é—­ç¯æ§åˆ¶æ€§èƒ½æ›²çº¿</li></ol><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image020.jpg" alt=""></p><embed src="./auto1.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€çš„å»ºæ¨¡ä¸æ§åˆ¶ä½œä¸š&lt;/p&gt;</summary>
    
    
    
    
    <category term="è‡ªåŠ¨é©¾é©¶" scheme="http://enderfga.cn/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/"/>
    
  </entry>
  
  <entry>
    <title>Cognitive Mapping and Planning for Visual Navigation</title>
    <link href="http://enderfga.cn/2022/04/24/CMP/"/>
    <id>http://enderfga.cn/2022/04/24/CMP/</id>
    <published>2022-04-24T14:56:51.000Z</published>
    <updated>2022-05-28T16:35:25.175Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¤çŸ¥ç§‘å­¦åŸºç¡€è¯¾ç¨‹è®¾è®¡æŠ¥å‘Š</p><span id="more"></span><p>å¼€æ”¾æ€§é¢˜ç›®ï¼Œç»“åˆè§†è¯­è¨€ã€è¯­éŸ³è¯†åˆ«ã€æœºå™¨äººå¹³å°ï¼Œé‡‡ç”¨Webots\ROSç­‰ä¸åŒå¼€æºä»¿çœŸç¯å¢ƒï¼Œæ„å»ºä¸€ä¸ªå•/å¤šæ™ºèƒ½ä½“çš„è®¤çŸ¥å¯¼èˆªã€è®¤çŸ¥è§„åˆ’ã€è®¤çŸ¥æ§åˆ¶ä»¿çœŸç®—ä¾‹ï¼Œé‡Œé¢å¯ä»¥ç”¨å·²æœ‰çš„å„ç§ä¼ æ„Ÿå™¨ç»„ä»¶ã€æœºå™¨äººæ¨¡å‹ï¼ŒåŸºäºå‰æœŸæ‰€è®²ç®€å•çš„è®¤çŸ¥æ™ºèƒ½çŸ¥è¯†ç‚¹åšä»¿çœŸè¯•éªŒï¼Œç®—æ³•å¯ä»¥ä»githubä¸Šå¼€æºä¸‹è½½ä½¿ç”¨ã€‚é¼“åŠ±å¤§å®¶é€‰æ‹©æ­¤é¢˜ç›®å¼€å±•ä¸€äº›å°è¯•éªŒï¼Œå¯ä»¥æé—®å®ç°çš„æ–¹å¼æ–¹æ³•ã€‚åŒæ—¶æäº¤ä»¿çœŸå®ç°çš„è®¾è®¡å’Œè¯•éªŒç ”ä¹ æŠ¥å‘Šã€‚çªå‡ºè®¤çŸ¥æ™ºèƒ½åº”ç”¨çš„å…³é”®è¦ç‚¹ï¼Œè¿›è¡Œè¯¦ç»†é˜è¿°è¯´æ˜ã€‚</p><embed src="./CMP.pdf" width="100%" height="750" type="application/pdf"><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220424225934056.png" alt=""></p><p>ã€1ã€‘è®ºæ–‡åœ°å€ï¼š <a href="https://arxiv.org/abs/1702.03920">https://arxiv.org/abs/1702.03920</a><br>ã€2ã€‘ä»£ç ï¼š <a href="https://github.com/tensorflow/models/tree/archive/research/cognitive_mapping_and_planning">https://github.com/tensorflow/models/tree/archive/research/cognitive_mapping_and_planning</a><br>ã€3ã€‘è®ºæ–‡Slideï¼š <a href="https://sites.google.com/view/cognitive-mapping-and-planning/?authuser=1">https://sites.google.com/view/cognitive-mapping-and-planning/?authuser=1</a><br>ã€4ã€‘ä½œè€…ä¸»é¡µï¼š <a href="https://people.eecs.berkeley.edu/~sgupta/">https://people.eecs.berkeley.edu/~sgupta/</a><br>ã€5ã€‘ä½œè€…ä¸»é¡µï¼š <a href="https://people.eecs.berkeley.edu/~svlevine/">https://people.eecs.berkeley.edu/~svlevine/</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¤çŸ¥ç§‘å­¦åŸºç¡€è¯¾ç¨‹è®¾è®¡æŠ¥å‘Š&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ— äººç³»ç»Ÿ" scheme="http://enderfga.cn/tags/%E6%97%A0%E4%BA%BA%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºå¥—æ¥å­—çš„ç½‘ç»œç¨‹åºè®¾è®¡</title>
    <link href="http://enderfga.cn/2022/04/19/net2/"/>
    <id>http://enderfga.cn/2022/04/19/net2/</id>
    <published>2022-04-19T11:07:49.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šå¥—æ¥å­—ç¼–ç¨‹å®éªŒ</p><span id="more"></span><p><img src="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220419191104235.png" alt=""></p><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨"><a href="#å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨" class="headerlink" title="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨"></a>å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ Pythonä¸­TCPè¿æ¥çš„å¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼šå¦‚ä½•åˆ›å»ºå¥—æ¥å­—ï¼Œå°†å…¶ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€å’Œç«¯å£ï¼Œä»¥åŠå‘é€å’Œæ¥æ”¶HTTPæ•°æ®åŒ…ã€‚æ‚¨è¿˜å°†å­¦ä¹ ä¸€äº›HTTPé¦–éƒ¨æ ¼å¼çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>æ‚¨å°†å¼€å‘ä¸€ä¸ªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚çš„WebæœåŠ¡å™¨ã€‚æ‚¨çš„WebæœåŠ¡å™¨åº”è¯¥æ¥å—å¹¶è§£æHTTPè¯·æ±‚ï¼Œç„¶åä»æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿè·å–æ‰€è¯·æ±‚çš„æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªç”±å“åº”æ–‡ä»¶ç»„æˆçš„HTTPå“åº”æ¶ˆæ¯ï¼Œå‰é¢æ˜¯é¦–éƒ¨è¡Œï¼Œç„¶åå°†å“åº”ç›´æ¥å‘é€ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœè¯·æ±‚çš„æ–‡ä»¶ä¸å­˜åœ¨äºæœåŠ¡å™¨ä¸­ï¼Œåˆ™æœåŠ¡å™¨åº”è¯¥å‘å®¢æˆ·ç«¯å‘é€â€œ404 Not Foundâ€å·®é”™æŠ¥æ–‡ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>åœ¨æ–‡ä»¶ä¸‹é¢ä½ ä¼šæ‰¾åˆ°WebæœåŠ¡å™¨çš„ä»£ç æ¡†æ¶ã€‚æ‚¨éœ€è¦å¡«å†™è¿™ä¸ªä»£ç ã€‚è€Œä¸”éœ€è¦åœ¨æ ‡æœ‰#Fill in start å’Œ # Fill in endçš„åœ°æ–¹å¡«å†™ä»£ç ã€‚å¦å¤–ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½å¯èƒ½éœ€è¦ä¸æ­¢ä¸€è¡Œä»£ç ã€‚</p><h3 id="è¿è¡ŒæœåŠ¡å™¨"><a href="#è¿è¡ŒæœåŠ¡å™¨" class="headerlink" title="è¿è¡ŒæœåŠ¡å™¨"></a>è¿è¡ŒæœåŠ¡å™¨</h3><p>å°†HTMLæ–‡ä»¶ï¼ˆä¾‹å¦‚HelloWorld.htmlï¼‰æ”¾åœ¨æœåŠ¡å™¨æ‰€åœ¨çš„ç›®å½•ä¸­ã€‚è¿è¡ŒæœåŠ¡å™¨ç¨‹åºã€‚ç¡®è®¤è¿è¡ŒæœåŠ¡å™¨çš„ä¸»æœºçš„IPåœ°å€ï¼ˆä¾‹å¦‚128.238.251.26ï¼‰ã€‚ä»å¦ä¸€ä¸ªä¸»æœºï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶æä¾›ç›¸åº”çš„URLã€‚ä¾‹å¦‚ï¼š</p><p><a href="http://128.238.251.26:6789/HelloWorld.html">http://128.238.251.26:6789/HelloWorld.html</a></p><p>â€œHelloWorld.htmlâ€æ˜¯æ‚¨æ”¾åœ¨æœåŠ¡å™¨ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚è¿˜è¦æ³¨æ„ä½¿ç”¨å†’å·åçš„ç«¯å£å·ã€‚æ‚¨éœ€è¦ä½¿ç”¨æœåŠ¡å™¨ä»£ç ä¸­ä½¿ç”¨çš„ç«¯å£å·æ¥æ›¿æ¢æ­¤ç«¯å£å·ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç«¯å£å·6789. æµè§ˆå™¨åº”è¯¥æ˜¾ç¤ºHelloWorld.htmlçš„å†…å®¹ã€‚å¦‚æœçœç•¥â€œ:6789â€ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨é»˜è®¤ç«¯å£80ï¼Œåªæœ‰å½“æ‚¨çš„æœåŠ¡å™¨æ­£åœ¨ç«¯å£80ç›‘å¬æ—¶ï¼Œæ‰ä¼šä»æœåŠ¡å™¨è·å–ç½‘é¡µã€‚</p><p>ç„¶åç”¨å®¢æˆ·ç«¯å°è¯•è·å–æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ä½ åº”è¯¥ä¼šå¾—åˆ°ä¸€ä¸ªâ€œ404 Not Foundâ€æ¶ˆæ¯ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹"><a href="#éœ€è¦ä¸Šäº¤çš„å†…å®¹" class="headerlink" title="éœ€è¦ä¸Šäº¤çš„å†…å®¹"></a>éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„æœåŠ¡å™¨ä»£ç ï¼Œä»¥åŠå®¢æˆ·ç«¯æµè§ˆå™¨çš„å±å¹•æˆªå›¾ï¼Œç”¨äºéªŒè¯æ‚¨æ˜¯å¦ä»æœåŠ¡å™¨å®é™…æ¥æ”¶åˆ°HTMLæ–‡ä»¶å†…å®¹ã€‚</p><h3 id="WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶"><a href="#WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶" class="headerlink" title="WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶"></a>WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶</h3><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#import socket module</span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">)</span> <span class="token comment">#Prepare a sever socket </span><span class="token comment">#Fill in start </span><span class="token comment">#Fill in end </span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>       <span class="token comment">#Establish the connection  </span>    <span class="token keyword">print</span> <span class="token string">'Ready to serve...'</span>       connectionSocket<span class="token punctuation">,</span> addr <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>             message <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>        filename <span class="token operator">=</span> message<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>                              f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        outputdata <span class="token operator">=</span> <span class="token comment">#Fill in start  #Fill in end</span>        <span class="token comment">#Send one HTTP header line into socket     </span>        <span class="token comment">#Fill in start     </span>        <span class="token comment">#Fill in end  </span>        <span class="token comment">#Send the content of the requested file to the client</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>outputdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            connectionSocket<span class="token punctuation">.</span>send<span class="token punctuation">(</span>outputdata<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        connectionSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> IOError<span class="token punctuation">:</span>        <span class="token comment">#Send response message for file not found</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end</span>        <span class="token comment">#Close client socket</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end         </span>    serverSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¯é€‰ç»ƒä¹ "><a href="#å¯é€‰ç»ƒä¹ " class="headerlink" title="å¯é€‰ç»ƒä¹ "></a>å¯é€‰ç»ƒä¹ </h3><ol><li>ç›®å‰ï¼Œè¿™ä¸ªWebæœåŠ¡å™¨ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚ã€‚è¯·å®ç°ä¸€ä¸ªèƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚çš„å¤šçº¿ç¨‹æœåŠ¡å™¨ã€‚ä½¿ç”¨çº¿ç¨‹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œåœ¨å›ºå®šç«¯å£ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ã€‚å½“ä»å®¢æˆ·ç«¯æ”¶åˆ°TCPè¿æ¥è¯·æ±‚æ—¶ï¼Œå®ƒå°†é€šè¿‡å¦ä¸€ä¸ªç«¯å£å»ºç«‹TCPè¿æ¥ï¼Œå¹¶åœ¨å¦å¤–çš„å•ç‹¬çº¿ç¨‹ä¸­ä¸ºå®¢æˆ·ç«¯è¯·æ±‚æä¾›æœåŠ¡ã€‚è¿™æ ·åœ¨æ¯ä¸ªè¯·æ±‚/å“åº”å¯¹çš„ç‹¬ç«‹çº¿ç¨‹ä¸­å°†æœ‰ä¸€ä¸ªç‹¬ç«‹çš„TCPè¿æ¥ã€‚</li><li>ä¸ä½¿ç”¨æµè§ˆå™¨ï¼Œç¼–å†™è‡ªå·±çš„HTTPå®¢æˆ·ç«¯æ¥æµ‹è¯•ä½ çš„æœåŠ¡å™¨ã€‚æ‚¨çš„å®¢æˆ·ç«¯å°†ä½¿ç”¨ä¸€ä¸ªTCPè¿æ¥ç”¨äºè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡å™¨å“åº”æ˜¾ç¤ºå‡ºæ¥ã€‚æ‚¨å¯ä»¥å‡å®šå‘é€çš„HTTPè¯·æ±‚å°†ä½¿ç”¨GETæ–¹æ³•ã€‚<br>å®¢æˆ·ç«¯åº”ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šæœåŠ¡å™¨IPåœ°å€æˆ–ä¸»æœºåï¼ŒæœåŠ¡å™¨æ­£åœ¨ç›‘å¬çš„ç«¯å£ï¼Œä»¥åŠè¢«è¯·æ±‚å¯¹è±¡åœ¨æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ã€‚</li></ol><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº"><a href="#å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº" class="headerlink" title="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº"></a>å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä½¿ç”¨Pythonè¿›è¡ŒUDPå¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ã€‚æ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨UDPå¥—æ¥å­—å‘é€å’Œæ¥æ”¶æ•°æ®æŠ¥ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®é€‚å½“çš„å¥—æ¥å­—è¶…æ—¶ã€‚åœ¨å®éªŒä¸­ï¼Œæ‚¨å°†ç†Ÿæ‚‰Pingåº”ç”¨ç¨‹åºåŠå…¶åœ¨è®¡ç®—ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚ä¸¢åŒ…ç‡ï¼‰ä¸­çš„ä½œç”¨ã€‚</p><p>æ‚¨é¦–å…ˆéœ€è¦ç ”ç©¶ä¸€ä¸ªç”¨Pythonç¼–å†™çš„ç®€å•çš„pingæœåŠ¡å™¨ç¨‹åºï¼Œå¹¶å®ç°å¯¹åº”çš„å®¢æˆ·ç«¯ç¨‹åºã€‚è¿™äº›ç¨‹åºæä¾›çš„åŠŸèƒ½ç±»ä¼¼äºç°ä»£æ“ä½œç³»ç»Ÿä¸­å¯ç”¨çš„æ ‡å‡†pingç¨‹åºåŠŸèƒ½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨æ›´ç®€å•çš„UDPåè®®ï¼Œè€Œä¸æ˜¯æ ‡å‡†äº’è”ç½‘æ§åˆ¶æ¶ˆæ¯åè®®ï¼ˆICMPï¼‰æ¥è¿›è¡Œé€šä¿¡ã€‚ pingåè®®å…è®¸å®¢æˆ·ç«¯æœºå™¨å‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¿œç¨‹æœºå™¨ï¼Œå¹¶ä½¿è¿œç¨‹æœºå™¨å°†æ•°æ®åŒ…è¿”å›åˆ°å®¢æˆ·ï¼ˆç§°ä¸ºå›æ˜¾ï¼‰çš„æ“ä½œã€‚å¦å¤–ï¼Œpingåè®®å…è®¸ä¸»æœºè®¡ç®—å®ƒåˆ°å…¶ä»–æœºå™¨çš„å¾€è¿”æ—¶é—´ã€‚</p><p>ä»¥ä¸‹æ˜¯PingæœåŠ¡å™¨ç¨‹åºçš„å®Œæ•´ä»£ç ã€‚ä½ çš„ä»»åŠ¡æ˜¯å†™å‡ºPingå®¢æˆ·ç«¯ç¨‹åºã€‚</p><h3 id="æœåŠ¡å™¨ä»£ç "><a href="#æœåŠ¡å™¨ä»£ç " class="headerlink" title="æœåŠ¡å™¨ä»£ç "></a>æœåŠ¡å™¨ä»£ç </h3><p>ä»¥ä¸‹ä»£ç å®Œæ•´å®ç°äº†ä¸€ä¸ªpingæœåŠ¡å™¨ã€‚æ‚¨éœ€è¦åœ¨è¿è¡Œå®¢æˆ·ç«¯ç¨‹åºä¹‹å‰ç¼–è¯‘å¹¶è¿è¡Œæ­¤ä»£ç ã€‚<em>è€Œä¸”æ‚¨ä¸éœ€è¦ä¿®æ”¹æ­¤ä»£ç ã€‚</em></p><p>åœ¨è¿™ä¸ªæœåŠ¡å™¨ä»£ç ä¸­ï¼Œ30ï¼…çš„å®¢æˆ·ç«¯çš„æ•°æ®åŒ…ä¼šè¢«æ¨¡æ‹Ÿä¸¢å¤±ã€‚ä½ åº”è¯¥ä»”ç»†ç ”ç©¶è¿™ä¸ªä»£ç ï¼Œå®ƒå°†å¸®åŠ©ä½ ç¼–å†™pingå®¢æˆ·ç«¯ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># UDPPingerServer.py </span><span class="token comment"># We will need the following module to generate randomized lost packets import random </span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">import</span> random<span class="token comment"># Create a UDP socket  </span><span class="token comment"># Notice the use of SOCK_DGRAM for UDP packets </span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_DGRAM<span class="token punctuation">)</span> <span class="token comment"># Assign IP address and port number to socket </span>serverSocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>   <span class="token comment"># Generate random number in the range of 0 to 10 </span>rand <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>   <span class="token comment"># Receive the client packet along with the address it is coming from  </span>message<span class="token punctuation">,</span> address <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token comment"># Capitalize the message from the client   </span>message <span class="token operator">=</span> message<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If rand is less is than 4, we consider the packet lost and do not respond   </span><span class="token keyword">if</span> rand <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">:</span>     <span class="token keyword">continue</span>   <span class="token comment"># Otherwise, the server responds     </span>serverSocket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>message<span class="token punctuation">,</span> address<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æœåŠ¡å™¨ç¨‹åºåœ¨ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ç›‘å¬åˆ°æ¥çš„UDPæ•°æ®åŒ…ã€‚å½“æ•°æ®åŒ…åˆ°è¾¾æ—¶ï¼Œå¦‚æœç”Ÿæˆä¸€ä¸ªéšæœºæ•´æ•°å¤§äºæˆ–ç­‰äº4ï¼Œåˆ™æœåŠ¡å™¨å°†æ•°å­—è½¬ä¸ºå¤§å†™å¹¶å°†å…¶å‘é€å›å®¢æˆ·ç«¯ã€‚</p><h3 id="æ•°æ®åŒ…ä¸¢å¤±"><a href="#æ•°æ®åŒ…ä¸¢å¤±" class="headerlink" title="æ•°æ®åŒ…ä¸¢å¤±"></a>æ•°æ®åŒ…ä¸¢å¤±</h3><p>UDPä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸å¯é çš„ä¼ è¾“æœåŠ¡ã€‚æ¶ˆæ¯å¯èƒ½å› ä¸ºè·¯ç”±å™¨é˜Ÿåˆ—æº¢å‡ºï¼Œç¡¬ä»¶é”™è¯¯æˆ–å…¶ä»–åŸå› ï¼Œè€Œåœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚ä½†ç”±äºåœ¨å†…ç½‘ä¸­å¾ˆä¸¢åŒ…ç”šè‡³ä¸ä¸¢åŒ…ï¼Œæ‰€ä»¥åœ¨æœ¬å®éªŒå®¤çš„æœåŠ¡å™¨ç¨‹åºæ·»åŠ äººä¸ºæŸå¤±æ¥æ¨¡æ‹Ÿç½‘ç»œä¸¢åŒ…çš„å½±å“ã€‚æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªéšæœºæ•´æ•°ï¼Œç”±å®ƒç¡®å®šä¼ å…¥çš„æ•°æ®åŒ…æ˜¯å¦ä¸¢å¤±ã€‚</p><h3 id="å®¢æˆ·ç«¯ä»£ç "><a href="#å®¢æˆ·ç«¯ä»£ç " class="headerlink" title="å®¢æˆ·ç«¯ä»£ç "></a>å®¢æˆ·ç«¯ä»£ç </h3><p>æ‚¨éœ€è¦å®ç°ä»¥ä¸‹å®¢æˆ·ç«¯ç¨‹åºã€‚</p><p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€10æ¬¡pingã€‚å› ä¸ºUDPæ˜¯ä¸å¯é çš„åè®®ï¼Œæ‰€ä»¥ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®åŒ…å¯èƒ½åœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯ä¸èƒ½æ— é™æœŸåœ°ç­‰å¾…pingæ¶ˆæ¯çš„å›å¤ã€‚å®¢æˆ·ç­‰å¾…æœåŠ¡å™¨å›ç­”çš„æ—¶é—´è‡³å¤šä¸ºä¸€ç§’ï¼Œå¦‚æœåœ¨ä¸€ç§’å†…æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥å‡å®šæ•°æ®åŒ…åœ¨ç½‘ç»œä¼ è¾“æœŸé—´ä¸¢å¤±ã€‚æ‚¨éœ€è¦æŸ¥æ‰¾Pythonæ–‡æ¡£ï¼Œä»¥äº†è§£å¦‚ä½•åœ¨æ•°æ®æŠ¥å¥—æ¥å­—ä¸Šè®¾ç½®è¶…æ—¶å€¼ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥</p><ol><li>ä½¿ç”¨UDPå‘é€pingæ¶ˆæ¯ï¼ˆæ³¨æ„ï¼šä¸åŒäºTCPï¼Œæ‚¨ä¸éœ€è¦é¦–å…ˆå»ºç«‹è¿æ¥ï¼Œå› ä¸ºUDPæ˜¯æ— è¿æ¥åè®®ã€‚ï¼‰</li><li>ä»æœåŠ¡å™¨è¾“å‡ºå“åº”æ¶ˆæ¯</li><li>å¦‚æœä»æœåŠ¡å™¨å—åˆ°å“åº”ï¼Œåˆ™è®¡ç®—å¹¶è¾“å‡ºæ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶å»¶ï¼ˆRTTï¼‰ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œ</li><li>å¦åˆ™è¾“å‡ºâ€œè¯·æ±‚è¶…æ—¶â€</li></ol><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ‚¨åº”è¯¥å…ˆåœ¨è®¡ç®—æœºä¸Šè¿è¡Œ <code>UDPPingerServer.py</code>ï¼Œå¹¶é€šè¿‡å‘ <code>localhost</code>ï¼ˆæˆ–127.0.0.1ï¼‰å‘é€æ•°æ®åŒ…æ¥æµ‹è¯•å®¢æˆ·ç«¯ã€‚è°ƒè¯•å®Œæˆä»£ç åï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°pingæœåŠ¡å™¨å’Œpingå®¢æˆ·ç«¯åœ¨ä¸åŒæœºå™¨ä¸Šé€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚</p><h3 id="æ¶ˆæ¯æ ¼å¼"><a href="#æ¶ˆæ¯æ ¼å¼" class="headerlink" title="æ¶ˆæ¯æ ¼å¼"></a>æ¶ˆæ¯æ ¼å¼</h3><p>æœ¬å®éªŒä¸­çš„pingæ¶ˆæ¯æ ¼å¼ä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼ã€‚å®¢æˆ·ç«¯æ¶ˆæ¯åªæœ‰ä¸€è¡Œï¼Œç”±ä»¥ä¸‹æ ¼å¼çš„ASCIIå­—ç¬¦ç»„æˆï¼š</p><blockquote><p>Ping <em>sequence_number time</em></p></blockquote><p>å…¶ä¸­<em>sequence_number</em>ä»1å¼€å§‹ï¼Œä¸€ç›´åˆ°10ï¼Œå…±10æ¡æ¶ˆæ¯ï¼Œè€Œ<em>time</em>åˆ™æ˜¯å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯æ—¶çš„æ—¶é—´ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹-1"><a href="#éœ€è¦ä¸Šäº¤çš„å†…å®¹-1" class="headerlink" title="éœ€è¦ä¸Šäº¤çš„å†…å®¹"></a>éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„å®¢æˆ·ç«¯ä»£ç å’Œå±å¹•æˆªå›¾ï¼Œä»¥éªŒè¯æ‚¨çš„pingç¨‹åºæ˜¯å¦æŒ‰éœ€æ±‚è¿è¡Œã€‚</p><h3 id="å¯é€‰ç»ƒä¹ -1"><a href="#å¯é€‰ç»ƒä¹ -1" class="headerlink" title="å¯é€‰ç»ƒä¹ "></a>å¯é€‰ç»ƒä¹ </h3><ol><li>ç›®å‰ï¼Œç¨‹åºè®¡ç®—æ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼Œå¹¶å•ç‹¬æ‰“å°å‡ºæ¥ã€‚è¯·æŒ‰ç…§æ ‡å‡†pingç¨‹åºçš„æ¨¡å¼ä¿®æ”¹ã€‚æ‚¨éœ€è¦åœ¨å®¢æˆ·ç«¯æ¯æ¬¡pingåæ˜¾ç¤ºæœ€å°ï¼Œæœ€å¤§å’Œå¹³å‡RTTã€‚å¦å¤–ï¼Œè¿˜éœ€è®¡ç®—ä¸¢åŒ…ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰ã€‚</li><li>UDP Pingçš„å¦ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨æ˜¯UDP Heartbeatã€‚å¿ƒè·³å¯ç”¨äºæ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦å·²å¯åŠ¨å¹¶è¿è¡Œï¼Œå¹¶æŠ¥å‘Šå•å‘ä¸¢åŒ…ã€‚å®¢æˆ·ç«¯åœ¨UDPæ•°æ®åŒ…ä¸­å°†ä¸€ä¸ªåºåˆ—å·å’Œå½“å‰æ—¶é—´æˆ³å‘é€ç»™æ­£åœ¨ç›‘å¬å®¢æˆ·ç«¯å¿ƒè·³çš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œè®¡ç®—æ—¶å·®ï¼ŒæŠ¥å‘Šä¸¢åŒ…ï¼ˆè‹¥å‘ç”Ÿï¼‰ã€‚å¦‚æœå¿ƒè·³æ•°æ®åŒ…åœ¨æŒ‡å®šçš„ä¸€æ®µæ—¶é—´å†…ä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå·²ç»åœæ­¢ã€‚å®ç°UDP Heartbeatï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼‰ã€‚æ‚¨éœ€è¦ä¿®æ”¹ç»™å®šçš„UDPPingerServer.pyå’Œæ‚¨è‡ªå·±çš„UDP pingå®¢æˆ·ç«¯ã€‚</li></ol><p><strong>ä»¥ä¸Šå†…å®¹æ¥è‡ªã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶å‘ä¸‹æ–¹æ³•ã€‹å®˜æ–¹æ–‡æ¡£ï¼Œä¸æˆ‘çš„ä½œä¸šæœ‰éƒ¨åˆ†ä¸åŒï¼Œè¯¦è§pdfã€‚</strong></p><p><strong>ä¸ªäººå®éªŒæŠ¥å‘Š</strong></p><embed src="./Socket.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç½‘ä½œä¸šï¼šå¥—æ¥å­—ç¼–ç¨‹å®éªŒ&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
</feed>
