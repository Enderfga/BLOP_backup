<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Enderfga&#39;Blog</title>
  
  
  <link href="http://enderfga.cn/atom.xml" rel="self"/>
  
  <link href="http://enderfga.cn/"/>
  <updated>2022-05-29T01:16:18.261Z</updated>
  <id>http://enderfga.cn/</id>
  
  <author>
    <name>Enderfga</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Docker å¸¸ç”¨å‘½ä»¤ä¸æ“ä½œ</title>
    <link href="http://enderfga.cn/2022/05/29/docker/"/>
    <id>http://enderfga.cn/2022/05/29/docker/</id>
    <published>2022-05-29T01:13:27.000Z</published>
    <updated>2022-05-29T01:16:18.261Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€å¼ å›¾æ•´ç†Dockerå¸¸ç”¨å‘½ä»¤</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091219215.png" /></p><h2 id="dockeråŸºæœ¬æ¦‚å¿µ">DockeråŸºæœ¬æ¦‚å¿µ</h2><p>Docker åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p><ul><li>é•œåƒï¼ˆ<code>Image</code>ï¼‰ï¼šDockeré•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</li><li>å®¹å™¨ï¼ˆ<code>Container</code>ï¼‰ï¼šé•œåƒï¼ˆ<code>Image</code>ï¼‰å’Œå®¹å™¨ï¼ˆ<code>Container</code>ï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„<code>ç±»</code> å’Œ <code>å®ä¾‹</code>ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</li><li>ä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ï¼šä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ç±»ä¼¼Gitçš„è¿œç¨‹ä»“åº“ï¼Œé›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶ã€‚</li></ul><p>ä¸‰è€…å…³ç³»å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091304514.png" /></p><p>æ¥ä¸‹æ¥çœ‹ä¸€çœ‹Dockerçš„å¸¸ç”¨å‘½ä»¤ã€‚</p><h2 id="æœåŠ¡">æœåŠ¡</h2><ul><li>æŸ¥çœ‹Dockerç‰ˆæœ¬ä¿¡æ¯</li></ul><p>docker version</p><ul><li>æŸ¥çœ‹dockerç®€è¦ä¿¡æ¯</li></ul><p>docker -v</p><ul><li>å¯åŠ¨Docker</li></ul><p>systemctl start docker</p><ul><li>å…³é—­docker</li></ul><p>systemctl stop docker</p><ul><li>è®¾ç½®å¼€æœºå¯åŠ¨</li></ul><p>systemctl enable docker</p><ul><li>é‡å¯dockeræœåŠ¡</li></ul><p>service docker restart</p><ul><li>å…³é—­dockeræœåŠ¡</li></ul><p>service docker stop</p><h2 id="é•œåƒ">é•œåƒ</h2><h3 id="é•œåƒä»“åº“">é•œåƒä»“åº“</h3><p><ahref="https://link.segmentfault.com/?enc=eCypHIByefaQ8WlX8AJqSg%3D%3D.IV619qtOOjR2McoljdjR%2FNJXcHjWaOrxy0NrT1051R7Ot%2BYs5eUPDK5lfZoTudgL">DockerHub</a> ç­‰é•œåƒä»“åº“ä¸Šæœ‰å¤§é‡çš„é«˜è´¨é‡çš„é•œåƒå¯ä»¥ç”¨ï¼Œå¯ä»¥ä»ä»“åº“è·å–é•œåƒã€‚</p><ul><li>æ£€ç´¢é•œåƒ</li></ul><p>docker search å…³é”®å­—</p><ul><li>æ‹‰å–é•œåƒ</li></ul><p>docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]</p><h3 id="é•œåƒç®¡ç†">é•œåƒç®¡ç†</h3><ul><li>åˆ—å‡ºé•œåƒ</li></ul><p>docker image ls docker images</p><ul><li>åˆ é™¤é•œåƒ</li></ul><p># åˆ é™¤æŒ‡å®šé•œåƒ docker rmi <é•œåƒId></p><ul><li>å¯¼å‡ºé•œåƒ</li></ul><p># å°†é•œåƒä¿å­˜ä¸ºå½’æ¡£æ–‡ä»¶ docker save</p><ul><li>å¯¼å…¥é•œåƒ</li></ul><p>docker load</p><h3 id="dockerfileæ„å»ºé•œåƒ">Dockerfileæ„å»ºé•œåƒ</h3><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ ¼å¼çš„é… æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Dockerfileæ¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„é•œåƒã€‚</p><p>Dockerfile ç”±ä¸€è¡Œè¡Œè¡Œå‘½ä»¤è¯­å¥ç»„æˆï¼Œå¹¶ä¸”æ”¯æŒä»¥ï¼ƒå¼€å¤´çš„æ³¨é‡Šè¡Œ.</p><h4 id="dockerfileå¸¸è§æŒ‡ä»¤">Dockerfileå¸¸è§æŒ‡ä»¤</h4><p>ä¸‹é¢æ˜¯Dockerfileä¸­ä¸€äº›å¸¸è§çš„æŒ‡ä»¤ï¼š</p><ul><li>FROMï¼šæŒ‡å®šåŸºç¡€é•œåƒ</li><li>RUNï¼šæ‰§è¡Œå‘½ä»¤</li><li>COPYï¼šå¤åˆ¶æ–‡ä»¶</li><li>ADDï¼šæ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</li><li>CMDï¼šå®¹å™¨å¯åŠ¨å‘½ä»¤</li><li>ENVï¼šè®¾ç½®ç¯å¢ƒå˜é‡</li><li>EXPOSEï¼šæš´éœ²ç«¯å£</li></ul><p>å…¶å®ƒçš„æŒ‡ä»¤è¿˜æœ‰ENTRYPOINTã€ARGã€VOLUMEã€WORKDIRã€USERã€HEALTHCHECKã€ONBUILDã€LABELç­‰ç­‰ã€‚</p><h4 id="é•œåƒæ„å»º">é•œåƒæ„å»º</h4><p>docker build</p><h4 id="é•œåƒè¿è¡Œ">é•œåƒè¿è¡Œ</h4><p>é•œåƒè¿è¡Œï¼Œå°±æ˜¯æ–°å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚</p><p>docker run [é•œåƒID]</p><h2 id="å®¹å™¨">å®¹å™¨</h2><h3 id="å®¹å™¨ç”Ÿå‘½å‘¨æœŸ">å®¹å™¨ç”Ÿå‘½å‘¨æœŸ</h3><ul><li>å¯åŠ¨ï¼šå¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚</li></ul><p># æ–°å»ºå¹¶å¯åŠ¨ docker run [é•œåƒå/é•œåƒID] # å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨ docker start[å®¹å™¨ID]</p><ul><li>æŸ¥çœ‹å®¹å™¨</li></ul><p># åˆ—å‡ºæœ¬æœºè¿è¡Œçš„å®¹å™¨ $ docker ps #åˆ—å‡ºæœ¬æœºæ‰€æœ‰çš„å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢å’Œè¿è¡Œï¼‰ $ docker ps -a</p><ul><li>åœæ­¢å®¹å™¨</li></ul><p># åœæ­¢è¿è¡Œçš„å®¹å™¨ docker stop [å®¹å™¨ID] # æ€æ­»å®¹å™¨è¿›ç¨‹ docker kill[å®¹å™¨ID]</p><ul><li>é‡å¯å®¹å™¨</li></ul><p>docker restart [å®¹å™¨ID]</p><ul><li>åˆ é™¤å®¹å™¨</li></ul><p>docker rm [å®¹å™¨ID]</p><h3 id="è¿›å…¥å®¹å™¨">è¿›å…¥å®¹å™¨</h3><p>è¿›å…¥å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p># å¦‚æœä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ docker attach [å®¹å™¨ID] #äº¤äº’å¼è¿›å…¥å®¹å™¨ docker exec [å®¹å™¨ID]</p><p>è¿›å…¥å®¹å™¨é€šå¸¸ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œ<code>docker exec</code>åé¢è·Ÿçš„å¸¸è§å‚æ•°å¦‚ä¸‹ï¼š</p><p>ï¼ d, --detach åœ¨å®¹å™¨ä¸­åå°æ‰§è¡Œå‘½ä»¤ï¼› ï¼ i, --interactive=true Ifalse ï¼šæ‰“å¼€æ ‡å‡†è¾“å…¥æ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤</p><h3 id="å¯¼å‡ºå’Œå¯¼å…¥">å¯¼å‡ºå’Œå¯¼å…¥</h3><ul><li>å¯¼å‡ºå®¹å™¨</li></ul><p>#å¯¼å‡ºä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨åˆ°ä¸€ä¸ªæ–‡ä»¶ docker export [å®¹å™¨ID]</p><ul><li>å¯¼å…¥å®¹å™¨</li></ul><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ docker import [è·¯å¾„]</p><h3 id="å…¶å®ƒ">å…¶å®ƒ</h3><ul><li>æŸ¥çœ‹æ—¥å¿—</li></ul><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ docker logs [å®¹å™¨ID]</p><p>è¿™ä¸ªå‘½ä»¤æœ‰ä»¥ä¸‹å¸¸ç”¨å‚æ•° -f : è·Ÿè¸ªæ—¥å¿—è¾“å‡º</p><p>--since :æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿— -t : æ˜¾ç¤ºæ—¶é—´æˆ³ --tail:ä»…åˆ—å‡ºæœ€æ–°Næ¡å®¹å™¨æ—¥å¿—</p><ul><li>å¤åˆ¶æ–‡ä»¶</li></ul><p># ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ sudo docker cp host_pathcontainerID:container_path # ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº sudo docker cpcontainerID:container_path host_path</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€å¼ å›¾æ•´ç†Dockerå¸¸ç”¨å‘½ä»¤&lt;/p&gt;</summary>
    
    
    
    
    <category term="docker" scheme="http://enderfga.cn/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>å®‰ã®æ¨è</title>
    <link href="http://enderfga.cn/2022/05/28/suggest/"/>
    <id>http://enderfga.cn/2022/05/28/suggest/</id>
    <published>2022-05-28T13:33:51.000Z</published>
    <updated>2022-05-29T00:39:42.466Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528213455416.png" /></p><p>ä¸€æ—¶å…´èµ·ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æ¨èï¼›éœ€è¦ä»˜è´¹çš„ä¹Ÿå¾ˆå¤šï¼Œä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒæ­£ç‰ˆ</p><span id="more"></span><h1 id="ä¹¦ç­¾">ä¹¦ç­¾</h1><h2 id="æ‚é¡¹">æ‚é¡¹</h2><p><a href="https://enderfga.cn/">æˆ‘çš„åšå®¢</a></p><p>æ²¡æƒ³åˆ°å§ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªä¹¦ç­¾å±…ç„¶æ˜¯è‡ªå·±çš„åšå®¢è™½ç„¶æ²¡ä»€ä¹ˆé«˜è´¨é‡æ–‡ç« ï¼Œä½†æ‹¿æ¥å½“çŸ¥è¯†å¤‡å¿˜å½•è¿˜æ˜¯æŒºæ–¹ä¾¿çš„~</p><p><ahref="https://pan.baidu.com/disk/home?#/all?path=%2F&amp;vmode=list">ç™¾åº¦äº‘</a></p><p>ä¸Šäº†å¤§å­¦ä¹‹åä½¿ç”¨é¢‘ç‡å¾ˆä½ï¼Œå½“ç„¶ä¸»è¦åŸå› è¿˜æ˜¯æˆ‘æ ¡çš„ç½‘é€Ÿ....ä¸è¿‡æœ‰æ—¶å€™è¿˜æ˜¯ä¼šæ‹¿æ¥ä¸‹ä¸‹ç”µå½±</p><p><a href="https://translate.google.cn/">Google ç¿»è¯‘</a></p><p><a href="https://dict.cnki.net/index">CNKIç¿»è¯‘åŠ©æ‰‹</a></p><p><a href="https://www.deepl.com/translator">DeepLç¿»è¯‘</a></p><p>é‚£ä¸ªçŸ¥ç½‘çš„ç¿»è¯‘åŠ©æ‰‹åœ¨bç«™åˆ·è§†é¢‘è¢«æ¨èçš„ï¼Œè¿˜æ²¡æœ‰æ€ä¹ˆç”¨è¿‡ï¼›ä¸€èˆ¬ç”¨deeplï¼‹googleå¯¹ç…§ä½¿ç”¨</p><p><a href="http://www.gamersky.com/">æ¸¸æ°‘æ˜Ÿç©º</a></p><p>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ç½‘ç«™ï¼Œä»08å¹´å¼€å§‹æ¯å¤©æ™šä¸Š19ç‚¹å®šæ—¶æ‰“å¼€çœ‹å›§å›¾ï¼Œè™½ç„¶æ€ªå‚»çš„</p><p>ç°åœ¨æ²¡æœ‰ç›—ç‰ˆæ¸¸æˆä¸‹è½½äº†ï¼Œä½†å„ç§å„æ ·çš„èµ„è®¯å½“æ–°é—»çœ‹è¿˜æŒºæœ‰è¶£çš„(è¯„è®ºåŒºçš„æ¸¸æ°‘è€å“¥å¥½ç©)</p><p><a href="https://www.youtube.com/">YouTube</a></p><p>æ²¡å•¥å¥½è¯´çš„ï¼Œå…¶å®æˆ‘å¤§éƒ¨åˆ†æ—¶é—´ä¹Ÿåªç”¨bilibili</p><p><a href="https://www.zhihu.com/">çŸ¥ä¹</a></p><p>æœæœå„ç§çŸ¥è¯†ï¼Œçœ‹çœ‹æ–‡ç« è¿˜æœ‰ç§‘æŠ€äº§å“æ¨è</p><p><a href="https://portal.sysu.edu.cn/#/index">ä¸­å±±å¤§å­¦ç»Ÿä¸€é—¨æˆ·</a></p><p>æˆ‘æ ¡å®˜ç½‘çš„æ–°uiå¾ˆä¸é”™ï¼Œå®‰å“ç«¯ä¹Ÿé€‚é…äº†</p><p><a href="https://github.com/Enderfga?tab=stars">Your Stars</a></p><p>ä¹ æƒ¯äº†æ”¶è—starsæ¥ä¸ŠGitHubï¼ŒGitHubçš„ä½¿ç”¨å°±ä¸ç”¨ä»‹ç»äº†</p><p><a href="https://2550505.com/">æ¯›æ€ªä¿±ä¹éƒ¨</a></p><p>æ¯›æ€ªå±…ç„¶æœ‰è‡ªå·±çš„å®˜ç½‘äº†ï¼å¥½åƒåˆšåˆšèµ·æ­¥ï¼Œå¸Œæœ›æ—©æ—¥èƒ½ä¹°åˆ°hanserçš„ä¸“è¾‘ï¼</p><p><a href="https://www.douyin.com/">æŠ–éŸ³-è®°å½•ç¾å¥½ç”Ÿæ´»</a></p><p>ä¸ºäº†é˜²æ²‰è¿·ï¼Œæˆ‘å¸è½½äº†æŠ–éŸ³ï¼›ä½†è¿˜æ˜¯æƒ³åˆ·ï¼Œæœ‰æ—¶å€™å°±çœ‹çœ‹ç½‘é¡µç‰ˆ</p><p><a href="https://eshop-prices.com/?currency=CNY">eShop-Prices.com â€“The best price comparison tool for Nintendo Switch games â€“ ChineseRenminbi Yuan</a></p><p>ä¸€ä¸ªæ˜¾ç¤ºswitchæ¸¸æˆæœ€ä½ä»·æ ¼çš„ç½‘ç«™ï¼Œä¸è¿‡æˆ‘æ˜¯å¤§æ…ˆå–„å®¶ï¼Œä¹°äº†ä¹Ÿæ²¡æœ‰æ—¶é—´ç©</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528220111823.png" /></p><h2 id="å½±è§†">å½±è§†</h2><p>ç”±äºä¸‹é¢çš„ç½‘ç«™ç‰¹æ®Šæ€§ï¼Œä»–ä»¬å¸¸å¸¸è·‘è·¯æ¢åŸŸåÂ·Â·Â·</p><p><a href="http://www.rrdyw.net/">äººäººç”µå½±ç½‘</a></p><p><ahref="http://www.btbtt15.com/">BTä¹‹å®¶-BTç”µå½±å¤©å ‚-å½±è§†èµ„æºäº¤æµç¤¾åŒº</a></p><p><a href="http://www.kisssub.org/">çˆ±æ‹åŠ¨æ¼«</a></p><p>ä¸‹è½½ç”µå½±ï¼Œç•ªå‰§Â·Â·Â·ç­‰ç­‰çš„åœ°æ–¹ï¼Œå¦‚æœèƒ½æ‰“å¼€çš„è¯ï¼Œéƒ½æŒºå¥½ç”¨çš„</p><p><a href="http://www.age.tv/">åœ¨çº¿åŠ¨ç”» åŠ¨æ¼«ä¸‹è½½ - AGEåŠ¨æ¼«</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæ— å¼¹å¹•ï¼Œæ›´æ–°å¿«</p><p><a href="https://omofun.tv/">OmoFunåŠ¨æ¼«è§†é¢‘ç½‘ - (ï¿£ï¹ƒï¿£)~omO</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæœ‰å¼¹å¹•</p><p><a href="http://dyxs14.com/">ç”µå½±å…ˆç”Ÿ -èšåˆå…¨ç½‘é«˜æ¸…å½±è§†åœ¨çº¿è§‚çœ‹ã€ä¸‹è½½</a></p><p>åœ¨çº¿çœ‹å‰§</p><p><a href="http://www.549.tv/">å½±è§†æ£®æ—â€”â€”è§‚å½±ç¬¬ä¸€ç«™</a></p><p>ä¸€ä¸ªé›†åˆå¯¼èˆªç±»å‹çš„ç½‘ç«™ï¼Œä¸æ€ä¹ˆç”¨ï¼Œé™¤éä¸Šé¢çš„éƒ½æ‰“ä¸å¼€ä¼šè¯•ç€åœ¨é‡Œé¢æ¢ç´¢æ–°çš„</p><h2 id="å›¾ç‰‡">å›¾ç‰‡</h2><p><a href="https://apod.nasa.gov/">Astronomy Picture of the Day</a></p><p>æ¯å¤©ä¸€å¼ å®‡å®™ç…§ç‰‡å’Œä»‹ç»</p><p><a href="https://wallhaven.cc/">Awesome Wallpapers -wallhaven.cc</a></p><p>ç²¾ç¾çš„å£çº¸ï¼Œç™»å½•è§£é”å…¨éƒ¨å†…å®¹</p><p><a href="https://unsplash.com/">Beautiful Free Images &amp; Pictures| Unsplash</a></p><p>å¥½çœ‹çš„å›¾ç‰‡ï¼Œä¸æ˜¯å£çº¸ç±»å‹çš„</p><p><a href="https://tinypng.com/">TinyPNG</a></p><p><a href="https://www.picdiet.com/zh-cn">Picdiet - å‹ç¼©å›¾ç‰‡</a></p><p>å›¾ç‰‡æ— æŸå‹ç¼©</p><p><a href="https://bigjpg.com/">Bigjpg</a></p><p>å›¾ç‰‡æ— æŸæ”¾å¤§</p><p><a href="https://wordart.com/">WordArt.com - Word Cloud ArtCreator</a></p><p>åˆ¶ä½œè¯äº‘å›¾ï¼Œåˆšå¼€å§‹æˆ‘ç”¨pythonï¼Œåæ¥å‘ç°è¿˜æ˜¯ç”¨è¿™ä¸ªæ‹¿å»éª—äººæ•ˆæœå¥½ä¸€ç‚¹</p><p><a href="https://photomosh.com/">PhotoMosh</a></p><p>ä¸€ä¸ªâ€œæ— èŠâ€çš„ç½‘ç«™ï¼Œä¼šéšæœºç»™ä½ çš„å›¾ç‰‡æ¥ç‚¹å›¾åƒå¢å¹¿ï¼Œå»ºè®®è‡ªå·±è¯•è¯•</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221059628.png" /></p><h2 id="è½¯ä»¶">è½¯ä»¶</h2><p>è¿™é‡Œå†™çš„æ˜¯å…³äºè½¯ä»¶çš„ä¹¦ç­¾ï¼Œå¹¶ä¸æ˜¯æ¨èè½¯ä»¶</p><p><ahref="https://amazing-apps.gitbooks.io/windows-apps-that-amaze-us/content/zh-CN/?q=">åºç« Â· ç»èµåº”ç”¨</a></p><p>GitHubä¸Šä¸€ä¸ªæ—¨åœ¨ä»‹ç» Windowsç»å¦™é¡¹ç›®çš„ç½‘ç«™ï¼Œç°åœ¨èƒ½ç”¨ï¼Œä¸è¿‡å¥½åƒæ–­æ›´äº†</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221330033.png" /></p><p><a href="https://music.hwkxk.cn/">éŸ³ä¹åŠ©æ‰‹ -ç®€æ´æé€Ÿæœç´¢è§£æå„å¤§å¹³å°éŸ³ä¹</a></p><p>ç©·äººçš„æœ€çˆ±ï¼Œä¸è¿‡æœ€è¿‘æ— äº†ï¼Œæˆ‘ä¹Ÿæ˜¯å†™è¿™ä¸ªæ‰å‘ç°çš„ï¼Œå¸Œæœ›èƒ½å›æ¥</p><p><a href="https://www.ghxi.com/">æœæ ¸å‰¥å£³ - äº’è”ç½‘çš„å‡€åœŸ</a></p><p><a href="https://www.rjsos.com/">è½¯ä»¶SOS</a></p><p>ä¸¤ä¸ªæˆ‘ä¸‹è½½è½¯ä»¶çš„åœ°æ–¹ï¼Œç±»ä¼¼äºxmindï¼Œbandicamç­‰å¥½ç”¨çš„ä»˜è´¹è½¯ä»¶ä¸Šé¢å¯èƒ½æœ‰ç ´è§£ç‰ˆ</p><h2 id="çŸ¥è¯†">çŸ¥è¯†</h2><p>çœŸæ­£çš„å¹²è´§</p><p><ahref="http://www.ucdrs.superlib.net/">å…¨å›½å›¾ä¹¦é¦†å‚è€ƒå’¨è¯¢è”ç›Ÿ</a></p><p><a href="http://libgen.rs/">Library Genesis</a></p><p><a href="https://www.jiumodiary.com/">Jiumo Search é¸ æ‘©æœç´¢</a></p><p><a href="https://zh.z-lib.org/">Z-Library</a></p><p>ä»¥ä¸Šæ˜¯ä¸‹è½½ç”µå­ä¹¦çš„åœ°æ–¹ï¼Œzlibraryä½¿ç”¨é¢‘ç‡æœ€é«˜ï¼Œæˆ‘è¿˜æœ‰æŠŠæˆ‘æœ‰ä¸Šé¢æ²¡æœ‰çš„pdfä¸Šä¼ ï¼Œç¬¬äºŒä¸ªä¸‹è½½å›½å¤–çš„ä¹¦ç”¨çš„ï¼Œé¸ æ‘©åƒæ˜¯ä¸ªç™¾åº¦ç½‘ç›˜æœç´¢ç½‘ç«™ï¼Œèµ°æŠ•æ— è·¯çš„æ—¶å€™ä¼šæœï¼›æœ€åè¿™ä¸ªå‚è€ƒå’¨è¯¢è”ç›Ÿå…¶å®æœ¬èº«æ²¡ä»€ä¹ˆåµç”¨ï¼Œä½†ç»“åˆæ²¹çŒ´è„šæœ¬å¯ä»¥ç®€å•åœ°èŠ±1,2å—é’±ä¹°åˆ°pdfï¼Œæ¯”æ·˜å®æ–¹ä¾¿</p><p><ahref="https://apps.webofknowledge.com/UA_GeneralSearch_input.do?product=UA&amp;search_mode=GeneralSearch&amp;SID=D4NArRzmguT3sCmspng&amp;preferencesSaved=">Webof Science</a></p><p><a href="https://www.cnki.net/">ä¸­å›½çŸ¥ç½‘</a></p><p><a href="https://scholar.google.com/">Google Scholar</a></p><p><a href="https://xueshu.baidu.com/">ç™¾åº¦å­¦æœ¯</a></p><p><a href="https://readpaper.com/">è®ºæ–‡é˜…è¯»-ä¸“ä¸šçš„å­¦æœ¯è®¨è®ºç¤¾åŒº</a></p><p>åŸºæœ¬åªç”¨webofscienceå’Œè°·æ­Œå­¦æœ¯ï¼Œç™¾åº¦å­¦æœ¯ç”¨æ¥æ‰¹é‡å¼•ç”¨ï¼›é‚£ä¸ªç¤¾åŒºå¯ä»¥è¯»è¯»æ–‡çŒ®ï¼Œåˆ’è¯ç¿»è¯‘ï¼Œä¸è¿‡èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½çš„æ–¹å¼å®åœ¨å¤ªå¤šäº†ï¼›çŸ¥ç½‘å¤§ä¸€å†™æ”¿æ²»è¯¾ä½œä¸šçš„æ—¶å€™è¿˜ç”¨ï¼Œç°åœ¨æˆ‘ç”šè‡³ç‚¹ä¸å¼€äº†ã€‚</p><p><a href="https://oi-wiki.org/">OI Wiki</a></p><p><a href="https://labuladong.gitee.io/algo/">labuladongçš„ç®—æ³•å°æŠ„</a></p><p>æ”¶è—äº†ä½†å°±æ˜¯æ‡’å¾—ç‚¹å¼€çš„ç®—æ³•çŸ¥è¯†</p><p><a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹</a></p><p><ahref="https://missing-semester-cn.github.io/">è®¡ç®—æœºæ•™è‚²ä¸­ç¼ºå¤±çš„ä¸€è¯¾</a></p><p>é«˜è´¨é‡è‡ªå­¦å†…å®¹ï¼Œä½†å°±æ˜¯å¾ˆéš¾æœ‰è¢«ç‚¹å¼€çš„æœºä¼š</p><p><ahref="https://zh.wikipedia.org/wiki/Wikipedia:é¦–é¡µ">ç»´åŸºç™¾ç§‘</a></p><p>è™½ç„¶æ”¶è—çš„æ˜¯ä¸­æ–‡é¦–é¡µï¼Œä½†è¿˜æ˜¯ç”¨çš„è‹±æ–‡ç‰ˆæœèµ„æ–™ï¼ˆä¼šå…¨å¾ˆå¤šï¼Œç¿»è¯‘ä¸åŠæ—¶ï¼‰</p><p><a href="https://www.latexlive.com/">åœ¨çº¿LaTeXå…¬å¼ç¼–è¾‘å™¨</a></p><p>ocrå…¬å¼ï¼Œä»¥å‰ä¸€å¤©50æ¬¡ï¼Œç°åœ¨ä¸€å¤©10æ¬¡ï¼Œæ”¹ç”¨mathpixäº†</p><p><a href="https://paperswithcode.com/sota">State-of-the-Art</a></p><p>æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ å†™ä½œä¸šçš„æ—¶å€™çš„çµæ„Ÿæ¥æºï¼Œæˆ–è€…è¯´æ˜¯å€Ÿé‰´æ¥æºï¼›paperwithcodeçœŸçš„å¾ˆæ–¹ä¾¿</p><p><a href="https://cn.overleaf.com/latex/templates">Templates - -Overleaf</a></p><p>å°ç»„å¤§ä½œä¸šä¼šå¤§å®¶ä¸€èµ·ç”¨è¿™ä¸ªåœ¨çº¿ç¼–è¯‘ï¼Œæ¨¡æ¿çš„è¯æˆ‘è¿˜æ˜¯ä¹ æƒ¯è‡ªå·±å¸¸å¤‡çš„é‚£3ä¸ª</p><p><ahref="https://spcqwserdvymm.com.vika.cn/share/shryNwH3HRgvzMTaZVAGx/fodkuzz5eaw0w">ğŸ””Efficiency-follow</a></p><p>ä¹±ä¸ƒå…«ç³Ÿçš„å¥½ä¸œè¥¿åˆé›†ï¼Œè‡ªå·±æ¢ç´¢å§</p><p><a href="https://snip.mathpix.com/">Snip Notes</a></p><p>mathpixä»–ä»¬çš„ä¸€ä¸ªäº§å“ï¼Œæˆ‘æ‹¿æ¥ä¸Šä¼ è€å¸ˆå‘çš„pdfç„¶åæå–å†…å®¹æ”¾åˆ°æˆ‘çš„ä½œä¸šé‡Œ</p><p><a href="https://quillbot.com/">Paraphrasing Tool | QuillBotAI</a></p><p>è‹±æ–‡å†™ä½œå°å¸®æ‰‹ï¼Œå†™å‡ºæ¥ä¹‹åèƒ½å¸®å¿™æå‡æµç•…åº¦ã€ä¸“ä¸šæ€§ç­‰ç­‰ç­‰ç­‰ï¼ŒåŠŸèƒ½é«˜çº§çš„éƒ¨åˆ†è¦ä»˜è´¹</p><p><a href="https://stackoverflow.com/">Stack Overflow</a></p><p>ç¨‹åºçŒ¿çš„â€œçŸ¥ä¹â€ï¼Œä¸€èˆ¬æœ‰bugåœ¨è¿™ä¸€æœéƒ½èƒ½æœåˆ°ï¼Œæˆ‘æ²¡æ€ä¹ˆè¯•è¿‡é—®ç­”</p><p><a href="https://zs.symbolab.com/">Symbolab æ•°å­¦æ±‚è§£å™¨ -åˆ†æ­¥è®¡ç®—å™¨</a></p><p>å½“ä½ é«˜æ•°çŸ¥è¯†å¿˜çš„ä¸€å¹²äºŒå‡€ï¼Œé‡åˆ°é—®é¢˜å°±ç”¨è¿™ä¸ªæ¥è§£å§ï¼Œè¿˜æœ‰åˆ†æ­¥è¿‡ç¨‹</p><p><a href="https://www.ilovepdf.com/zh-cn/unlock_pdf">è§£é”PDFæ–‡ä»¶</a></p><p>é‡Œé¢è¿˜æœ‰å„ç§å„æ ·çš„pdfåŠŸèƒ½ï¼Œä¸è¿‡å­¦æ ¡æä¾›çš„æ­£ç‰ˆfoxitä¹ŸåŸºæœ¬éƒ½æœ‰ï¼Œä¸»è¦æ˜¯ç”¨æ¥è§£é”deeplç¿»è¯‘çš„æ–‡æ¡£ï¼ˆåªè¯»ï¼‰</p><h1 id="æ‰©å±•">æ‰©å±•</h1><h2 id="å»å¹¿å‘Š">å»å¹¿å‘Š</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223252001.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223408102.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223542478.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/adblock-plus-free-ad-bloc/cfhdojbkjhnklbpkdaibdccddilifddb">AdblockPlus</a></p><p><ahref="https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom">AdBlock</a></p><p><ahref="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm">uBlockOrigin</a></p><p>è¿™ä»¨å°±æ²¡ä»€ä¹ˆå¥½è§£é‡Šçš„ï¼Œå¯¹å¹¿å‘Šé›¶å®¹å¿ï¼Œä¹Ÿä¸å«Œå¤šå°±éƒ½è£…äº†ï¼›å¯ä»¥æŒ‡å®šå±è”½å†…å®¹ï¼Œæˆ‘æŠŠGitHubä¸Šé‚£äº›*ç‹¬åˆ†å­éƒ½å±è”½äº†</p><h2 id="é‚®ä»¶">é‚®ä»¶</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223729300.png" /></p><p>æ–¹ä¾¿æˆ‘æŸ¥æ”¶<ahref="https://chrome.google.com/webstore/detail/checker-plus-for-gmail/oeopbcgkkoapgobdbedcemjljbihmemj">gmail</a>çš„é‚®ä»¶ï¼Œä¼šæœ‰æ¶ˆæ¯æé†’ç­‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223816247.png" /></p><p>ä½œä¸ºä¸€ä¸ªå¼ºè¿«ç—‡ï¼Œæˆ‘çœ‹åˆ°æˆ‘çš„æ¯ä¸€ä¸ªç›˜å¤šäº†å‡ MB<ahref="https://chrome.google.com/webstore/detail/clean-master-the-best-chr/eagiakjmjnblliacokhcalebgnhellfi">åƒåœ¾</a>æˆ‘éƒ½ä¼šå¾ˆéš¾å—</p><h2 id="ç¿»è¯‘å†™ä½œ">ç¿»è¯‘å†™ä½œ</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223919801.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223946957.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224113309.png" /></p><p>åˆšå¼€å§‹åªç”¨<ahref="https://chrome.google.com/webstore/detail/%E6%B2%99%E6%8B%89%E6%9F%A5%E8%AF%8D-%E8%81%9A%E5%90%88%E8%AF%8D%E5%85%B8%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91/cdonnmffkdaoajfknoeeecmchibpmkmg">æ²™æ‹‰æŸ¥è¯</a>çš„ï¼Œå„ç§åŠŸèƒ½éå¸¸å…¨é¢ï¼›åæ¥ç”¨<ahref="https://chrome.google.com/webstore/detail/deepl-translate-beta-vers/cofdbpoegempjloogbagkncekinflcnj">deepl</a>è¾¹å†™è¾¹è¯‘ï¼ˆä¸­è¯‘è‹±ï¼‰ï¼Œæ–¹ä¾¿è·Ÿå¤–å›½å‹äººäº¤æµï¼Œå†™å®Œçš„å†…å®¹è¿˜å¯ä»¥ç”¨<ahref="https://chrome.google.com/webstore/detail/quillbot-for-chrome/iidnbdjijdkbmajdffnidomddglmieko">quillbot</a>ä¿®æ”¹æ¶¦è‰²ã€‚è™½ç„¶ä»¥ä¸Šå†…å®¹åªä¼šæ˜¾å¾—æˆ‘è‹±è¯­æ°´å¹³å¾ˆæï¼Œä½†æˆ‘ç”¨çš„è›®å¼€å¿ƒ</p><h2 id="ä½¿ç”¨ä½“éªŒ">ä½¿ç”¨ä½“éªŒ</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224252617.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/gitzip-for-github/ffabmkklhbepgcgfonabamgnfafbdlkn">gitzip</a>ï¼Œæ‰“åŒ…GitHubä¸ŠæŒ‡å®šæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œä¸ç”¨å…¨éƒ¨cloneä¸‹æ¥æ–¹ä¾¿å¾ˆå¤š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224450069.png" /></p><p><a href="https://limestart.cn/">é’æŸ èµ·å§‹é¡µ</a></p><p>è™½ç„¶è£…äº†æ‰©å±•ä½†ä¸»è¦è¿˜æ˜¯ä½¿ç”¨è¿™ä¸ªç½‘é¡µï¼Œæˆ‘çš„æ–°æ ‡ç­¾é¡µä¸»é¡µéƒ½æ˜¯è¿™ä¸ªï¼Œç®€æ´ç¾è§‚ï¼Œå·¦ä¸Šè§’æ˜¯ä¾¿ç­¾å¯ä»¥å€’è®¡æ—¶ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224715406.png" /></p><p><ahref="https://extensions.redeviation.com/">ä¹¦ç­¾ä¾§è¾¹æ </a>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘é‚£ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¹¦ç­¾å°±æ˜¯è¿™æ ·æ‰“ç†çš„</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224903817.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8A%A9%E6%89%8B%EF%BC%9Abilibilicom-%E7%BB%BC%E5%90%88%E8%BE%85%E5%8A%A9%E6%89%A9%E5%B1%95/kpbnombpnpcffllnianjibmpadjolanh">å“”å“©å“”å“©åŠ©æ‰‹</a>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘çš„ä¹¦ç­¾é‡Œæ²¡æœ‰bç«™çš„åŸå› ï¼Œæˆ‘éƒ½æ˜¯ä»è¿™é‡Œè·³è½¬çš„ã€‚åŠŸèƒ½éå¸¸éå¸¸ä¸°å¯Œï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä¸‹è½½å„ä¸ªåˆ†è¾¨ç‡çš„è§†é¢‘å’Œå¼¹å¹•ï¼Œå®ç°å„ç§å„æ ·çš„é»˜è®¤è·³è½¬ï¼ˆè‡ªåŠ¨å®½å±ï¼Œå…³å¼¹å¹•ï¼Œ4kÂ·Â·Â·ï¼‰ï¼Œè‡ªåŠ¨å¸®æˆ‘ç»™hanserä¸‰è¿</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225202730.png" /></p><p>è™½ç„¶ç»å¸¸è¯´æ²¹çŒ´è„šæœ¬ï¼Œä½†æˆ‘è‡ªå·±ç”¨çš„è¿˜æ˜¯æš´åŠ›çŒ´ï¼Œä½œè€…æ˜¯ä¸­å›½äººï¼Œåœ¨å“ªäº›ç½‘é¡µä½¿ç”¨ä½“éªŒä¸å¥½äº†æˆ‘å°±æœä¸€ä¸‹</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225352529.png" /></p><p>å¾€å¾€ä¼šæœ‰æƒŠå–œ</p><p>æœ¬æ¥æƒ³ä¸“é—¨å†™ä¸€ä¸ªæ ç›®ä»‹ç»äº†ï¼Œä½†æˆ‘å¥½ç´¯</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225516406.png" /></p><p>å¤§å®¶çœ‹åå­—è¯†åŠŸèƒ½å§</p><p>æ¯”è¾ƒæ¨èçš„æœ‰ç½‘é¡µé™åˆ¶è§£é™¤ï¼Œå¾ˆå¤šç½‘ç«™ä¸èƒ½å¤åˆ¶å°±å¾ˆçƒ¦ï¼›ç§€è¯»å›¾ä¹¦äº’è½¬ï¼Œç»“åˆè¿™ä¸ªä¸Šé¢æåˆ°çš„å‚è€ƒå’¨è¯¢è”ç›Ÿæ‰èƒ½è½»æ¾ä¸‹è½½pdfï¼›</p><p>ç™¾åº¦ç½‘ç›˜ç®€æ˜“ä¸‹è½½åŠ©æ‰‹ï¼Œç›®å‰è¿˜èƒ½ç”¨ï¼Œæ ¡å›­ç½‘æ»¡é€Ÿï¼›AC-baiduï¼Œå¯¹ç™¾åº¦è°·æ­Œç­‰ç•Œé¢éƒ½ä¼˜åŒ–äº†ã€‚ï¼ˆé»‘æ˜¯å› ä¸ºæˆ‘ç³»ç»Ÿè®¾ç½®äº†æš—ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225804605.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225854431.png" /></p><h1 id="è½¯ä»¶-1">è½¯ä»¶</h1><p>æ²¡åŠ¨åŠ›å†™äº†ï¼Œæ‘†çƒ‚å¼æ¨è</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230140552.png" /></p><p>foxit pdfï¼šåŠŸèƒ½å…¨é¢ï¼Œæ¯•ç«Ÿæ˜¯å­¦æ ¡å¸®å¿™ä»˜è´¹äº†çš„</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230232796.png" /></p><p>vscodeï¼šå•¥éƒ½èƒ½å†™ï¼ŒåŠ ä¸Šcopilotï¼Œä¸€åˆ†é’Ÿä¸Šåƒè¡Œä»£ç ä¸æ˜¯æ¢¦ï¼ˆbushiï¼‰</p><p>æ„Ÿè§‰vscodeä¹Ÿå¯ä»¥å†™ä¸€ä¸ªæ‰©å±•åˆ†äº«ï¼Œä½†æˆ‘å¥½æ‡’ï¼Œæ„Ÿå…´è¶£åœ°å¯ä»¥äº†è§£ä¸€ä¸‹å›¾é‡Œè¿™ä¸ªï¼Œæ ¹æ®æ³¨é‡Šè‡ªåŠ¨å†™ä»£ç </p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230544526.png" /></p><p>æ ¼å¼å·¥å‚ï¼šå•¥éƒ½èƒ½ç»™ä½ è½¬è½¬ï¼Œé™¤äº†å„ç§æ ¼å¼è½¬æ¢ï¼Œæˆ‘è¿˜ç”¨æ¥ç®€å•åœ°å‰ªè¾‘ä¹‹ç±»çš„ï¼›å¯ä»¥æŠŠå„å¤§è½¯ä»¶çš„ä»˜è´¹æ ¼å¼è½¬æ¢æˆå¸¸è§æ ¼å¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230709483.png" /></p><p>anacondaï¼šmaybeæ˜¯pythonå­¦ä¹ å¿…å¤‡è½¯ä»¶ä¹‹ä¸€ï¼ˆå§ï¼‰,æ­å»ºç¯å¢ƒä¹‹åæˆ‘æ›´ä¹ æƒ¯å†™jupyternotebookï¼ˆä½†ç”¨çš„æ˜¯vscodeï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528231002743.png" /></p><p>mathpixï¼šä¸Šé¢ä¸€å¼ å›¾å±•ç¤ºåŠŸèƒ½ï¼Œå¿«æ·é”®æˆªå›¾ä¹‹åå°±èƒ½ocrå‡ºæ¥è´´typoraæˆ–è€…latexï¼Œç”šè‡³officeç³»åˆ—è½¯ä»¶</p><p>æ•™è‚²é‚®ç®±æ¯æœˆ100æ¬¡</p><p>åˆ—ä¸¾å‰©ä¸‹çš„ä¸€äº›ä½“éªŒè‰¯å¥½çš„è½¯ä»¶ï¼š</p><p>è§†é¢‘æ’­æ”¾æˆ‘ç”¨potplayerï¼›è§£å‹ç¼©æˆ‘ç”¨bandizipï¼›è§†é¢‘å½•åˆ¶æˆ‘ç”¨bandicamï¼›æ€ç»´å¯¼å›¾æˆ‘ç”¨xmindï¼›</p><p>æµè§ˆå™¨å½“ç„¶æ˜¯chromeï¼Œä¸è¿‡edgeä¹Ÿå¾ˆä¸é”™ï¼›å¤‡å¿˜å½•ç”¨microsoft to doï¼›</p><p>å¤‡ä»½ä¹ æƒ¯ç”¨google driveï¼Œæ‰“æ¸¸æˆç”¨ä¸€ä¸ªå«çµç¼‡çš„å°ä¼—åŠ é€Ÿå™¨Â·Â·Â·Â·Â·</p><p>æš‚æ—¶åˆ°è¿™é‡Œå§ï¼Œå¦‚æœæˆ‘åˆåŒå’å•å¿ƒè¡€æ¥æ½®ä¹Ÿè®¸ä¼šæ›´æ–°ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img
src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528213455416.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸€æ—¶å…´èµ·ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æ¨èï¼›éœ€è¦ä»˜è´¹çš„ä¹Ÿå¾ˆå¤šï¼Œä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒæ­£ç‰ˆ&lt;/p&gt;</summary>
    
    
    
    
    <category term="é—²è°ˆ" scheme="http://enderfga.cn/tags/%E9%97%B2%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æ„ŸçŸ¥</title>
    <link href="http://enderfga.cn/2022/05/27/robot7/"/>
    <id>http://enderfga.cn/2022/05/27/robot7/</id>
    <published>2022-05-27T07:53:41.000Z</published>
    <updated>2022-05-28T16:35:37.060Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220527155651383.png" /></p><embed src="./Perception.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>å¯é æ•°æ®ä¼ è¾“åŸç†</title>
    <link href="http://enderfga.cn/2022/05/17/net5/"/>
    <id>http://enderfga.cn/2022/05/17/net5/</id>
    <published>2022-05-16T23:52:24.000Z</published>
    <updated>2022-05-28T16:35:37.073Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç¬¬ä¸‰ç« è¿è¾“å±‚ä¹‹å¯é æ•°æ®ä¼ è¾“åŸç†</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220517080217.png" /></p><span id="more"></span><embed src="./ARQ.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;ç¬¬ä¸‰ç« è¿è¾“å±‚ä¹‹å¯é æ•°æ®ä¼ è¾“åŸç†&lt;/p&gt;
&lt;p&gt;&lt;img
src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220517080217.png&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>2Ræœºæ¢°è‡‚äº”æ¬¡å¤šé¡¹å¼è½¨è¿¹è§„åˆ’</title>
    <link href="http://enderfga.cn/2022/05/16/robot6/"/>
    <id>http://enderfga.cn/2022/05/16/robot6/</id>
    <published>2022-05-16T15:56:27.000Z</published>
    <updated>2022-05-28T16:35:37.060Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="4ea64fb49d5a80981f809491084c4d95fa7fd0dcd2b7b6f3ff0924293af903b9">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef839094967225e89a7b2d0e41b8b8989d7437518472918b877a3f0bffd9cb61b0c86aad4053d6c88a6346d7a249db8f39c5c46e3377a8d81cb93af4b67b3364a5195e55ca6e2d3383c43281364ecbc9c607620e62afe88fd7e59a1a8ee1eafd8640b176f85d048800c21bd2ee0f42a4a269319c803a4b0e0a45da29e8889e608ab05413101ba3f3cc8b24a19224800b5aac2cbf86ff1e30bcd56888eb7b7636b4f86e4997fac409854be2ec9f01ac44f31d6dac31c69f1a348e67d6c6f0a77cce394fa063507f6840519c0bea722a44b10aac0952dc0aabcde93a3f9bbe13ef7b9f9c216a0919a0c69d25fb118b92fc78f815a1282f663771b596a8e8f7a378cacec37a7</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>C2TCPï¼šä¸€ä¸ªè¶…ä½å»¶è¿Ÿçš„çµæ´»èœ‚çªå¼TCP</title>
    <link href="http://enderfga.cn/2022/05/16/net4/"/>
    <id>http://enderfga.cn/2022/05/16/net4/</id>
    <published>2022-05-16T00:59:15.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç®—æœºç½‘ç»œå‰æ²¿è®ºæ–‡å¯¼è¯»</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2432716a34cb4571ac86e2b7f56f617.png" /></p><span id="more"></span><embed src="./C2TCP.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç®—æœºç½‘ç»œå‰æ²¿è®ºæ–‡å¯¼è¯»&lt;/p&gt;
&lt;p&gt;&lt;img
src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2432716a34cb4571ac86e2b7f56f617.png&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·</title>
    <link href="http://enderfga.cn/2022/05/15/robot5/"/>
    <id>http://enderfga.cn/2022/05/15/robot5/</id>
    <published>2022-05-15T06:05:29.000Z</published>
    <updated>2022-05-28T16:35:37.066Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="eb14f3f479290736f1ba782cc93c33b0f3681fcc1734404828e196d329a31f6e">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef839094909fad119c52c40e70911d4d6642e40fd1b7b2e65a70f8ea3b14f8ba82e30432e9265d93d3490ea447b79c986d6cedb075b2255ce72900a5ed588225080110f47660ebafe919f95d6ddae74faf71116d09e58d94fc7200aceaf7db12b0d3ac2b61bd9c4f72374a6a55258d8cc51034cd0c025a250b9214a3e9d800e56e89f68de780c2c6ccbc8a0137e3818aedcfed595d0771e7677f323d26e9fd74993a5c8fe990f952fe692e5b9b584f6c3a3dccb4c993826e14524e836d9f936ffee778dc1a09f2ed854549cc5defb6a5d3246c0752219595ae1a2716c900498c502321d33f1d64a4efff1a7e68a2abbef7e72261170f90089133f5c9aa99708ffb042e9ed252ae02b1ad712373192df5fc1fc90de9f4784dc9af8d46da8cb52860e147af44c18601804008f4b59304ca1ac18b3391fd5d3e9dc14de259dfe355c3b6faba314e366372c9a990dc0d72a445e6dfd1ce7566904545c7617298b7cc8ab0792205ae6e5db441761a6cda0712621d046387f1458d5afd6f490c6b4c3d5166545ed061486fb10b610470dc89da016abf2664397a8a6eadf710165070c8db2f0781803207cec54a7a36296a0dafcdd2a35f6dbd761b094353326b6669644920612e99fb926178bb93ae35835d14083abf0aa3c1bfaaac7b03ec4e453cf5709dc7e362f66efc527a031a290f073741b64b6179ef675685734d7d2a95cb7ea6db881ce717bcdc50b661068342e82d2797d53d7b9d797a5196b16433d197873573d7a75a982b07022b570a4dae57f7bd696e87b0b55f61165a025a5ca866522c6bae41231e59446b3a727f24a9ec5aa83f7821b3d75ddd5237bf0aab3f6ad995b4af4cbaf5e040dd2eda8e1d35560e6440a1a952460449d04e2c231527fa46a39658a979a11c1768c5922c69a092ae1c0cc16a165518105309b7ddb9b50e5545f607bd8b4adeeab5b126c2d2a01b49f8ede2a06c259bdbbe1b6dc1c45e7223d16ccb92bbefe21c36451a3bb9fb722b65c1c27f16f1e6d65588952433d7385c897f6683a732fe1a148977eb04460d54a033d61198c4c4563bf181e24881ec89dc9d3a994331794d81dda36c5b1660c563339fd59c324d6de21f17dfbfbd0f5b711edecc748f2a9d705744f433358f74750d1ffcfbfff3711cc65576b5b5db1579b92fa1e06b40d65fb4f5be0e92117036ac9837d6d4526ce7ddbef27a11f7ca3ab63af2751373f96eae798c655b9275608c0fa5216cb28274a631c3d91fc61402c1f23424509db9909e2361645034c9b99acde92955eb8926f8c18b79db6138220211d6e4e8ba5151ca7b8ea54606f921f84ebcdbfc7f787de39cc273fee4e75e16910d29d4348037337b8d12b9221adefb1cb82149c69c9f9960476e0a242cd98bb89a4cbbb36f8bb785b314791e7a40afcf8e042bbeb266674435cefcfe3f46eb33561867e3cff21b5b43d5f306981d2cb1622bd2a7e177b626d0a18fc8da474108d832665539401105ee00ef06ceb7db108afe569b735ade0c2850d222d1679c8144a4b2d2f424b0315f3d32a48b39edbc42322695f39cc6aafa632dfd74dbf3884abd25b143f12596f4ac59a365068bb1f92d8079f25874530196bbfb15a7a20c89e0543e54c3dbcf11f3eb39837cc99f735f6a6be7912c111215b60bfbacbd89980d3cf475e6d8978dd6ee27957516e62907b1cf6c3c0cd25c4310f939ffed0a4eec2689dcf10d71d123eb4f2bf7f4a32f972c0572af3e18a2762572afb1c57d3b7a11a42a6608b15ce1451c136e7638f6e68a9f050568e6f53af1daf66f0504ef1757a2fbdfe40f921c51a998b4488a5dc0be668192b5c65266b4127d8847f3c2d072d24b34697623e4b372f193cfcdf28cc7020a6a457ecd8108b01a556f4c5c385a5538d5e108aa9fc73bc1cea1249ee20144f93f5360bdb95b17ba6e5d26901f5b362502b9df32255930a8e9c6a8f16b2de23224d8a89981bbbb2ddbd94fc0d01445c636e8ce4155f0862d36687115e1cbc9c273d16864d1e22f2a83ffa59f2c4ad5bf77db3f0e86caa873bf29a49f1b80acf18df357bca38d687adc1618c71e4e3062476541aa3ff3639f4a9caaa6b862d9569047746968441a0aaad6f94281c1562fb8b91194a6940ef8dd55af0eef9949b4aa28db9a9eb9df8c69266c30b40ae9db1bc1cd7be6062f31730bc44d7a2ae36a48e5775a6d33349345cd0041b627feb0ac0a1735fc383054c61cc8b9167a2b84ebf6c14ac203b12351e78ed7385f9fae3051f4a8fae484e8374f851df9b43b814c4f53c4ca40c52eb4991fc386aa41eb429620f786e0463f92d035fe3f856843be7401373faa43ce13a87872f3c345a9d30efd9c84a95c2b730c3beb56e9b9667fd7ba2f6b1f5ac00a2e595463f1c983e9ecdfbf53e12b1b6848346b10da74a53e11f2c300e447e97d7816b094d36d5d3d31ec46ff5dd00840e6aa2bdf2c3662958199ae240e12aafaece1329537ff72af1126bf991b69f522ac278d5e3cfdce7f79d0aa6f4b482857d45a8ead3362b9c532c5edd3e66d7deb373240b268a78a959d901a458ee119c155a6bf5053355d31b8cc108974271922b142a405a4ba04d3a5ad4e3e77226f0ec73e0ee252b27955d963430c7684a6d6696269dec5921b0df1771f5e09c7cdb62de910b2647c9a72361e43e804505ec95849cbd8e39fb40c80f7960f9e082898249fbef1690ab4e9cb621f2523262118d7770fb6ecc336bea79617971ebdd62a2c51a8d47c1b96530ecfaaee5f9c139d0132494db9f0766fdd3d754fed49b2171d596541589a5c251265204948adcfc0c86807807040532f4ede2592ab387f3ff53b1338177cfc67ff026ab44407fde3a1011806b8152f241296f871756045315c4bd082755ffab5f1dec47e215465afeaab63bc1f86e7880eb484f8909ec2bad66117d277b3e2531c00a108b8cacd1adf8e909afe215eb2a9f9915c3c0eba6a5c53e9d1137b660a3f262a963b50ed9618da55b5217581b9da3d262460cfbda7c1d32e19a6def99fcd9136924061c18c03dbb950adcff4a59af18afe011355035772de770ea49da8ea4a2d619047b850fa827a1c0b6a3822afa426b9507adf88141de792e7d5d5a344eda16596acbae66887853b77baf94da3674b6360f08c1645a4d2974e653ea4f56f851f20685b17f8f279c0e19c87a252b4dc69690d68115a305e7137bc8a64070f5affdf5b9c1f05963b2acd3c287915c37aae1ff9feda4f156260a86a7388dd019b18bda9e0e2763ef7ae7f3bff49618f942b36f30b0583cdb984df8dcc1be1c5bbb169c8cc852e4b3bfe35e849d2a97dce27cb02775be6740f3166180da9845d87be7d46679435328105c11d956cfae02b391075526da60d6646fdfc415ac3286a7e08f36db49c91bea1e4404a6151de8aa369b0ab637b4787e1045ff0a78587bb9a4fc2584eef9b73962e29794d6e94fe5c5174a003f605353f7e15829bd677b9888ec0a1cb6f676d4a098a4c95c2a1069bb77bb66b90d6df7665e1efc4a9c305fcb9ccd2b2b7a8543f2ad4fdbc282daf740bd98c73319234120dbcbea2e9e1690e33c63ab16d417e52e7f767a7706aa44fdbf4a994bd745a73a6733544d8c225fdd73a383b48cf8c3fac671f1c5b1772e63e64b718978b52684aa09460eda16d07cf810ddad532c6edd49c83e1a468297a564e6bd89c5a892db7018c4db68e5a70bf95709f40d1b63a427f1c0ec7dcf56cd12bedd0c96faddad19e1a6154f13086718dbd4dad6ef7b20d08d9bc8bb43da6252e9625223d06a35e19a83a04395dd13d2c7cb238b24a5d176f7a358f6b22af750c7082d2d4e3963f9db06fc5cb5ea5510ac85b27ac35ea992b4d8f5647c0bc11f45c6f6528b63b8717c057de2073d7d5df016eb7f9ed5ce669631c539e07f9287de0420ce28b689148a2bc2e749c4a4daf44097661d248ba2d7384f483146f2cb074c4f7947cbe623d3aca3d73395b14e6943fc88d6e67f4994b4168f03310f774308aa8b151ddbe27190a950e0b0c7d226971fed7ca777a30286921520963ff3ebefc2a8bdd7390fd9336724cce172dee0d91efa5bce9ff8b455adba82e68e3e3bda45a79b91d9cc3696b6dd93e6e390f53b71803e94c7570c342d72e7f95e95602d15ebf4d1a4b6da5af6d80c0aebf39dfd29ff5eec22e15f3ec46a931c92929223959b2c961a653a9b7b2a1b7be75641f9f8d700b350165a4b229986336d60957eea64ba7c37979a8ca5adcd6dbf46aaa74cf1391fef3a2cb9f52a27900329bd41264aee83fd36ed9962269fcb7dff5ba1904a719b7f4d3e42b026c71ab88435f6e4fff60ef5bd195688936ed56a791ff1075b908a4c2fd4ffb5c20fec206b81de87f8e099934a3ae977026b233d13bd162713d9fee90d6a88cdce8cf13b910831d1f3f14978160635988d1255d23d967d9e01802813f461738088fd2a7cebc1ff8e14aa9ee5c665a53bde622f004a039d7cdc70ddee29d28233f44914b3a3d0b749912f5b5817f4519ff3947c04155e0ca7bd6f8756a52a7d9f60216ffcaa57712cfbe83f50bc15ade30a238cf773994c6afaf608616af8c4deb07b21f23680d9119ebd1d9e2d459afcbbb72a7e1891f32c0e182c6b60ab4abb66ffa8f546f6c7f7bf5cac95dd4ac2124152126444f4428645e65846484d16657e5e8e815fe9358e7a244838d7e45c9171106dc7cd233da3f9e178a1b765b7cb0824eed40cadca70f015768e53adac3acb7ba0ff9ed2ef4868512c902447f8b2d762eee7cc612db44b52c23d1892081dd01a97b59b4d7e3bf7eeea88c44e01b6d65e957393bd57a48b97de1e3d08a7364e007e65c9ced76b250668b4343905dfb576e840d26aa0dc04f94dfa8ada628a96089e12fca5fa4feb94fa7fca3d0af306389d26228a9065a8c45e65f5296120d48406270725660b0e575ec6658b8ad10e01e30185f9758448effc6fbd4903d41125fa469b1105e16dd6ba09e7e1b7ec07ae3e38ca3e603233247ac421085deb558eadfbc93d72dae0bd3ba79b306a95987f3d40d3a65d857057839d235c436d1b9e5dee24d414e1ed891b8c837528740170b42efb75fd1f2d9afb999aa3231069f39ab476f194a353d9f066c571cea74a9f2213b45b76eafcba1f0f8c5a189bc9f798272ea25a5de339aab2ab360048eed717eef9da7f91a08a91149535dafb45a9121a7f45a6ca08ee19c4f1a3adb655602d3995b1d18da3b6e59b65ec031e3d835506f4fe6bbb92b391cd7222ba451025c49a8bfaf1d146a48f5f2d8588d711413e9717df7015048fc8dcd81df734d63cc1d5c8035eb74e668c3c64111b5d6ef72e0540c63429ae0364cf9aeb42dcf878abca63c5cbb70b47271b70423c2448f07f218d1019c26966ef69c1ef652de607fa6e504695ff835f2b9701fb3ecc1f7faee5e0b87ae692116f9e8f789934141457d62449a79289c765045d284f0c667a0e9e6bd6bca4a657f8b8384621fa06a0c73b22e39b88845b8abc5bf8b02e3c5cee5c61233023624b1b630bf32c657462acc343437e19c22da33565604cd10862dcc56ec0d611605213683ce3e45e8d29797b27e3666aac4bb42589fe7c1aa4e071165de718e51ae8ec732ef2e6cc9c3bfd2a1517d5f1df268335537a3188f72c1fb123bfda8271a3fc61e995978ddfe95e5ce7428846cf81f4ebebebf61073411c6485effb391116911e82295eb8d093add5b5b446415a525541713bb2b8a3b0a79e9306b5c0dc74a2a3a348144df22346f60b983fa494c18b76d3bfa51f1d835c7836c91c22fa534b186c874a095bf37400e7ece925fccbe033440a2490125ae286a3bf320eb29aace17756e3181f95236fee3d9671807ec1aa85d0130d88a15b59e34040898baf5eb01972defae410dfcd7c348349c2ac1aa54594438a7c004e2cc7af97ad6626df062bd5783799fcd8ba39deb426470c6b10ee23d030001df671208e05fe48a6f2f7d1af8b1ef0bf8ccd8e1222943f050b125f5bc94e96f405089d8590ea37b2521f3c6d20476300367b99731860f1c728eedae3e6b1eb40180fae7a435ac6a878e330d96584423acfb84016f0192789928e2ad369e8580c6ef053806995e04bb4273caa82a17363be9a2394f1586210116767286f1d86795f29384a6c703d48a1bf87ca6910dd00e72559f72116193073dfeb5b810fdc531373154a0ae1ad4f10839cc2a93b2abfd34f7d33300bd440d6b324db7a15191086416201ce1be69c7085f982af489d7ce8cc34ef443c43008185fe8dd08582325e08eb89fbe651bec80e91050cc508a55cb2ecd88de6f200f57a3a811691670d71d460bcbdce27539a4ad546e53ef2a367918ce5a0b62b537f6351c19c490e696e04ba9ec5a0cea46e4619ce38d55677173b57c8b33e322f705ccabffade1822c362f31572ccba43612e986ae5eea55b20d6e2dea8ce0ac3b7baf57ced948b0d3d420c0b33daf550ee589ce06d1414d852df44e9a3d3889659c4f5ec1a7ac1acd8342c92e1c17b1e14c39342ff13eaf887549966dec6c753fe69b594856c54673347f23515f77e20de5a8c639f1604998460fe3983a5eb8b12432603a96cbef3d7f27579a76b1b9261bb7075148c355addec095fa8f03e8f56b4c8ee4c632b305d123653b9bf6d55ef7b07caa6197372b52a282e769c762c4c50edd248feb37f6f33218cd3bb49d896204b26747c35bd38015458aa377a66356336c69c0683e75185a185aac88797f0df2cc05447c83f880570fc75703ee770a828c2fa0a35cb7f4e7dabaab8343da1962b3abbec6b81a958977be6dfd8f15410b1be13cfe14e71ec1df684bbf56e577944482872cda316866555ebee614f6ceeea12c3c97e043b3c8885569297cd7eeb23b8d421524223b9175aae9b9bb93714f4a0eb959aa9ca5bd04a69eb0d52c032357ccebdecc39f9c857b30237be7e111ec130aad3299381f911fdbd3bc782a49674b51a4a375b273afdf91ebc1b2543289023665f0126a7a41f0798ba5bfa9cb131c2669ff0cf408549ee65299fd2d4caa90d3adb8d8e5772c694ae0b3db4f03f97c08bd2f85697f0a6eae3b3cc08055fbff52fc9c4ca0bbe9d8feb208ec03b405f993837b8b52b3469d6c80d8aef5ead3b6eb0805a3907a9f4f59fa6626cd7e71d5830d9841830bee525796a4f08f16412abc5df7d3862b4f7be7c38be958a75c8b0f77b4c053b3d48d25b72cbc26d44e73302746c5be1f71c426c879c1372ded8118d99a0581d4619d83c5896b55cc1ed3b5b00da99873772c9b2962d30b5bf2069e6d6b50e552e154ad4822d9962594ff69c3a144cad0e49526d66888b4bc4fa80a8e55b115a421ea9d5fe3977747a36f98bd5c2c7626afe5c3e46ac0156fa329b4446beb7bf2d6b68b01d0179fe8a1701ca02c5dba65a02898e6c52f2a582699fc223760c5760723894fbf4d80f1e9f92b840592c9384ecada179e2847ff3dc07129b06b483340bdc94a5833841c00d623acb9d62fc854cdf3316282f0d2dbd9b9c93092c5eca17171effa9ec344b9722769de9d3844b018feb44922911735bd5a834e03139a8d0c5a4b0eb70a8bea9aa08c1d548c5bf3215235a43d41855cea0f9bca9c3b3b2f6fcf6ad63cc6227e82d0c57e57d7af83c72afb183b0c78b1c44fed1b3d692b583fd30b056748a2eddc799926193c07784605aeae406c51cb4f015d2b666f35104e393934557098139ec063e369b2670cf41a31204738e52399ffbd887273e1247aef6d5f2b8a00150cfcd4ecac56631521d7fd4025ab00f2096fc4a88906744027f033b532ee2b1319c7d60a6c5224149d5be0118783572c14789ea4d0b8f40acf373c81d03bcb483b7c4fcacaca423cc070bc3a57c7fc15d7d0cdb21bc84e2a5b0bc912d04ed02d6e9440040fa2c8f33e864b6a4a5d0f69b43218ca713b0640121224c4245c1e0075da5485f892c309029257fbce628bae84f851db571cda6c00b69aca71adf4fb531c2ca94b764a801c3be9ad3deaebc07c73e72f0a49ee9c4dd1d8bebe220e529959de26658abfe518123685a640b0a0af7c347f996e86d9be5e699dee14f0c035140652ddf429e5cc61483f94d981889b64e753676f21dc4188609f372bbc1f5ab07e8da7ecb220a84b0518074f24ef9244433e2e8e97a428aceb477f4c85d208f625e240ffcb73ab61edc5ca1ed411e9e6ca33d9cce40cb9d62f621b5cc6e05be07eb4b6d372431655d07a4ebdfdac7b92afe19fb638f4439987ffc2c10298a94ed57ac53292503429b98b888df6ff1ba12852c08a24f49a12ce222204d7a9c2f72debd6cfdacb26a616302045c0c843f58161a6289636f18285bee0d92b37c80594720d3a8ebb5363b1a532e5079163d2e6dcc3e22d17902aba8c3212295b6fd8ddb1f5f0b7adaedf9a445c00f7212cc8515d7ac6a01010353ab39ce47a24a242179c3037e86a2e5cd8194f6a5d3c85125b5252fc840756d6fb97d99abb020bf6fa19073abefa7a283821c6e709456eadad294818fccc3266b11721fcf7238a5be032097fb31e43b7a85a0762f718515b1357700abc6f4e1be8eed6869015f9f9da1e289ef2a7f52d32f9a8665aa9f57b3c90ce4bfe4d21cb7d53b97439a2eb1a3d38e4dd5ef65a777e44999eafa4d332ca0c917355620782d4a8cec69674209984d4b49917b4c366d8af2e9f9db88b675bb9e6fcb92c258098502eac3c6decc4a20bd3dec892a29fa7113fa318469b84df35ea0c11c229f0b330f956d68f3f294dfa753e9f81295422bee2adcd0815c3b33277b92108205d3696f4dff170fc949c7a35cdb31de96f5bd743e6a384735c72abdc4f089f051eddfc69450324bd7b2307cdfb32b6cd23a9729930175cafba6e332be29652f23038fd0f8857e70c7ba78edba94b70d1c1076cf68abb1f0f67c33cc138fd492ec88458fd0e87b073d8988c28d201949752e3201bf67bd71547645db8b346ae175950eeb8dae45992be6e31565012575a28761f10d983103ec833403a1f23127038b043607da7a430647b637d2f4986ee9a7f5f290237610e4227715424f3854a0e8fba2db1023a48fea7a617e83744c1dda99aed3d25e9841cd0ab543c8363c04329797524e174c4927a835a3538e3a30d6d6570bbfd34cd465a2b37a89d6d82e3c0b722ace5f13cdf91541be459b7f48ee06f00b0a7346b00505d17baa5ae3e14de9bbfe534129c067fb3b06b1aba5aac9e699fbf82afb94a34f771fe6b4ebd6ab338e59d8c7329a65d4ecd54f0eac2cccee36d5b972b8fc0342fcba6797a414636ab02984cb550449e5d81224344437323db23d6f35abba9e70d9e1d6250b35a69150fe4cceb704ab90d3e3b879b283fb41f4b9b29ba0481cc910296e4ee61746ee2f9095091e07987c1cff3ec2d56132f634962b82011f611ef49bb430f8a429df36e71653511aca1c4b5947df83f5f3718238f78a5b95afa9d0d46ec66e925c14fe51fd4e4b3fb25b8e71dbc5a7d0a3ae5f99adf8c767e71828d3148983a90752d4a7635307ac16a83e6e79e7f4c64cf1ed20c535b1ddd0766514e4bc4b7789cc846338b515cd5ebbf43143914c49d0b7abb4166e3a6e41fbdc5ca7d9a7f6c5f2ea7ff0d11d1c950521202acdca34ca6fd992101bded2462ece02615e608e5a0723b72d60e3c0db43c8d95262992c07ba2db6fa3a6fe92d0990431fb8730bbdb4d5c840981f4b160273a4627212eeac8bccbafb6f839703a71b4b92ea6ea4dcc3c1bea79df88d7c7157b76ad96089a97e0a926908c255f694a06bc58a014eebeeb5f9cf49bea096e5e1b80ee7851e70f8705d64630f998e7375621e1937f8bb8e0a9d8c3c13af286d3384d718c91598abac6d2729256d3e5fd40db5be159c2d865bc37f81e0d8d41d54fc77e7282014aaf2df6d239ffc86d18bd11d79d6649203b4995450f6b738defaecad1e9ea9f0b7934ced981da6db7477107c6d9596596bcf83371f585d063a571a41d30054ec463521acb54e78e391a6cc03552978268255bb5c21a5f854171dd77d3891ac1d3242c8f38a3ea7d1dc9a7a28e0819dca5c836b9fbe83b53b477c2dcb2d3f21f94191384e664f9f383f384cfc1dd4aca8d08738e7f4367e4437dc43104e3b52cfc2ceb36bae1e8f471fb9d2ffacd2807c0dde6216a4f8cd9c37db04af5d8ee20f33f01ccd7b11185bc3b134d179bd702cc5e4bf76ca692a8a5e3d53026065a15bd9b4cc6d3afc787dd7657370990322de486d31c44b8b18233c86c0c2b504e431dbdd56cf03077a12726c5d5960e292dac0fd3b338887a975faeaf10fc3b51da1a259d1fbbed5f6a2c6232c44fac240b29a76085e53ec7feb2394747d911376df2f2420833056fa7b0f27f1d3fd4dc7b6bf849239a7176fb56daf425178600b90f6155e0ba57d65b8a8ce1a80966eaf70ffc0cb5409fa7f37e3cf90306ef5046d21d27a844778751fcb30c4e759e54cb2934a5a6f92eea7a8e3806ea8fdb01367c0f662b2462ba5b884509dcc18257da7b983f9f38b31d8c1090f1f7d2c14bef528256a40cc1f912a51978aaaa64272674bb9f22a2914f9945fb18657b5f6ce3adf3826af71a65b8033f077819e6c38702246d087f28e36162f7bb54193dcbd0ba93e57fa27b2b7ea65ac31c356b2a1316e967e94cd6a9f2c0597d2dec80799f54278e852365deb5b1ab1a8f3087676bae8c563fc7291f6b2c4672d64e003013e8bcfa2560ff2ea9690b6e46755fc55c724e4fa82ab0a135aeeab15de8410c054c338b3f95f5cd206d37b2d64a8ff487912ef2acaec4f1b1faa14b93788be5a06ed6446532b46222bb937cfbc4d28e25f7783c7bbeb6b061e29747e338ae665da6287f4050359d9490cb2f12034abddfbb2e346fffacc50ec56f3922b71fa1d484e810ae97354af6ff73731f56c5416d671fc1e51695a7f4d5474e3541dba89496e36b59c3daf156a90a08a3c858c46f4b6df4aeef2dedc3d8da7ae10f73c15055321e54f3cd2e6e0651710726f82e20ed79c5b6152bcc516bf42b7737762137629e0eae992311d27e7c6c7270245affba8c1f31b94fdf68aa134f0f3158729e4bbf1e669efdb063e968d5f9317b39b5f95647a0aed3fd2ddbfdc9d94a9a612d8fa9dc4fe6676abc85797f1851d781ef0a472908c4c98ef449ddeb7920d699091affc31bd4c9e287f46463eff082377c5c7540a937619f0b7ae6697258b32064415e25fb5b0c46a8f515f0d13e38ef29648902b81ba9f7a59e48623ecaaa558e802191b93363c16a3c103616fe7b34e4c0927120c1f2112365a76c4c8befba74fc75c47b660a6846288d8b977c54605ab4f908f307a42811ce6ed48f23805ba8c6be0efb6ecadec355c0c8ab447e0d6d2ac293df4997ac9562dd2d7102f17d62b2d71656ba7c227099d6a5fcac16a0abb1b1066023684c06391fe63cac18eb96b7d445acec8c0ea27345be1defb78d8eca1dbe327d6f5a43ad03d6316da932e213aeb93fceb270c8403078a5a78d55876d42e4ad84cb88345438b6c89d27f7ecef8a31b83260cdffe40db8967a99da039ece8349d6c35e059889ca6481cc0982afa227d160e629c99bcc50a8cde26a17b137bcd5e33d37bd385e681704f1eaf8eb6e0e3df9a089a1bee043c537da7dd5a8bfb66fd73f4817abdf667040ca688de8eb5cdb311a0bccbfee228a73ba9f16cdc010f7000b80ed6381c097af4252866020d4d961881e28c6a308c80481006a4feb03f8c6c0d0caed8ffb8406ce03a80b5f8bbe91141dab5d8af828abf62622b4d891f9bf174358f939a5136cb3e13cf56f04a5edb68aa734657f93bd4774059060923aa95123c958994b5793c6bda3517fcacb3d3fffc75b470c1e4f42f742273882285671e8b2e55de0846ecba8392277dd15b52a8885c0f5e69e9efab8cf5873d47e0451a638bb5760fd7baab045ccf62aa94a8c9ffe0fcf2781b3093e79bee5ac39b08340b3ab816f8077a728ddec9b82217c1048f97ba096ede773866d36809d383539ffa9152d480420a41fb09cdafa0848c52462abe1483cf3b0e1a93a5534eee053a036d6c03f748068e19de1b8d3cf32e520eeb015387288082eb3b419501b3a2c3563c2682e8a3f92fb07a8431b85ab0b51c1f1f9a39cb4670eccbfdbc2ad646510b1b2bf11c31df1bbf661a83fe5bb524bd0ac8ffc5bb5d584915bbefd48ae2b75cd540560e045f75ad913710777831d78eb7b65caeea8267dd393b53bd94977facfab03bac074b4992dbb04d2a2cdc3c380ff32e423ac60e367f4445dfa06a4ecf08778f9fd454dc55aea94de14b070b3b7b828ec18f09e541bd89d43b240c6ba13c4e51548bdfdd5b66229d9646178aab33a47696dba88de8e21bea9641cc846335082ca7bc2a23a20713c6354b9595419f13adabdbceabd010bed497e25b8e5eff11b32b2b677b399076d02cdce9b859bb2f0815df669bc592fbf52e05b75fa3852671585468ecd03e58dad411c62f234e3a4cf69e3d76c9a43a656c55d4ad933d70cd12764e0aac0d1bde23120527fa638e64d292f8a769ac06c9e57fe7c6909bb8ff4e78e2ece3fec29f0a50c4b6c09f37935ca8834303982f0a91d42b6a0a669bce82eaaf3f7064dbdeb5a0e6204198fa56f5c6fb25e2134cc0fe457904184c1d80b5757c59bba9fdfee354a0646f82273d492edb511dc890932e715c249030ef5f7aca5fef84753bd7b57acaa46529f40b78da81031c6469a6114b31ba6100c18ecfc03f5afef0382279154efaf8ac79b56dbce39b1caf9f7726e38c1d3e20d9e023a651796e1882366d990cc937469ac8cd32f906c89d37870f731328aa73c56ab71139fcb7c9e8efc81c50ec9d633c9c9bf1681cfcff9cfe88575c599341441b84b600d9868c9efb520851b1a492829626616f6861a39d0faa90b6e5f0651d305a563015f2b8dba1632a9446d8848b7aea66fb77a832faad1532e400a212d4e395bef4b1ccd2dcaa762846f8507046874f24f061f1a8e8fcaf9f3508d8d5d9b5de91fa188bad6522bc44a95e1b01cc27899c430adfcffc6185af30fdc5f0920362629150bcefe21deb812e7a25f16fd269525fd5789e380cc7abc846c16d3c6cc96c50927708267a8b0055f833b6a543d8ca5612ddd632718e1d69b0a2f7f37979dbdff322fbdf18af4d09ea68e2a956626b56a4f2f796f10b9840ace5ca3d8eb48cd71efc3c007cad32bb04da7445ace428942f98980cc624dcd247c63ad9f85de196485908376f299b9fb7a6d02f92abe8a4f91b511d4b5cd360db26355a968eac0906c5604a7a25a7848fe1808c1d8afd6f3695c319466e5030f93c099e6eef53e149a20dd8bbcfe808328767bbc046d2862953d7499db90dd413803580516a5960eb07b06ac8274d9e1847c69a6905862655050e6f93cde9b9f356383c0c2cb38166939a7029eda322162e2c720cd58fd42acd2e4202cb34c5cd6de83ded2b072d82a1609e4bdd25b831a430c91cda3af333913c1d7478d9f9c75463733c045668f5eb58392a367ffad6d42ed9e4b247a1dcfdf8e09d015baaaef47fa160671877e44ed449676c90511fa4dbd834a59930333219c5b3e5f9c85ff4461ad3cba7b25e9d15f0e1a1c243b26fab12a141f363f86fbff63509629114b1547243e100476bc2f8ae973b0521e3da76714762ff73764d6af4818b32f4e20b42f85bc52383416371cd04e7682c85f2e517f55857673f96ca7c5b302959a4d90a538dee1b1290c596e2fefaea607cf4df4189b92949732fc18410181bfad6c83e5f2ce4a0c157427babd552b0715a767e5eebc1d1925c6be820c6dc4</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>PyTorchå¸¸ç”¨ä»£ç æ®µåˆé›†</title>
    <link href="http://enderfga.cn/2022/05/10/torch/"/>
    <id>http://enderfga.cn/2022/05/10/torch/</id>
    <published>2022-05-10T15:45:53.000Z</published>
    <updated>2022-05-28T16:35:37.059Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>PyTorchæœ€å¥½çš„èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚æœ¬æ–‡æ˜¯PyTorchå¸¸ç”¨ä»£ç æ®µï¼Œåœ¨å‚è€ƒèµ„æ–™çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›ä¿®è¡¥ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220511003116457.png" /></p><span id="more"></span><h1 id="åŸºæœ¬é…ç½®"><strong>åŸºæœ¬é…ç½®</strong></h1><h3 id="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"><strong>å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">import</span> torchvision<span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>version<span class="token punctuation">.</span>cuda<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>get_device_name<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¯å¤ç°æ€§"><strong>å¯å¤ç°æ€§</strong></h3><p>åœ¨ç¡¬ä»¶è®¾å¤‡ï¼ˆCPUã€GPUï¼‰ä¸åŒæ—¶ï¼Œå®Œå…¨çš„å¯å¤ç°æ€§æ— æ³•ä¿è¯ï¼Œå³ä½¿éšæœºç§å­ç›¸åŒã€‚ä½†æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œåº”è¯¥ä¿è¯å¯å¤ç°æ€§ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œåœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™å›ºå®štorchçš„éšæœºç§å­ï¼ŒåŒæ—¶ä¹ŸæŠŠnumpyçš„éšæœºç§å­å›ºå®šã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>manual_seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>manual_seed_all<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>deterministic <span class="token operator">=</span> <span class="token boolean">True</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>benchmark <span class="token operator">=</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ˜¾å¡è®¾ç½®</p><p>å¦‚æœåªéœ€è¦ä¸€å¼ æ˜¾å¡</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Device configuration</span>device <span class="token operator">=</span> torch<span class="token punctuation">.</span>device<span class="token punctuation">(</span><span class="token string">'cuda'</span> <span class="token keyword">if</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'cpu'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å¦‚æœéœ€è¦æŒ‡å®šå¤šå¼ æ˜¾å¡ï¼Œæ¯”å¦‚0ï¼Œ1å·æ˜¾å¡ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> osos<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">'CUDA_VISIBLE_DEVICES'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'0,1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œè¿è¡Œä»£ç æ—¶è®¾ç½®æ˜¾å¡ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0,1</span> python train.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ¸…é™¤æ˜¾å­˜</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>empty_cache<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å‘½ä»¤è¡Œé‡ç½®GPUçš„æŒ‡ä»¤</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi --gpu-reset -i <span class="token punctuation">[</span>gpu_id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h1 id="å¼ é‡tensorå¤„ç†"><strong>å¼ é‡(Tensor)å¤„ç†</strong></h1><h3 id="å¼ é‡çš„æ•°æ®ç±»å‹"><strong>å¼ é‡çš„æ•°æ®ç±»å‹</strong></h3><p>PyTorchæœ‰9ç§CPUå¼ é‡ç±»å‹å’Œ9ç§GPUå¼ é‡ç±»å‹ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/640" /></p><h3 id="å¼ é‡åŸºæœ¬ä¿¡æ¯"><strong>å¼ é‡åŸºæœ¬ä¿¡æ¯</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®ç±»å‹</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å¼ é‡çš„shapeï¼Œæ˜¯ä¸ªå…ƒç»„</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># ç»´åº¦çš„æ•°é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å‘½åå¼ é‡"><strong>å‘½åå¼ é‡</strong></h3><p>å¼ é‡å‘½åæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç»´åº¦çš„åå­—æ¥åšç´¢å¼•æˆ–å…¶ä»–æ“ä½œï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§ã€æ˜“ç”¨æ€§ï¼Œé˜²æ­¢å‡ºé”™ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨PyTorch 1.3ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨æ³¨é‡Š</span><span class="token comment"># Tensor[N, C, H, W]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># PyTorch 1.3ä¹‹å</span>NCHW <span class="token operator">=</span> <span class="token punctuation">[</span>â€˜Nâ€™<span class="token punctuation">,</span> â€˜Câ€™<span class="token punctuation">,</span> â€˜Hâ€™<span class="token punctuation">,</span> â€˜Wâ€™<span class="token punctuation">]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> names<span class="token operator">=</span>NCHW<span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># ä¹Ÿå¯ä»¥è¿™ä¹ˆè®¾ç½®</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>names<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨align_toå¯ä»¥å¯¹ç»´åº¦æ–¹ä¾¿åœ°æ’åº</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>align_to<span class="token punctuation">(</span><span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ•°æ®ç±»å‹è½¬æ¢">æ•°æ®ç±»å‹è½¬æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è®¾ç½®é»˜è®¤ç±»å‹ï¼Œpytorchä¸­çš„FloatTensorè¿œè¿œå¿«äºDoubleTensor</span>torch<span class="token punctuation">.</span>set_default_tensor_type<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>FloatTensor<span class="token punctuation">)</span><span class="token comment"># ç±»å‹è½¬æ¢</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="torch.tensorä¸np.ndarrayè½¬æ¢"><strong>torch.Tensorä¸np.ndarrayè½¬æ¢</strong></h3><p>é™¤äº†CharTensorï¼Œå…¶ä»–æ‰€æœ‰CPUä¸Šçš„å¼ é‡éƒ½æ”¯æŒè½¬æ¢ä¸ºnumpyæ ¼å¼ç„¶åå†è½¬æ¢å›æ¥ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">ndarray <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If ndarray has negative stride.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3id="torch.tensorä¸pil.imageè½¬æ¢"><strong>Torch.tensorä¸PIL.Imageè½¬æ¢</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸­çš„å¼ é‡é»˜è®¤é‡‡ç”¨[N, C, H, W]çš„é¡ºåºï¼Œå¹¶ä¸”æ•°æ®èŒƒå›´åœ¨[0,1]ï¼Œéœ€è¦è¿›è¡Œè½¬ç½®å’Œè§„èŒƒåŒ–</span><span class="token comment"># torch.Tensor -> PIL.Image</span>image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>clamp<span class="token punctuation">(</span>tensor<span class="token operator">*</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span>byte<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>image <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_pil_image<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>  <span class="token comment"># Equivalently way</span><span class="token comment"># PIL.Image -> torch.Tensor</span>path <span class="token operator">=</span> <span class="token string">r'./figure.jpg'</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255</span>tensor <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_tensor<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#Equivalently way</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="np.ndarrayä¸pil.imageçš„è½¬æ¢">np.ndarrayä¸PIL.Imageçš„è½¬æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">)</span>ndarray <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3id="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"><strong>ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">value <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å¼ é‡å½¢å˜"><strong>å¼ é‡å½¢å˜</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨å°†å·ç§¯å±‚è¾“å…¥å…¨è¿æ¥å±‚çš„æƒ…å†µä¸‹é€šå¸¸éœ€è¦å¯¹å¼ é‡åšå½¢å˜å¤„ç†ï¼Œ</span><span class="token comment"># ç›¸æ¯”torch.viewï¼Œtorch.reshapeå¯ä»¥è‡ªåŠ¨å¤„ç†è¾“å…¥å¼ é‡ä¸è¿ç»­çš„æƒ…å†µã€‚</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> shape<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ‰“ä¹±é¡ºåº"><strong>æ‰“ä¹±é¡ºåº</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span>torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># æ‰“ä¹±ç¬¬ä¸€ä¸ªç»´åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="æ°´å¹³ç¿»è½¬"><strong>æ°´å¹³ç¿»è½¬</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸æ”¯æŒtensor[::-1]è¿™æ ·çš„è´Ÿæ­¥é•¿æ“ä½œï¼Œæ°´å¹³ç¿»è½¬å¯ä»¥é€šè¿‡å¼ é‡ç´¢å¼•å®ç°</span><span class="token comment"># å‡è®¾å¼ é‡çš„ç»´åº¦ä¸º[N, D, H, W].</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span>torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="å¤åˆ¶å¼ é‡"><strong>å¤åˆ¶å¼ é‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Operation                 |  New/Shared memory | Still in computation graph |</span>tensor<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># |        New         |          Yes               |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># |      Shared        |          No                |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># |        New         |          No                | </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¼ é‡æ‹¼æ¥"><strong>å¼ é‡æ‹¼æ¥</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">'''æ³¨æ„torch.catå’Œtorch.stackçš„åŒºåˆ«åœ¨äºtorch.catæ²¿ç€ç»™å®šçš„ç»´åº¦æ‹¼æ¥ï¼Œè€Œtorch.stackä¼šæ–°å¢ä¸€ç»´ã€‚ä¾‹å¦‚å½“å‚æ•°æ˜¯3ä¸ª10x5çš„å¼ é‡ï¼Œtorch.catçš„ç»“æœæ˜¯30x5çš„å¼ é‡ï¼Œè€Œtorch.stackçš„ç»“æœæ˜¯3x10x5çš„å¼ é‡ã€‚'''</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>stack<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "><strong>å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchçš„æ ‡è®°é»˜è®¤ä»0å¼€å§‹</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>N <span class="token operator">=</span> tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>num_classes <span class="token operator">=</span> <span class="token number">4</span>one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span>one_hot<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> src<span class="token operator">=</span>torch<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾—åˆ°éé›¶å…ƒç´ "><strong>å¾—åˆ°éé›¶å…ƒç´ </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>               <span class="token comment"># index of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token comment"># index of zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment"># number of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># number of zero elements</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"><strong>åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>allclose<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>  <span class="token comment"># float tensor</span>torch<span class="token punctuation">.</span>equal<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>     <span class="token comment"># int tensor</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="å¼ é‡æ‰©å±•"><strong>å¼ é‡æ‰©å±•</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Expand tensor of shape 64*512 to shape 64*512*7*7.</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>expand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="çŸ©é˜µä¹˜æ³•"><strong>çŸ©é˜µä¹˜æ³•</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Matrix multiplcation: (m*n) * (n*p) * -> (m*p).</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>mm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Batch matrix multiplication: (b*m*n) * (b*n*p) -> (b*m*p)</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Element-wise multiplication.</span>result <span class="token operator">=</span> tensor1 <span class="token operator">*</span> tensor2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"><strong>è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»</strong></h3><p>åˆ©ç”¨broadcastæœºåˆ¶</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">dist <span class="token operator">=</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>X1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">-</span> X2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h1 id="æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"><strong>æ¨¡å‹å®šä¹‰å’Œæ“ä½œ</strong></h1><h3 id="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹">ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># convolutional neural network (2 convolutional layers)</span><span class="token keyword">class</span> <span class="token class-name">ConvNet</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num_classes<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>ConvNet<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer1 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer2 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">32</span><span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span>      <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer1<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer2<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        out <span class="token operator">=</span> out<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>out<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>fc<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        <span class="token keyword">return</span> outmodel <span class="token operator">=</span> ConvNet<span class="token punctuation">(</span>num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å·ç§¯å±‚çš„è®¡ç®—å’Œå±•ç¤ºå¯ä»¥ç”¨è¿™ä¸ªç½‘ç«™è¾…åŠ©ã€‚</p><p>https://ezyang.github.io/convolution-visualizer/index.html</p><h3 id="åŒçº¿æ€§æ±‡åˆbilinear-pooling">åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> H <span class="token operator">*</span> W<span class="token punctuation">)</span>                        <span class="token comment"># Assume X has shape N*D*H*W</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>X<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>H <span class="token operator">*</span> W<span class="token punctuation">)</span>  <span class="token comment"># Bilinear pooling</span><span class="token keyword">assert</span> X<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> D<span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D <span class="token operator">*</span> D<span class="token punctuation">)</span><span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">*</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token comment"># Signed-sqrt normalization</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>normalize<span class="token punctuation">(</span>X<span class="token punctuation">)</span>                  <span class="token comment"># L2 normalization</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¤šå¡åŒæ­¥-bnbatch-normalization"><strong>å¤šå¡åŒæ­¥ BNï¼ˆBatchnormalizationï¼‰</strong></h3><p>å½“ä½¿ç”¨ torch.nn.DataParallel å°†ä»£ç è¿è¡Œåœ¨å¤šå¼  GPU å¡ä¸Šæ—¶ï¼ŒPyTorch çš„BN å±‚é»˜è®¤æ“ä½œæ˜¯å„å¡ä¸Šæ•°æ®ç‹¬ç«‹åœ°è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®ï¼ŒåŒæ­¥ BNä½¿ç”¨æ‰€æœ‰å¡ä¸Šçš„æ•°æ®ä¸€èµ·è®¡ç®— BN å±‚çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œç¼“è§£äº†å½“æ‰¹é‡å¤§å°ï¼ˆbatchsizeï¼‰æ¯”è¾ƒå°æ—¶å¯¹å‡å€¼å’Œæ ‡å‡†å·®ä¼°è®¡ä¸å‡†çš„æƒ…å†µï¼Œæ˜¯åœ¨ç›®æ ‡æ£€æµ‹ç­‰ä»»åŠ¡ä¸­ä¸€ä¸ªæœ‰æ•ˆçš„æå‡æ€§èƒ½çš„æŠ€å·§ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>num_features<span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>   affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3id="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰bnå±‚æ”¹ä¸ºåŒæ­¥bnå±‚">å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">convertBNtoSyncBN</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> process_group<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''Recursively replace all BN layers to SyncBN layer.    Args:        module[torch.nn.Module]. Network    '''</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>batchnorm<span class="token punctuation">.</span>_BatchNorm<span class="token punctuation">)</span><span class="token punctuation">:</span>        sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>module<span class="token punctuation">.</span>num_features<span class="token punctuation">,</span> module<span class="token punctuation">.</span>eps<span class="token punctuation">,</span> module<span class="token punctuation">.</span>momentum<span class="token punctuation">,</span>                                          module<span class="token punctuation">.</span>affine<span class="token punctuation">,</span> module<span class="token punctuation">.</span>track_running_stats<span class="token punctuation">,</span> process_group<span class="token punctuation">)</span>        sync_bn<span class="token punctuation">.</span>running_mean <span class="token operator">=</span> module<span class="token punctuation">.</span>running_mean        sync_bn<span class="token punctuation">.</span>running_var <span class="token operator">=</span> module<span class="token punctuation">.</span>running_var        <span class="token keyword">if</span> module<span class="token punctuation">.</span>affine<span class="token punctuation">:</span>            sync_bn<span class="token punctuation">.</span>weight <span class="token operator">=</span> module<span class="token punctuation">.</span>weight<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>            sync_bn<span class="token punctuation">.</span>bias <span class="token operator">=</span> module<span class="token punctuation">.</span>bias<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> sync_bn    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> name<span class="token punctuation">,</span> child_module <span class="token keyword">in</span> module<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token builtin">setattr</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=</span> convert_syncbn_model<span class="token punctuation">(</span>child_module<span class="token punctuation">,</span> process_group<span class="token operator">=</span>process_group<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> module<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ç±»ä¼¼-bn-æ»‘åŠ¨å¹³å‡"><strong>ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡</strong></h3><p>å¦‚æœè¦å®ç°ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡çš„æ“ä½œï¼Œåœ¨ forwardå‡½æ•°ä¸­è¦ä½¿ç”¨åŸåœ°ï¼ˆinplaceï¼‰æ“ä½œç»™æ»‘åŠ¨å¹³å‡èµ‹å€¼ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">BN</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>register_buffer<span class="token punctuation">(</span><span class="token string">'running_mean'</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>num_features<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>running_mean <span class="token operator">+=</span> momentum <span class="token operator">*</span> <span class="token punctuation">(</span>current <span class="token operator">-</span> self<span class="token punctuation">.</span>running_mean<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"><strong>è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">num_parameters <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>numel<span class="token punctuation">(</span>parameter<span class="token punctuation">)</span> <span class="token keyword">for</span> parameter <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"><strong>æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°</strong></h3><p>å¯ä»¥é€šè¿‡model.state_dict()æˆ–è€…model.named_parameters()å‡½æ•°æŸ¥çœ‹ç°åœ¨çš„å…¨éƒ¨å¯è®­ç»ƒå‚æ•°ï¼ˆåŒ…æ‹¬é€šè¿‡ç»§æ‰¿å¾—åˆ°çš„çˆ¶ç±»ä¸­çš„å‚æ•°ï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">params <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> param<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name2<span class="token punctuation">,</span> param2<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param2<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'----------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name1<span class="token punctuation">,</span> param1<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param1<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="æ¨¡å‹å¯è§†åŒ–ä½¿ç”¨pytorchviz"><strong>æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰</strong></h3><p>https://github.com/szagoruyko/pytorchviz</p><h3id="ç±»ä¼¼-keras-çš„-model.summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ä½¿ç”¨pytorch-summary"><strong>ç±»ä¼¼Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summaryï¼‰</strong></h3><p>https://github.com/sksq96/pytorch-summary</p><p><strong>æ¨¡å‹æƒé‡åˆå§‹åŒ–</strong></p><p>æ³¨æ„ model.modules() å’Œ model.children() çš„åŒºåˆ«ï¼šmodel.modules()ä¼šè¿­ä»£åœ°éå†æ¨¡å‹çš„æ‰€æœ‰å­å±‚ï¼Œè€Œ model.children()åªä¼šéå†æ¨¡å‹ä¸‹çš„ä¸€å±‚ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Common practise for initialization.</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>kaiming_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'fan_out'</span><span class="token punctuation">,</span>                                      nonlinearity<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">)</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Linear<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>xavier_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token comment"># Initialization with given tensor.</span>layer<span class="token punctuation">.</span>weight <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"><strong>æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚</strong></h3><p>modules()ä¼šè¿”å›æ¨¡å‹ä¸­æ‰€æœ‰æ¨¡å—çš„è¿­ä»£å™¨ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®åˆ°æœ€å†…å±‚ï¼Œæ¯”å¦‚self.layer1.conv1è¿™ä¸ªæ¨¡å—ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å®ƒä»¬ç›¸å¯¹åº”çš„æ˜¯name_children()å±æ€§ä»¥åŠnamed_modules(),è¿™ä¸¤ä¸ªä¸ä»…ä¼šè¿”å›æ¨¡å—çš„è¿­ä»£å™¨ï¼Œè¿˜ä¼šè¿”å›ç½‘ç»œå±‚çš„åå­—ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å–æ¨¡å‹ä¸­çš„å‰ä¸¤å±‚</span>new_model <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># å¦‚æœå¸Œæœ›æå–å‡ºæ¨¡å‹ä¸­çš„æ‰€æœ‰å·ç§¯å±‚ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·æ“ä½œï¼š</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>         conv_model<span class="token punctuation">.</span>add_module<span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"><strong>éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹</strong></h3><p>æ³¨æ„å¦‚æœä¿å­˜çš„æ¨¡å‹æ˜¯ torch.nn.DataParallelï¼Œåˆ™å½“å‰çš„æ¨¡å‹ä¹Ÿéœ€è¦æ˜¯</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å°†åœ¨-gpu-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-cpu">å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°CPU</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">,</span> map_location<span class="token operator">=</span><span class="token string">'cpu'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2id="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"><strong>å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹</strong></h2><p>æ¨¡å‹å¯¼å…¥å‚æ•°æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å‹ç»“æ„ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥å¯¼å…¥å‚æ•°ä¼šæŠ¥é”™ã€‚ç”¨ä¸‹é¢æ–¹æ³•å¯ä»¥æŠŠå¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒçš„éƒ¨åˆ†å¯¼å…¥åˆ°æ–°çš„æ¨¡å‹ä¸­ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># model_newä»£è¡¨æ–°çš„æ¨¡å‹</span><span class="token comment"># model_savedä»£è¡¨å…¶ä»–æ¨¡å‹ï¼Œæ¯”å¦‚ç”¨torch.loadå¯¼å…¥çš„å·²ä¿å­˜çš„æ¨¡å‹</span>model_new_dict <span class="token operator">=</span> model_new<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>model_common_dict <span class="token operator">=</span> <span class="token punctuation">&#123;</span>k<span class="token punctuation">:</span>v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> model_saved<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> k <span class="token keyword">in</span> model_new_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>model_new_dict<span class="token punctuation">.</span>update<span class="token punctuation">(</span>model_common_dict<span class="token punctuation">)</span>model_new<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>model_new_dict<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æ•°æ®å¤„ç†"><strong>æ•°æ®å¤„ç†</strong></h1><h3 id="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®">è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>data <span class="token keyword">import</span> Dataset<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">def</span> <span class="token function">compute_mean_and_std</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># è¾“å…¥PyTorchçš„datasetï¼Œè¾“å‡ºå‡å€¼å’Œæ ‡å‡†å·®</span>    mean_r <span class="token operator">=</span> <span class="token number">0</span>    mean_g <span class="token operator">=</span> <span class="token number">0</span>    mean_b <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span> <span class="token comment"># change PIL Image to numpy array</span>        mean_r <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_g <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_b <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    mean_r <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_g <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_b <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    diff_r <span class="token operator">=</span> <span class="token number">0</span>    diff_g <span class="token operator">=</span> <span class="token number">0</span>    diff_b <span class="token operator">=</span> <span class="token number">0</span>    N <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span>        diff_r <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_r<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_g <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_g<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_b <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_b<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        N <span class="token operator">+=</span> np<span class="token punctuation">.</span>prod<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span>    std_r <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_r <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_g <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_g <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_b <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_b <span class="token operator">/</span> N<span class="token punctuation">)</span>    mean <span class="token operator">=</span> <span class="token punctuation">(</span>mean_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    std <span class="token operator">=</span> <span class="token punctuation">(</span>std_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> mean<span class="token punctuation">,</span> std<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯">å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2video <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>mp4_path<span class="token punctuation">)</span>height <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span>width <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span>num_frames <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_COUNT<span class="token punctuation">)</span><span class="token punctuation">)</span>fps <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">)</span><span class="token punctuation">)</span>video<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="tsn-æ¯æ®µsegmenté‡‡æ ·ä¸€å¸§è§†é¢‘">TSNæ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">K <span class="token operator">=</span> self<span class="token punctuation">.</span>_num_segments<span class="token keyword">if</span> is_train<span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Random index for each segment.</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames <span class="token operator">//</span> K<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>            torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> frame_indices<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Middle index for each segment.</span>        frame_indices <span class="token operator">=</span> num_frames <span class="token operator">/</span> K <span class="token operator">//</span> <span class="token number">2</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>                                        torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">assert</span> frame_indices<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token punctuation">[</span>frame_indices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"><strong>å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†</strong></h3><p>å…¶ä¸­ ToTensor æ“ä½œä¼šå°† PIL.Image æˆ–å½¢çŠ¶ä¸º HÃ—WÃ—Dï¼Œæ•°å€¼èŒƒå›´ä¸º [0, 255]çš„ np.ndarray è½¬æ¢ä¸ºå½¢çŠ¶ä¸º DÃ—HÃ—Wï¼Œæ•°å€¼èŒƒå›´ä¸º [0.0, 1.0] çš„torch.Tensorã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">train_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomResizedCrop<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">224</span><span class="token punctuation">,</span>                                             scale<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.08</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomHorizontalFlip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> val_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Resize<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>CenterCrop<span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"><strong>æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•</strong></h1><h3 id="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "><strong>åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Loss and optimizer</span>criterion <span class="token operator">=</span> nn<span class="token punctuation">.</span>CrossEntropyLoss<span class="token punctuation">(</span><span class="token punctuation">)</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>Adam<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span>learning_rate<span class="token punctuation">)</span><span class="token comment"># Train the model</span>total_step <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token punctuation">,</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> labels<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>              <span class="token comment"># Forward pass</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        loss <span class="token operator">=</span> criterion<span class="token punctuation">(</span>outputs<span class="token punctuation">,</span> labels<span class="token punctuation">)</span>              <span class="token comment"># Backward and optimizer</span>        optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>        loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>        optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Epoch: [&#123;&#125;/&#123;&#125;], Step: [&#123;&#125;/&#123;&#125;], Loss: &#123;&#125;'</span>                  <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>epoch<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> num_epochs<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> total_step<span class="token punctuation">,</span> loss<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "><strong>åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Test the model</span>model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># eval mode(batch norm uses moving mean/variance </span>              <span class="token comment">#instead of mini-batch mean/variance)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    correct <span class="token operator">=</span> <span class="token number">0</span>    total <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> test_loader<span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        _<span class="token punctuation">,</span> predicted <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>outputs<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        total <span class="token operator">+=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        correct <span class="token operator">+=</span> <span class="token punctuation">(</span>predicted <span class="token operator">==</span> labels<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Test accuracy of the model on the 10000 test images: &#123;&#125; %'</span>          <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> correct <span class="token operator">/</span> total<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è‡ªå®šä¹‰loss"><strong>è‡ªå®šä¹‰loss</strong></h3><p>ç»§æ‰¿torch.nn.Moduleç±»å†™è‡ªå·±çš„lossã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyLoss</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Moudle<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>MyLoss<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> loss<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ ‡ç­¾å¹³æ»‘label-smoothing"><strong>æ ‡ç­¾å¹³æ»‘ï¼ˆlabelsmoothingï¼‰</strong></h3><p>å†™ä¸€ä¸ªlabel_smoothing.pyçš„æ–‡ä»¶ï¼Œç„¶ååœ¨è®­ç»ƒä»£ç é‡Œå¼•ç”¨ï¼Œç”¨LSRä»£æ›¿äº¤å‰ç†µæŸå¤±å³å¯ã€‚label_smoothing.pyå†…å®¹å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">class</span> <span class="token class-name">LSR</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> reduction<span class="token operator">=</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>log_softmax <span class="token operator">=</span> nn<span class="token punctuation">.</span>LogSoftmax<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>e <span class="token operator">=</span> e        self<span class="token punctuation">.</span>reduction <span class="token operator">=</span> reduction      <span class="token keyword">def</span> <span class="token function">_one_hot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> labels<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""            Convert labels to one hot vectors              Args:            labels: torch tensor in format [label1, label2, label3, ...]            classes: int, number of classes            value: label value in one hot vector, default to 1              Returns:            return one hot format labels in shape [batchsize, classes]        """</span>        one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> classes<span class="token punctuation">)</span>        <span class="token comment">#labels and value_added  size must match</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>view<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        value_added <span class="token operator">=</span> torch<span class="token punctuation">.</span>Tensor<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fill_<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        value_added <span class="token operator">=</span> value_added<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot <span class="token operator">=</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot<span class="token punctuation">.</span>scatter_add_<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> labels<span class="token punctuation">,</span> value_added<span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot    <span class="token keyword">def</span> <span class="token function">_smooth_label</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> smooth_factor<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""convert targets to one-hot format, and smooth        them.        Args:            target: target in form with [label1, label2, label_batchsize]            length: length of one-hot format(number of classes)            smooth_factor: smooth factor for label smooth              Returns:            smoothed labels in one hot format        """</span>        one_hot <span class="token operator">=</span> self<span class="token punctuation">.</span>_one_hot<span class="token punctuation">(</span>target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">-</span> smooth_factor<span class="token punctuation">)</span>        one_hot <span class="token operator">+=</span> smooth_factor <span class="token operator">/</span> <span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>target<span class="token punctuation">.</span>device<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">!=</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input batchsize (&#123;&#125;) to match target batch_size(&#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input tensor to have least 2 dimensions(got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Only 2 dimension tensor are implemented, (got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        smoothed_target <span class="token operator">=</span> self<span class="token punctuation">.</span>_smooth_label<span class="token punctuation">(</span>target<span class="token punctuation">,</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>e<span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token operator">-</span> x <span class="token operator">*</span> smoothed_target<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'none'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> loss              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'sum'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'mean'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'unrecognized option, expect reduction to be one of none, mean, sum'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æˆ–è€…ç›´æ¥åœ¨è®­ç»ƒæ–‡ä»¶é‡Œåšlabel smoothing</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    N <span class="token operator">=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token comment"># C is the number of classes.</span>    smoothed_labels <span class="token operator">=</span> torch<span class="token punctuation">.</span>full<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">,</span> fill_value<span class="token operator">=</span><span class="token number">0.1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>C <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    smoothed_labels<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>labels<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>    score <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>    log_prob <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>score<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token operator">-</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>log_prob <span class="token operator">*</span> smoothed_labels<span class="token punctuation">)</span> <span class="token operator">/</span> N    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="mixupè®­ç»ƒ"><strong>Mixupè®­ç»ƒ</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">beta_distribution <span class="token operator">=</span> torch<span class="token punctuation">.</span>distributions<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>Beta<span class="token punctuation">(</span>alpha<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Mixup images and labels.</span>    lambda_ <span class="token operator">=</span> beta_distribution<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>    index <span class="token operator">=</span> torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>images<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    mixed_images <span class="token operator">=</span> lambda_ <span class="token operator">*</span> images <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> images<span class="token punctuation">[</span>index<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>    label_a<span class="token punctuation">,</span> label_b <span class="token operator">=</span> labels<span class="token punctuation">,</span> labels<span class="token punctuation">[</span>index<span class="token punctuation">]</span>    <span class="token comment"># Mixup loss.</span>    scores <span class="token operator">=</span> model<span class="token punctuation">(</span>mixed_images<span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token punctuation">(</span>lambda_ <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_a<span class="token punctuation">)</span>            <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_b<span class="token punctuation">)</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="l1-æ­£åˆ™åŒ–">L1 æ­£åˆ™åŒ–</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">l1_regularization <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>L1Loss<span class="token punctuation">(</span>reduction<span class="token operator">=</span><span class="token string">'sum'</span><span class="token punctuation">)</span>loss <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment"># Standard cross-entropy loss</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    loss <span class="token operator">+=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">)</span>loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡weight-decay"><strong>ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweightdecayï¼‰</strong></h3><p>pytorché‡Œçš„weight decayç›¸å½“äºl2æ­£åˆ™</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">bias_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>others_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> bias_list<span class="token punctuation">,</span> <span class="token string">'weight_decay'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> others_list<span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ¢¯åº¦è£å‰ªgradient-clipping"><strong>æ¢¯åº¦è£å‰ªï¼ˆgradientclippingï¼‰</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>clip_grad_norm_<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> max_norm<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"><strong>å¾—åˆ°å½“å‰å­¦ä¹ ç‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># If there is one global learning rate (which is the common case).</span>lr <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span>optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token comment"># If there are multiple learning rates for different layers.</span>all_lr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> param_group <span class="token keyword">in</span> optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">:</span>    all_lr<span class="token punctuation">.</span>append<span class="token punctuation">(</span>param_group<span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å¦ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªbatchè®­ç»ƒä»£ç é‡Œï¼Œå½“å‰çš„lræ˜¯optimizer.param_groups[0]['lr']</p><h3 id="å­¦ä¹ ç‡è¡°å‡">å­¦ä¹ ç‡è¡°å‡</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Reduce learning rate when validation accuarcy plateau.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>ReduceLROnPlateau<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'max'</span><span class="token punctuation">,</span> patience<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span>val_acc<span class="token punctuation">)</span><span class="token comment"># Cosine annealing learning rate.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>CosineAnnealingLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> T_max<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token comment"># Reduce learning rate by 10 at given epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>MultiStepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> milestones<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>      train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token comment"># Learning rate warmup by 10 epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>LambdaLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> lr_lambda<span class="token operator">=</span><span class="token keyword">lambda</span> t<span class="token punctuation">:</span> t <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"><strong>ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°</strong></h3><p>ä»1.4ç‰ˆæœ¬å¼€å§‹ï¼Œtorch.optim.lr_scheduleræ”¯æŒé“¾å¼æ›´æ–°ï¼ˆchainingï¼‰ï¼Œå³ç”¨æˆ·å¯ä»¥å®šä¹‰ä¸¤ä¸ªschedulersï¼Œå¹¶äº¤æ›¿åœ¨è®­ç»ƒä¸­ä½¿ç”¨ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim <span class="token keyword">import</span> SGD<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler <span class="token keyword">import</span> ExponentialLR<span class="token punctuation">,</span> StepLRmodel <span class="token operator">=</span> <span class="token punctuation">[</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> requires_grad<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> SGD<span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span>scheduler1 <span class="token operator">=</span> ExponentialLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>scheduler2 <span class="token operator">=</span> StepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> step_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>epoch<span class="token punctuation">,</span> scheduler2<span class="token punctuation">.</span>get_last_lr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler1<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler2<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"><strong>æ¨¡å‹è®­ç»ƒå¯è§†åŒ–</strong></h3><p>PyTorchå¯ä»¥ä½¿ç”¨tensorboardæ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚</p><p>å®‰è£…å’Œè¿è¡ŒTensorBoardã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip <span class="token function">install</span> tensorboardtensorboard --logdir<span class="token operator">=</span>runs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>ä½¿ç”¨SummaryWriterç±»æ¥æ”¶é›†å’Œå¯è§†åŒ–ç›¸åº”çš„æ•°æ®ï¼Œæ”¾äº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚'Loss/train'å’Œ'Loss/test'ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>tensorboard <span class="token keyword">import</span> SummaryWriter<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npwriter <span class="token operator">=</span> SummaryWriter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> n_iter <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"><strong>ä¿å­˜ä¸åŠ è½½æ–­ç‚¹</strong></h3><p>æ³¨æ„ä¸ºäº†èƒ½å¤Ÿæ¢å¤è®­ç»ƒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¿å­˜æ¨¡å‹å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€ï¼Œä»¥åŠå½“å‰çš„è®­ç»ƒè½®æ•°ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">start_epoch <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># Load checkpoint.</span><span class="token keyword">if</span> resume<span class="token punctuation">:</span> <span class="token comment"># resumeä¸ºå‚æ•°ï¼Œç¬¬ä¸€æ¬¡è®­ç»ƒæ—¶è®¾ä¸º0ï¼Œä¸­æ–­å†è®­ç»ƒæ—¶è®¾ä¸º1</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    best_acc <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'best_acc'</span><span class="token punctuation">]</span>    start_epoch <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'epoch'</span><span class="token punctuation">]</span>    model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'model'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'optimizer'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Load checkpoint at epoch &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Best accuracy so far &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>best_acc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Train the model</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">,</span> num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token comment"># Test the model</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>          <span class="token comment"># save checkpoint</span>    is_best <span class="token operator">=</span> current_acc <span class="token operator">></span> best_acc    best_acc <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>current_acc<span class="token punctuation">,</span> best_acc<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'best_acc'</span><span class="token punctuation">:</span> best_acc<span class="token punctuation">,</span>        <span class="token string">'epoch'</span><span class="token punctuation">:</span> epoch <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token string">'model'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token string">'optimizer'</span><span class="token punctuation">:</span> optimizer<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'checkpoint.pth.tar'</span><span class="token punctuation">)</span>    best_model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    torch<span class="token punctuation">.</span>save<span class="token punctuation">(</span>checkpoint<span class="token punctuation">,</span> model_path<span class="token punctuation">)</span>    <span class="token keyword">if</span> is_best<span class="token punctuation">:</span>        shutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>model_path<span class="token punctuation">,</span> best_model_path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–-imagenet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾">æå– ImageNeté¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># VGG-16 relu5-3 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># VGG-16 pool5 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token comment"># VGG-16 fc7 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model<span class="token punctuation">.</span>classifier <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>classifier<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># ResNet GAP feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>collections<span class="token punctuation">.</span>OrderedDict<span class="token punctuation">(</span>    <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    conv_representation <span class="token operator">=</span> model<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–-imagenet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾">æå– ImageNeté¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FeatureExtractor</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Helper class to extract several convolution features from the given    pre-trained model.    Attributes:        _model, torch.nn.Module.        _layers_to_extract, list&lt;str> or set&lt;str>    Example:        >>> model = torchvision.models.resnet152(pretrained=True)        >>> model = torch.nn.Sequential(collections.OrderedDict(                list(model.named_children())[:-1]))        >>> conv_representation = FeatureExtractor(                pretrained_model=model,                layers_to_extract=&#123;'layer1', 'layer2', 'layer3', 'layer4'&#125;)(image)    """</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pretrained_model<span class="token punctuation">,</span> layers_to_extract<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_model <span class="token operator">=</span> pretrained_model        self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_layers_to_extract <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>layers_to_extract<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            conv_representation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> name<span class="token punctuation">,</span> layer <span class="token keyword">in</span> self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                x <span class="token operator">=</span> layer<span class="token punctuation">(</span>x<span class="token punctuation">)</span>                <span class="token keyword">if</span> name <span class="token keyword">in</span> self<span class="token punctuation">.</span>_layers_to_extract<span class="token punctuation">:</span>                    conv_representation<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>            <span class="token keyword">return</span> conv_representation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾®è°ƒå…¨è¿æ¥å±‚">å¾®è°ƒå…¨è¿æ¥å±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    param<span class="token punctuation">.</span>requires_grad <span class="token operator">=</span> <span class="token boolean">False</span>model<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># Replace the last fc layer</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚è¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚">ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>finetuned_parameters <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">,</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>conv_parameters <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token keyword">for</span> p <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">id</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token keyword">not</span> <span class="token keyword">in</span> finetuned_parameters<span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> conv_parameters<span class="token punctuation">,</span> <span class="token string">'lr'</span><span class="token punctuation">:</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>               <span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><strong>å…¶ä»–æ³¨æ„äº‹é¡¹</strong></h1><ul><li>ä¸è¦ä½¿ç”¨å¤ªå¤§çš„çº¿æ€§å±‚ã€‚å› ä¸ºnn.Linear(m,n)ä½¿ç”¨çš„æ˜¯O(mn)çš„å†…å­˜ï¼Œçº¿æ€§å±‚å¤ªå¤§å¾ˆå®¹æ˜“è¶…å‡ºç°æœ‰æ˜¾å­˜ã€‚</li><li>ä¸è¦åœ¨å¤ªé•¿çš„åºåˆ—ä¸Šä½¿ç”¨RNNã€‚å› ä¸ºRNNåå‘ä¼ æ’­ä½¿ç”¨çš„æ˜¯BPTTç®—æ³•ï¼Œå…¶éœ€è¦çš„å†…å­˜å’Œè¾“å…¥åºåˆ—çš„é•¿åº¦å‘ˆçº¿æ€§å…³ç³»ã€‚</li><li>model(x) å‰ç”¨ model.train() å’Œ model.eval() åˆ‡æ¢ç½‘ç»œçŠ¶æ€ã€‚</li><li>ä¸éœ€è¦è®¡ç®—æ¢¯åº¦çš„ä»£ç å—ç”¨ with torch.no_grad() åŒ…å«èµ·æ¥ã€‚</li><li>model.eval() å’Œ torch.no_grad() çš„åŒºåˆ«åœ¨äºï¼Œmodel.eval()æ˜¯å°†ç½‘ç»œåˆ‡æ¢ä¸ºæµ‹è¯•çŠ¶æ€ï¼Œä¾‹å¦‚ BNå’Œdropoutåœ¨è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µä½¿ç”¨ä¸åŒçš„è®¡ç®—æ–¹æ³•ã€‚torch.no_grad() æ˜¯å…³é—­PyTorch å¼ é‡çš„è‡ªåŠ¨æ±‚å¯¼æœºåˆ¶ï¼Œä»¥å‡å°‘å­˜å‚¨ä½¿ç”¨å’ŒåŠ é€Ÿè®¡ç®—ï¼Œå¾—åˆ°çš„ç»“æœæ— æ³•è¿›è¡Œloss.backward()ã€‚</li><li>model.zero_grad()ä¼šæŠŠæ•´ä¸ªæ¨¡å‹çš„å‚æ•°çš„æ¢¯åº¦éƒ½å½’é›¶,è€Œoptimizer.zero_grad()åªä¼šæŠŠä¼ å…¥å…¶ä¸­çš„å‚æ•°çš„æ¢¯åº¦å½’é›¶.</li><li>torch.nn.CrossEntropyLoss çš„è¾“å…¥ä¸éœ€è¦ç»è¿‡Softmaxã€‚torch.nn.CrossEntropyLoss ç­‰ä»·äºtorch.nn.functional.log_softmax + torch.nn.NLLLossã€‚</li><li>loss.backward() å‰ç”¨ optimizer.zero_grad() æ¸…é™¤ç´¯ç§¯æ¢¯åº¦ã€‚</li><li>torch.utils.data.DataLoader ä¸­å°½é‡è®¾ç½®pin_memory=Trueï¼Œå¯¹ç‰¹åˆ«å°çš„æ•°æ®é›†å¦‚ MNIST è®¾ç½® pin_memory=Falseåè€Œæ›´å¿«ä¸€äº›ã€‚num_workers çš„è®¾ç½®éœ€è¦åœ¨å®éªŒä¸­æ‰¾åˆ°æœ€å¿«çš„å–å€¼ã€‚</li><li>ç”¨ del åŠæ—¶åˆ é™¤ä¸ç”¨çš„ä¸­é—´å˜é‡ï¼ŒèŠ‚çº¦ GPU å­˜å‚¨ã€‚</li><li>ä½¿ç”¨ inplace æ“ä½œå¯èŠ‚çº¦ GPU å­˜å‚¨ï¼Œå¦‚</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>x<span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>å‡å°‘ CPU å’Œ GPU ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ä¾‹å¦‚å¦‚æœä½ æƒ³çŸ¥é“ä¸€ä¸ª epoch ä¸­æ¯ä¸ªmini-batch çš„ loss å’Œå‡†ç¡®ç‡ï¼Œå…ˆå°†å®ƒä»¬ç´¯ç§¯åœ¨ GPU ä¸­ç­‰ä¸€ä¸ª epochç»“æŸä¹‹åä¸€èµ·ä¼ è¾“å› CPU ä¼šæ¯”æ¯ä¸ª mini-batch éƒ½è¿›è¡Œä¸€æ¬¡ GPU åˆ° CPUçš„ä¼ è¾“æ›´å¿«ã€‚</li><li>ä½¿ç”¨åŠç²¾åº¦æµ®ç‚¹æ•° half() ä¼šæœ‰ä¸€å®šçš„é€Ÿåº¦æå‡ï¼Œå…·ä½“æ•ˆç‡ä¾èµ–äº GPUå‹å·ã€‚éœ€è¦å°å¿ƒæ•°å€¼ç²¾åº¦è¿‡ä½å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ã€‚</li><li>æ—¶å¸¸ä½¿ç”¨ assert tensor.size() == (N, D, H, W)ä½œä¸ºè°ƒè¯•æ‰‹æ®µï¼Œç¡®ä¿å¼ é‡ç»´åº¦å’Œä½ è®¾æƒ³ä¸­ä¸€è‡´ã€‚</li><li>é™¤äº†æ ‡è®° y å¤–ï¼Œå°½é‡å°‘ä½¿ç”¨ä¸€ç»´å¼ é‡ï¼Œä½¿ç”¨ n*1çš„äºŒç»´å¼ é‡ä»£æ›¿ï¼Œå¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸€ç»´å¼ é‡è®¡ç®—ç»“æœã€‚</li><li>ç»Ÿè®¡ä»£ç å„éƒ¨åˆ†è€—æ—¶</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> torch<span class="token punctuation">.</span>autograd<span class="token punctuation">.</span>profiler<span class="token punctuation">.</span>profile<span class="token punctuation">(</span>enabled<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> use_cuda<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">as</span> profile<span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">print</span><span class="token punctuation">(</span>profile<span class="token punctuation">)</span><span class="token comment"># æˆ–è€…åœ¨å‘½ä»¤è¡Œè¿è¡Œ</span>python <span class="token operator">-</span>m torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>bottleneck main<span class="token punctuation">.</span>py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>ä½¿ç”¨TorchSnooperæ¥è°ƒè¯•PyTorchä»£ç ï¼Œç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨ printå‡ºæ¥æ¯ä¸€è¡Œçš„æ‰§è¡Œç»“æœçš„ tensorçš„å½¢çŠ¶ã€æ•°æ®ç±»å‹ã€è®¾å¤‡ã€æ˜¯å¦éœ€è¦æ¢¯åº¦çš„ä¿¡æ¯ã€‚</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pip install torchsnooper</span><span class="token keyword">import</span> torchsnooper<span class="token comment"># å¯¹äºå‡½æ•°ï¼Œä½¿ç”¨ä¿®é¥°å™¨</span><span class="token decorator annotation punctuation">@torchsnooper<span class="token punctuation">.</span>snoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å¦‚æœä¸æ˜¯å‡½æ•°ï¼Œä½¿ç”¨ with è¯­å¥æ¥æ¿€æ´» TorchSnooperï¼ŒæŠŠè®­ç»ƒçš„é‚£ä¸ªå¾ªç¯è£…è¿› with è¯­å¥ä¸­å»ã€‚</span><span class="token keyword">with</span> torchsnooper<span class="token punctuation">.</span>snoop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>åŸæœ¬çš„ä»£ç </li></ul><p>https://github.com/zasdfgbnm/TorchSnooper</p><ul><li>æ¨¡å‹å¯è§£é‡Šæ€§ï¼Œä½¿ç”¨captumåº“</li></ul><p>https://captum.ai/</p><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><p>1.https://zhuanlan.zhihu.com/p/59205847</p><p>2.<ahref="https://pytorch.org/tutorials/">PyTorchå®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹</a></p><p>3.https://pytorch.org/docs/stable/notes/faq.html</p><p>4.https://github.com/szagoruyko/pytorchviz</p><p>5.https://github.com/sksq96/pytorch-summary</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;PyTorchæœ€å¥½çš„èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚æœ¬æ–‡æ˜¯PyTorchå¸¸ç”¨ä»£ç æ®µï¼Œåœ¨å‚è€ƒèµ„æ–™çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›ä¿®è¡¥ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img
src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220511003116457.png&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>PID æ§åˆ¶åœ¨åŒ»å­¦éº»é†‰è¿‡ç¨‹è¡€å‹æ§åˆ¶ä¸­çš„åº”ç”¨</title>
    <link href="http://enderfga.cn/2022/05/04/pid/"/>
    <id>http://enderfga.cn/2022/05/04/pid/</id>
    <published>2022-05-04T13:42:55.000Z</published>
    <updated>2022-05-28T16:35:37.071Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="8d9551c54b0a3ea5395ab601d35193ee5851edd699f0f5621acf8252be4bd37f">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef8390949ce81548ae0960336e7f159e5f255292e39e5dc684a7a7254310f830b1ab5134d82f1b2ab4cdd65dd5be9680d164da0c9478a1b99a73412795cdab55aa311c8cb843af4283e063d3016372068c422bb1a133ba7d431386cedb7c08e23f7f16f17a91aba2d3dbf949f1b6a8c8b9436448e7021bc921b76a2fcac61a6b61c831f2d065696cd848c47e526eaa797d28d2e9c3ab9e9927995e14ab837e6168e6996d893ae4ae7136ddb644475400a08695a2ec26fc995e0e0c1b8dd886541092788c316031a9d2f81d2266fed0993632ef2e264f797a77ce632c5a1c0834bd996ad7407dd525f684faec786f21b35a1b482d50ff4c2414db035327930c5f0d8b7870c928d44f964c9b1355e1990968f6a6f8f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</summary>
    
    
    
    
    <category term="è‡ªåŠ¨æ§åˆ¶åŸç†" scheme="http://enderfga.cn/tags/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æ</title>
    <link href="http://enderfga.cn/2022/05/01/net3/"/>
    <id>http://enderfga.cn/2022/05/01/net3/</id>
    <published>2022-05-01T03:07:57.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æå®éªŒ</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/wall.png" /></p><embed src="./problem.pdf" width="100%" height="750" type="application/pdf"><embed src="./wireshark.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç½‘ä½œä¸šï¼šç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æå®éªŒ&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åº“åŸç† Exercises 3&amp;4</title>
    <link href="http://enderfga.cn/2022/04/29/data3/"/>
    <id>http://enderfga.cn/2022/04/29/data3/</id>
    <published>2022-04-28T16:33:52.000Z</published>
    <updated>2022-05-28T16:35:26.932Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Database System Concepts Exercises of Chapter 5&amp;6</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003143556.png" /></p><h1 id="database-system-concepts-exercises-of-chapter-56">DatabaseSystem Concepts Exercises of Chapter 5&amp;6</h1><p><strong>Exercise 5.8</strong> Consider the bank database of Figure<strong>5.25</strong>. Write an sQL trigger to carryout the followingaction: On <strong>delete</strong> of an account, for each owner oftheaccount, check if the owner has any remaining accounts, and if shedoesnot, delete her from the <em>depositor</em> relation.</p><p>branch(branch_name, branch_city, assets)</p><p>customer ( customer_name, customer_street, customer_city )</p><p>loan( loan_number, branch_name, amount)</p><p>borrower ( customer_name, loan_number )</p><p>account ( account_number, branch_name, balance )</p><p>depositor ( customer_name, account_number )</p><p><strong>Figure 5.25</strong></p><p><strong>My answer:</strong></p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">trigger</span> <span class="token keyword">check</span><span class="token operator">-</span><span class="token keyword">delete</span><span class="token operator">-</span><span class="token keyword">trigger</span> <span class="token keyword">after</span> <span class="token keyword">delete</span> <span class="token keyword">on</span> account referencing old <span class="token keyword">row</span> <span class="token keyword">as</span> orow<span class="token keyword">for each row</span><span class="token keyword">delete</span> <span class="token keyword">from</span> depositor<span class="token keyword">where</span> depositor<span class="token punctuation">.</span>customer_name <span class="token operator">not</span> <span class="token operator">in</span>   <span class="token punctuation">(</span> <span class="token keyword">select</span> customer_name <span class="token keyword">from</span> depositor     <span class="token keyword">where</span> account_number <span class="token operator">&lt;></span> orow<span class="token punctuation">.</span>account_number <span class="token punctuation">)</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>Exercise</strong> <strong>5.15</strong> Consider an employeedatabase with two relations employee (<spanclass="math inline">\(\underline{employee\_name}\)</span>, street, city)works (<span class="math inline">\(\underline{employee\_name}\)</span>,company_name, salary) where the primary keys are underlined. Write aquery to find companies whose employees earn a higher salary, onaverage, than the average salary at "First Bank Corporation". a. UsingSQL functions as appropriate. b. Without using SQL functions.</p><p><strong>My answer:</strong></p><ol type="a"><li></li></ol><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">function</span> avg_salary<span class="token punctuation">(</span>cname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">integer</span>     <span class="token keyword">declare</span> result <span class="token keyword">integer</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">into</span> result<span class="token keyword">from</span> works<span class="token keyword">where</span> works<span class="token punctuation">.</span>company<span class="token punctuation">.</span>name <span class="token operator">=</span> cname<span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">where</span> avg_salary<span class="token punctuation">(</span>company_name<span class="token punctuation">)</span> <span class="token operator">></span> avg_salary<span class="token punctuation">(</span>â€œ<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="a"><li></li></ol><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">group</span> <span class="token keyword">by</span> company_name<span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> works<span class="token keyword">where</span> company_name<span class="token operator">=</span>â€<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr /><p><strong>Exercise 6.1</strong> Write the following queries inrelational algebra, using the university schema. <strong>a</strong>.Find the titles of courses in the Comp. Sci. department that have 3credits. <strong>b</strong>. Find the IDs of all students who weretaught by an instructor named Einstein; make sure there are noduplicates in the result. <strong>c</strong>. Find the highest salary ofany instructor. <strong>d</strong>. Find all instructors earning thehighest salary (there may be more than one with the same salary).</p><p><strong>My answer:</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003507835.png" /></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Database System Concepts Exercises of Chapter 5&amp;amp;6&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ•°æ®åº“" scheme="http://enderfga.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>conda/linux/gitå¸¸ç”¨å‘½ä»¤â€œç¬”è®°â€</title>
    <link href="http://enderfga.cn/2022/04/28/code/"/>
    <id>http://enderfga.cn/2022/04/28/code/</id>
    <published>2022-04-28T01:34:32.000Z</published>
    <updated>2022-05-28T16:35:25.599Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯æ¬¡å¿˜äº†éƒ½å¾—æœï¼Œè®°å½•ä¸€ä¸‹</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428094832340.png" /></p><span id="more"></span><h1 id="anacondapython">Anaconda&amp;python</h1><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428093957780.png" /></p><p><strong>pipå®‰è£…ï¼ˆtensorflow-gpuä¸ºä¾‹ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>condaå®‰è£…</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>pip3å®‰è£…ï¼ˆæŒ‡å®šç‰ˆæœ¬å·åªéœ€åœ¨å‘½ä»¤æœ«å°¾æ·»åŠ ==1.12.0ç‰ˆæœ¬å·ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip3  install tensorflow-gpu&#x3D;&#x3D;1.12.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>ä½¿ç”¨æ¸…åé•œåƒä¸‹è½½</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install tensorflow-gpu&#x3D;&#x3D;1.10 -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŒ‡å®šç›®å½•å®‰è£…</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install -t D:\ProgramData\Anaconda3\Lib\site-packages torch-1.0.1-cp36-cp36m-win_amd64.whl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>å¸è½½å®‰è£…ï¼ˆpip3åªéœ€å°†condaæ¢æˆpipï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  uninstall tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆcondaä¸ºä¾‹ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda create -n py36 python&#x3D;3.6  #py36è™šæ‹Ÿç¯å¢ƒçš„åå­—  python&#x3D;3.6  pythonç‰ˆæœ¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda remove -n py36 --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda activate py36<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹æ‰€æœ‰åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda env list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>ç”¨virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">VENV_DIR</span><span class="token operator">=</span>venvpip <span class="token function">install</span> virtualenvvirtualenv <span class="token variable">$VENV_DIR</span><span class="token builtin class-name">source</span> <span class="token variable">$VENV_DIR</span>/bin/activatedeactivate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>nohupé€å…¥åå°è¿è¡Œ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nohup</span> python train.py <span class="token operator">></span>nohup <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>      <span class="token comment">#train.pyè¿è¡Œçš„æ–‡ä»¶  nohupç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>CUDAæŒ‡å®šGPU</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0</span> <span class="token function">nohup</span> python train.py  <span class="token operator">></span> nohup.log <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å¯¼å‡ºrequirements.txt</p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 -m pip freeze <span class="token operator">></span> requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹è¿›ç¨‹å·</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ps</span> aux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æ ¹æ®è¿›ç¨‹å·æ€æ­»è¿›ç¨‹</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">kill</span> -9 è¿›ç¨‹å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/200301122312741.jpg" /></p><h1 id="linux">linux</h1><p>linuxä¸åƒWindows åˆ†äº†ç›˜ï¼Œå®ƒæ ¹ç›®å½•ä¸‹æœ‰å¦‚ä¸‹å¸¸ç”¨æ–‡ä»¶å¤¹:</p><p><em>home</em> ---------- ç”¨æˆ·çš„å®¶</p><p><em>root</em> ---------- è¶…çº§ç®¡ç†å‘˜rootçš„å®¶</p><p><em>etc</em> ---------- å­˜æ”¾é…ç½®æ–‡ä»¶</p><p><em>usr</em> ---------- å­˜æ”¾å…±äº«èµ„æº</p><h2 id="cdå‘½ä»¤">1ã€cdå‘½ä»¤:</h2><p><strong>â‘ ã€è¿›å…¥æŸä¸€ä¸ªç›®å½•</strong> <code>cd ç›®å½•å</code></p><p><strong>â‘¡ã€è¿›å…¥å¤šçº§ç›®å½•</strong> <code>cd ç›®å½•å/ç›®å½•å</code></p><p><strong>â‘¢ã€è¿”å›ä¸Šä¸€çº§ç›®å½•</strong> <code>cd ..</code></p><p><strong>â‘£ã€è¿”å›æ ¹ç›®å½•</strong> <code>cd /</code></p><p><strong>â‘¤ã€è¿”å›æ ¹ç›®å½•ä¸‹çš„æŸä¸€ä¸ªç›®å½•</strong><code>cd /ç›®å½•å</code></p><p><strong>â‘¥ã€å›å®¶</strong> <code>cd ~</code></p><h2 id="åˆ›å»ºåˆ é™¤ç›®å½•">2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•:</h2><p><strong>â‘ ã€åˆ›å»ºç›®å½•</strong> <code>mkdir ç›®å½•å</code></p><p><strong>â‘¡ã€åˆ›å»ºå¤šçº§ç›®å½•</strong> <code>mkdir -p a/b/c</code></p><p><strong>â‘¢ã€åˆ é™¤ç›®å½•(åªèƒ½åˆ é™¤ç©ºç›®å½•)</strong><code>rmdir ç›®å½•å</code></p><p><strong>â‘£ã€åˆ é™¤ç›®å½•(å¯åˆ é™¤éç©ºç›®å½•ï¼Œå¸¦è¯¢é—®)</strong><code>rm -r</code></p><p><strong>â‘¤ã€åˆ é™¤ç›®å½•(ä¸å¸¦è¯¢é—®ï¼Œè°¨æ…ä½¿ç”¨)</strong><code>rm -rf</code></p><h2 id="å¯¹æ–‡ä»¶çš„æ“ä½œ">3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ:</h2><p><strong>â‘ ã€åˆ›å»ºç©ºç™½æ–‡ä»¶</strong> <code>touch æ–‡ä»¶å</code></p><p><strong>â‘¡ã€å¤åˆ¶æ–‡ä»¶</strong></p><p><code>cp a.txt b.txt</code> <em>è¡¨ç¤ºå¤åˆ¶aæ–‡ä»¶å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><code>cp a.txt dir/b.txt</code><em>è¡¨ç¤ºæŠŠaå¤åˆ¶åˆ°diræ–‡ä»¶å¤¹ä¸‹å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><strong>â‘¢ã€ç§»åŠ¨æ–‡ä»¶</strong> <code>mv a.txt dir/b.txt</code><em>æŠŠa.txtç§»åŠ¨åˆ°dirç›®å½•ä¸‹å¹¶é‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘£ã€é‡å‘½åæ–‡ä»¶</strong> <code>mv a.txt b.txt</code><em>æŠŠa.txté‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘¤ã€åˆ é™¤æ–‡ä»¶</strong></p><p><code>rm æ–‡ä»¶å</code> <em>å¸¦è¯¢é—®çš„åˆ é™¤</em></p><p><code>rm -f æ–‡ä»¶å</code> <em>ä¸å¸¦è¯¢é—®çš„åˆ é™¤ã€‚</em></p><p><strong>â‘¥ã€æµè§ˆæ–‡ä»¶</strong></p><p><code>cat æ–‡ä»¶å</code> <em>æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰å†…å®¹</em></p><p><code>more æ–‡ä»¶å</code><em>åˆ†é¡µæ˜¾ç¤ºï¼Œç©ºæ ¼é”®ä¸‹ä¸€é¡µï¼Œå›è½¦é”®ä¸‹ä¸€è¡Œã€‚</em></p><p><code>less æ–‡ä»¶å</code><em>åˆ†é¡µæ˜¾ç¤ºï¼Œpgupä¸Šä¸€é¡µï¼Œpgdnä¸‹ä¸€é¡µã€‚</em></p><p><code>tail -5 a.txt</code> <em>æ˜¾ç¤ºa.txtæ–‡ä»¶çš„æœ€å5è¡Œã€‚</em></p><p><code>tail -f æ–‡ä»¶å</code> <em>åŠ¨æ€çš„æŸ¥çœ‹ã€‚</em></p><h2 id="æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶">4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶:</h2><p><strong>â‘ ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°</strong> <code>ls</code></p><p><strong>â‘¡ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°(åŒ…æ‹¬éšè—çš„)</strong><code>ls -a</code></p><p><strong>â‘¢ã€æŸ¥çœ‹æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(æœ€å¸¸ç”¨)</strong><code>ll</code></p><p><strong>â‘£ã€å‹å¥½çš„æ˜¾ç¤º</strong> <code>ll -h</code><em>æ¯”å¦‚æ˜¾ç¤ºçš„æ–‡ä»¶å¤§å°æ˜¯kbè€Œä¸æ˜¯å­—èŠ‚ã€‚</em></p><h2 id="taræ‰“åŒ…å‘½ä»¤">5ã€taræ‰“åŒ…å‘½ä»¤:</h2><p><strong>â‘ ã€å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…æˆhaha.tar</strong><code>tar -cvf haha.tar ./*</code></p><p><strong>â‘¡ã€å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©æˆhaha.tar</strong><code>tar -zcvf haha.tar.gz ./*</code></p><p><strong>â‘¢ã€å°†haha.tarè§£å‹åˆ°å½“å‰ç›®å½•</strong><code>tar -xvf haha.tar</code></p><p><strong>â‘£ã€å°†haha.tarè§£å‹åˆ°bç›®å½•</strong><code>tar -xvf haha.tar -C b</code> <em>æ³¨æ„Cæ˜¯å¤§å†™çš„ï¼</em></p><h2 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤">6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤:</h2><p><strong>â‘ ã€grepå‘½ä»¤</strong></p><p><code>grep category a.txt</code><em>è¡¨ç¤ºåœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²æ‰€åœ¨çš„è¡Œï¼Œå‰ææ˜¯æ‰“å¼€äº†a.txtæ–‡ä»¶ã€‚</em></p><p><code>grep category a.txt -A2</code><em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„å‰ä¸¤è¡Œã€‚</em></p><p><code>grep category a.txt -B2</code><em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„åä¸¤è¡Œã€‚</em></p><p><strong>â‘¡ã€æŸ¥çœ‹å½“å‰ç›®å½•</strong> <code>pwd</code></p><p><strong>â‘¢ã€wgetä¸‹è½½å‘½ä»¤</strong> <code>wget www.baidu.com</code><em>ä¸‹è½½ç™¾åº¦é¦–é¡µ</em></p><h2 id="vivimç¼–è¾‘å™¨">7ã€vi/vimç¼–è¾‘å™¨:</h2><p><strong>â‘ ã€ç¼–è¾‘å™¨æœ‰ä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯:</strong><strong>å‘½ä»¤è¡Œæ¨¡å¼:</strong>æ­¤æ¨¡å¼æ— æ³•ç¼–è¾‘æ–‡ä»¶ï¼Œ<code>yy</code>å¤åˆ¶è¡Œï¼Œ<code>p</code>ç²˜è´´ï¼Œ<code>dd</code>åˆ é™¤è¡Œï¼ŒæŒ‰å¦‚ä¸‹é”®éƒ½å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼:</p><p><code>i</code> å½“å‰ä½ç½®å‰æ’å…¥;</p><p><code>I</code> å½“å‰è¡Œè¡Œé¦–æ’å…¥;</p><p><code>a</code> å½“å‰ä½ç½®åæ’å…¥;</p><p><code>A</code> å½“å‰è¡Œè¡Œå°¾æ’å…¥;</p><p><code>o</code> å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œ;</p><p><code>O</code> å½“å‰çš„ä¹‹å‰æ’å…¥ä¸€è¡Œ</p><p><strong>æ’å…¥æ¨¡å¼:</strong>æ­¤æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚æŒ‰<code>esc</code>é€€å‡ºæ’å…¥æ¨¡å¼ï¼Œå›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚<strong>åº•è¡Œæ¨¡å¼:</strong>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æŒ‰<code>:</code>ï¼Œå³å¯è¿›å…¥åº•è¡Œæ¨¡å¼ã€‚åº•è¡Œæ¨¡å¼æœ‰å¦‚ä¸‹å¸¸ç”¨å‘½ä»¤:</p><p><code>q</code> ä¸ä¿å­˜é€€å‡º;</p><p><code>qï¼</code> ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º;</p><p><code>wq</code> ä¿å­˜é€€å‡º</p><h2 id="ç®¡é“">8ã€ç®¡é“:</h2><p><strong>ç®¡é“:<code>|</code>ï¼Œå°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚ä¾‹å¦‚:</strong><strong>åœ¨ <code>ip addr</code>çš„è¾“å‡ºç»“æœä¸­æŸ¥æ‰¾<code>192.168</code>å­—ç¬¦ä¸²:</strong><code>ip addr | grep 192.168</code></p><h2 id="ç³»ç»Ÿç®¡ç†å‘½ä»¤">9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤:</h2><p><strong>â‘ ã€æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´</strong> <code>date</code> æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´<code>date -s "2018-05-15 22:22:22"</code>å°†ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸ºå¼•å·é‡Œé¢çš„æ—¶é—´</p><p><strong>â‘¡ã€æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</strong> <code>df</code> æŸ¥çœ‹ç£ç›˜ä¿¡æ¯<code>df -h</code> å‹å¥½åœ°å±•ç¤ºç£ç›˜ä¿¡æ¯</p><p><strong>â‘¢ã€æ¸…å±</strong> <code>clear</code>æˆ–è€…æŒ‰<code>ctr L</code></p><p><strong>â‘£ã€è¿›ç¨‹</strong> <code>ps -ef</code>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹<code>ps -ef | grep ssh</code>æŸ¥æ‰¾sshè¿›ç¨‹</p><p><strong>â‘¤ã€æ€æ‰è¿›ç¨‹</strong> <code>kill 9527</code>æ€æ‰9527å·è¿›ç¨‹<code>kill -9 9527</code> å¼ºåˆ¶æ€æ‰9527å·è¿›ç¨‹</p><p><strong>â‘¥ã€æŸ¥çœ‹ç½‘ç»œç«¯å£</strong><code>netstat -an | grep 3306</code>æŸ¥çœ‹3306ç«¯å£å ç”¨æƒ…å†µ</p><p><strong>â‘¦ã€pingå‘½ä»¤</strong><code>ping xx.xx.xxx</code>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/bg2015120901.png" /></p><h1 id="git">GIT</h1><p>ä¸‹é¢æ˜¯å¸¸ç”¨ Git å‘½ä»¤æ¸…å•ã€‚å‡ ä¸ªä¸“ç”¨åè¯çš„è¯‘åå¦‚ä¸‹ã€‚</p><blockquote><ul><li>Workspaceï¼šå·¥ä½œåŒº</li><li>Index / Stageï¼šæš‚å­˜åŒº</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰</li><li>Remoteï¼šè¿œç¨‹ä»“åº“</li></ul></blockquote><h2 id="ä¸€æ–°å»ºä»£ç åº“">ä¸€ã€æ–°å»ºä»£ç åº“</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span>$ <span class="token function">git</span> init<span class="token comment"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span>$ <span class="token function">git</span> init <span class="token punctuation">[</span>project-name<span class="token punctuation">]</span><span class="token comment"># ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span>$ <span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="äºŒé…ç½®">äºŒã€é…ç½®</h2><p>Gitçš„è®¾ç½®æ–‡ä»¶ä¸º<code>.gitconfig</code>ï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚</p><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span>$ <span class="token function">git</span> config --list<span class="token comment"># ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span>$ <span class="token function">git</span> config -e <span class="token punctuation">[</span>--global<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.name <span class="token string">"[name]"</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.email <span class="token string">"[email address]"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¸‰å¢åŠ åˆ é™¤æ–‡ä»¶">ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>dir<span class="token punctuation">]</span><span class="token comment"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token comment"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span><span class="token comment"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span>$ <span class="token function">git</span> <span class="token function">add</span> -p<span class="token comment"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">mv</span> <span class="token punctuation">[</span>file-original<span class="token punctuation">]</span> <span class="token punctuation">[</span>file-renamed<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å››ä»£ç æäº¤">å››ã€ä»£ç æäº¤</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>. -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -a<span class="token comment"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span>$ <span class="token function">git</span> commit -v<span class="token comment"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span><span class="token comment"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span>$ <span class="token function">git</span> commit --amend -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span>$ <span class="token function">git</span> commit --amend <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="äº”åˆ†æ”¯">äº”ã€åˆ†æ”¯</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span>$ <span class="token function">git</span> branch<span class="token comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -r<span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -a<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span>$ <span class="token function">git</span> branch --track <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span>$ <span class="token function">git</span> checkout -<span class="token comment"># å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span>$ <span class="token function">git</span> branch --set-upstream <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> merge <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> cherry-pick <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤åˆ†æ”¯</span>$ <span class="token function">git</span> branch -d <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> push origin --delete <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span>$ <span class="token function">git</span> branch -dr <span class="token punctuation">[</span>remote/branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å…­æ ‡ç­¾">å…­ã€æ ‡ç­¾</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰tag</span>$ <span class="token function">git</span> tag<span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤æœ¬åœ°tag</span>$ <span class="token function">git</span> tag -d <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹tag</span>$ <span class="token function">git</span> push origin :refs/tags/<span class="token punctuation">[</span>tagName<span class="token punctuation">]</span><span class="token comment"># æŸ¥çœ‹tagä¿¡æ¯</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æŒ‡å®štag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æ‰€æœ‰tag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --tags<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¸ƒæŸ¥çœ‹ä¿¡æ¯">ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> status<span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span>$ <span class="token function">git</span> log<span class="token comment"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> log --stat<span class="token comment"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span>$ <span class="token function">git</span> log -S <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --pretty<span class="token operator">=</span>format:%s<span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --grep feature<span class="token comment"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span>$ <span class="token function">git</span> log --follow <span class="token punctuation">[</span>file<span class="token punctuation">]</span>$ <span class="token function">git</span> whatchanged <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span>$ <span class="token function">git</span> log -p <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span>$ <span class="token function">git</span> log -5 --pretty --oneline<span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span>$ <span class="token function">git</span> shortlog -sn<span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span>$ <span class="token function">git</span> blame <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> HEAD<span class="token comment"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> <span class="token punctuation">[</span>first-branch<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span class="token punctuation">[</span>second-branch<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span>$ <span class="token function">git</span> <span class="token function">diff</span> --shortstat <span class="token string">"@&#123;0 day ago&#125;"</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span>$ <span class="token function">git</span> show --name-only <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span>:<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span>$ <span class="token function">git</span> reflog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å…«è¿œç¨‹åŒæ­¥">å…«ã€è¿œç¨‹åŒæ­¥</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span>$ <span class="token function">git</span> fetch <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> remote -v<span class="token comment"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span>$ <span class="token function">git</span> remote show <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span>$ <span class="token function">git</span> remote <span class="token function">add</span> <span class="token punctuation">[</span>shortname<span class="token punctuation">]</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token comment"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span>$ <span class="token function">git</span> pull <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --force<span class="token comment"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¹æ’¤é”€">ä¹ã€æ’¤é”€</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token builtin class-name">.</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span>$ <span class="token function">git</span> reset --hard<span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span>$ <span class="token function">git</span> reset --hard <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset --keep <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span><span class="token comment"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> revert <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span>$ <span class="token function">git</span> stash$ <span class="token function">git</span> stash pop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="åå…¶ä»–">åã€å…¶ä»–</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span>$ <span class="token function">git</span> archive<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></blockquote><p>ä¸€ä¸ªå¸¸ç”¨çš„å®ä¾‹</p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> remote <span class="token function">add</span> origin xxx<span class="token punctuation">(</span>å¤åˆ¶çš„SSHé“¾æ¥<span class="token punctuation">)</span><span class="token function">git</span> branch -m master main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token function">git</span> commit -m <span class="token string">"æ³¨é‡Š"</span> <span class="token function">git</span> pull --rebase origin main<span class="token function">git</span> push origin main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯æ¬¡å¿˜äº†éƒ½å¾—æœï¼Œè®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img
src=&quot;https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428094832340.png&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="ç»ˆç«¯" scheme="http://enderfga.cn/tags/%E7%BB%88%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€ä¹‹å»ºæ¨¡ä¸æ§åˆ¶</title>
    <link href="http://enderfga.cn/2022/04/25/auto1/"/>
    <id>http://enderfga.cn/2022/04/25/auto1/</id>
    <published>2022-04-25T08:57:56.000Z</published>
    <updated>2022-05-28T16:35:24.689Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€çš„å»ºæ¨¡ä¸æ§åˆ¶ä½œä¸š</p><span id="more"></span><p>æ¦‚å¿µé¢˜ï¼ˆ18åˆ†ï¼‰</p><ol type="1"><li>è‡ªåŠ¨é©¾é©¶ä¸ºäº†å‡ºè‰²åœ°å®Œæˆé©¾é©¶ä»»åŠ¡ï¼Œå¯åˆ†ä¸ºå“ªå››å¤§æ¨¡å—ï¼Ÿï¼ˆ4åˆ†ï¼‰</li><li>ç³»ç»Ÿå»ºæ¨¡ä¸€èˆ¬åˆ†å“ªä¸¤ç§å»ºæ¨¡æ–¹å¼ï¼Ÿï¼ˆ2åˆ†ï¼‰</li><li>è¯·å†™å‡ºé«˜é€Ÿè½¬å‘è½¦è¾†æ¨¡å‹çš„ç®€åŒ–æ¨ªå‘è¯¯å·®æ¨¡å‹ï¼ˆå³å››ä¸ªçŠ¶æ€ä¸ºè¯¯å·®ï¼‰ï¼ˆ4åˆ†ï¼‰</li><li>äºŒæ¬¡å‹æ€§èƒ½æŒ‡æ ‡å‡½æ•°ä¸€èˆ¬åŒ…å«å“ªä¸‰é¡¹ä¼˜åŒ–é¡¹ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>çº¿æ€§äºŒæ¬¡é—®é¢˜ä¸‰ç§é‡è¦å½¢å¼åˆ†åˆ«æ˜¯ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>KalmanFilterï¼ˆLQEï¼‰å¦‚ä½•é€šè¿‡LQRæ±‚å¾—ï¼Œè¯·å†™å‡ºmatlabå…³é”®ä»£ç ï¼Œå³ï¼šxxx=lqr(xxx)ï¼ˆ2åˆ†ï¼‰</li></ol><p>ç¼–ç¨‹å®è·µé¢˜ï¼ˆ12åˆ†ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image002.png" /></p><p>ç»™å®šä¸€ä¸ªåŒè´¨ç³»ç»Ÿ: m<sub>1</sub> =2, m<sub>2</sub>=1, å¼¹ç°§ç³»æ•° k=5,é˜»å°¼Ïƒ=0.1, è´¨é‡å—ä¸åœ°é¢çš„æ»‘åŠ¨é˜»å°¼ Î´=0.1 (ä¸é€Ÿåº¦æœ‰æˆæ­£æ¯”)ã€‚åˆå§‹æ—¶åˆ»m<sub>1</sub> è´¨é‡å—å¤„äº x=0 çš„ä½ç½®, ä¸¤è´¨é‡å—è·ç¦»ä¸º 0 ã€‚ç°åœ¨m<sub>2</sub> å¤„ä½œç”¨ä¸€å¤–åŠ› F æ‹–åŠ¨ç³»ç»Ÿä½¿ m<sub>1</sub> ä¸ m<sub>2</sub>è´¨é‡å—å‡å¤„äº x=5 çš„ä½ç½®ã€‚</p><ol type="1"><li>å¯¹ç³»ç»Ÿå»ºæ¨¡ï¼ˆç³»ç»Ÿå¯ä»¥ç›´æ¥æµ‹é‡ä¸¤ä¸ªç‰©ä½“çš„ä½ç½®ï¼‰</li><li>åˆ¤æ–­ç³»ç»Ÿå¯æ§æ€§ä¸å¯è§‚</li><li>ç»“åˆç»™å®šçš„simulinkå’Œè„šæœ¬æ–‡ä»¶ï¼Œè®¾è®¡å®ç°ä¸Šè¿°ç³»ç»Ÿçš„LQGæ§åˆ¶å™¨å¹¶ç»˜åˆ¶é—­ç¯æ§åˆ¶æ€§èƒ½æ›²çº¿</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image020.jpg" /></p><embed src="./auto1.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€çš„å»ºæ¨¡ä¸æ§åˆ¶ä½œä¸š&lt;/p&gt;</summary>
    
    
    
    
    <category term="è‡ªåŠ¨é©¾é©¶" scheme="http://enderfga.cn/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/"/>
    
  </entry>
  
  <entry>
    <title>Cognitive Mapping and Planning for Visual Navigation</title>
    <link href="http://enderfga.cn/2022/04/24/CMP/"/>
    <id>http://enderfga.cn/2022/04/24/CMP/</id>
    <published>2022-04-24T14:56:51.000Z</published>
    <updated>2022-05-28T16:35:25.175Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¤çŸ¥ç§‘å­¦åŸºç¡€è¯¾ç¨‹è®¾è®¡æŠ¥å‘Š</p><span id="more"></span><p>å¼€æ”¾æ€§é¢˜ç›®ï¼Œç»“åˆè§†è¯­è¨€ã€è¯­éŸ³è¯†åˆ«ã€æœºå™¨äººå¹³å°ï¼Œé‡‡ç”¨Webotsï¼Œæ„å»ºä¸€ä¸ªå•/å¤šæ™ºèƒ½ä½“çš„è®¤çŸ¥å¯¼èˆªã€è®¤çŸ¥è§„åˆ’ã€è®¤çŸ¥æ§åˆ¶ä»¿çœŸç®—ä¾‹ï¼Œé‡Œé¢å¯ä»¥ç”¨å·²æœ‰çš„å„ç§ä¼ æ„Ÿå™¨ç»„ä»¶ã€æœºå™¨äººæ¨¡å‹ï¼ŒåŸºäºå‰æœŸæ‰€è®²ç®€å•çš„è®¤çŸ¥æ™ºèƒ½çŸ¥è¯†ç‚¹åšä»¿çœŸè¯•éªŒï¼Œç®—æ³•å¯ä»¥ä»githubä¸Šå¼€æºä¸‹è½½ä½¿ç”¨ã€‚é¼“åŠ±å¤§å®¶é€‰æ‹©æ­¤é¢˜ç›®å¼€å±•ä¸€äº›å°è¯•éªŒï¼Œå¯ä»¥æé—®å®ç°çš„æ–¹å¼æ–¹æ³•ã€‚åŒæ—¶æäº¤ä»¿çœŸå®ç°çš„è®¾è®¡å’Œè¯•éªŒç ”ä¹ æŠ¥å‘Šã€‚çªå‡ºè®¤çŸ¥æ™ºèƒ½åº”ç”¨çš„å…³é”®è¦ç‚¹ï¼Œè¿›è¡Œè¯¦ç»†é˜è¿°è¯´æ˜ã€‚</p><embed src="./CMP.pdf" width="100%" height="750" type="application/pdf"><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220424225934056.png" /></p><p>ã€1ã€‘è®ºæ–‡åœ°å€ï¼š https://arxiv.org/abs/1702.03920 ã€2ã€‘ä»£ç ï¼šhttps://github.com/tensorflow/models/tree/archive/research/cognitive_mapping_and_planningã€3ã€‘è®ºæ–‡Slideï¼šhttps://sites.google.com/view/cognitive-mapping-and-planning/?authuser=1ã€4ã€‘ä½œè€…ä¸»é¡µï¼š https://people.eecs.berkeley.edu/~sgupta/ã€5ã€‘ä½œè€…ä¸»é¡µï¼š https://people.eecs.berkeley.edu/~svlevine/</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¤çŸ¥ç§‘å­¦åŸºç¡€è¯¾ç¨‹è®¾è®¡æŠ¥å‘Š&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ— äººç³»ç»Ÿ" scheme="http://enderfga.cn/tags/%E6%97%A0%E4%BA%BA%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºå¥—æ¥å­—çš„ç½‘ç»œç¨‹åºè®¾è®¡</title>
    <link href="http://enderfga.cn/2022/04/19/net2/"/>
    <id>http://enderfga.cn/2022/04/19/net2/</id>
    <published>2022-04-19T11:07:49.000Z</published>
    <updated>2022-05-28T16:35:37.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šå¥—æ¥å­—ç¼–ç¨‹å®éªŒ</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220419191104235.png" /></p><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1webæœåŠ¡å™¨">å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ Pythonä¸­TCPè¿æ¥çš„å¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼šå¦‚ä½•åˆ›å»ºå¥—æ¥å­—ï¼Œå°†å…¶ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€å’Œç«¯å£ï¼Œä»¥åŠå‘é€å’Œæ¥æ”¶HTTPæ•°æ®åŒ…ã€‚æ‚¨è¿˜å°†å­¦ä¹ ä¸€äº›HTTPé¦–éƒ¨æ ¼å¼çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>æ‚¨å°†å¼€å‘ä¸€ä¸ªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚çš„WebæœåŠ¡å™¨ã€‚æ‚¨çš„WebæœåŠ¡å™¨åº”è¯¥æ¥å—å¹¶è§£æHTTPè¯·æ±‚ï¼Œç„¶åä»æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿè·å–æ‰€è¯·æ±‚çš„æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªç”±å“åº”æ–‡ä»¶ç»„æˆçš„HTTPå“åº”æ¶ˆæ¯ï¼Œå‰é¢æ˜¯é¦–éƒ¨è¡Œï¼Œç„¶åå°†å“åº”ç›´æ¥å‘é€ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœè¯·æ±‚çš„æ–‡ä»¶ä¸å­˜åœ¨äºæœåŠ¡å™¨ä¸­ï¼Œåˆ™æœåŠ¡å™¨åº”è¯¥å‘å®¢æˆ·ç«¯å‘é€â€œ404Not Foundâ€å·®é”™æŠ¥æ–‡ã€‚</p><h3 id="ä»£ç ">ä»£ç </h3><p>åœ¨æ–‡ä»¶ä¸‹é¢ä½ ä¼šæ‰¾åˆ°WebæœåŠ¡å™¨çš„ä»£ç æ¡†æ¶ã€‚æ‚¨éœ€è¦å¡«å†™è¿™ä¸ªä»£ç ã€‚è€Œä¸”éœ€è¦åœ¨æ ‡æœ‰#Fillin start å’Œ # Fill inendçš„åœ°æ–¹å¡«å†™ä»£ç ã€‚å¦å¤–ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½å¯èƒ½éœ€è¦ä¸æ­¢ä¸€è¡Œä»£ç ã€‚</p><h3 id="è¿è¡ŒæœåŠ¡å™¨">è¿è¡ŒæœåŠ¡å™¨</h3><p>å°†HTMLæ–‡ä»¶ï¼ˆä¾‹å¦‚HelloWorld.htmlï¼‰æ”¾åœ¨æœåŠ¡å™¨æ‰€åœ¨çš„ç›®å½•ä¸­ã€‚è¿è¡ŒæœåŠ¡å™¨ç¨‹åºã€‚ç¡®è®¤è¿è¡ŒæœåŠ¡å™¨çš„ä¸»æœºçš„IPåœ°å€ï¼ˆä¾‹å¦‚128.238.251.26ï¼‰ã€‚ä»å¦ä¸€ä¸ªä¸»æœºï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶æä¾›ç›¸åº”çš„URLã€‚ä¾‹å¦‚ï¼š</p><p>http://128.238.251.26:6789/HelloWorld.html</p><p>â€œHelloWorld.htmlâ€æ˜¯æ‚¨æ”¾åœ¨æœåŠ¡å™¨ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚è¿˜è¦æ³¨æ„ä½¿ç”¨å†’å·åçš„ç«¯å£å·ã€‚æ‚¨éœ€è¦ä½¿ç”¨æœåŠ¡å™¨ä»£ç ä¸­ä½¿ç”¨çš„ç«¯å£å·æ¥æ›¿æ¢æ­¤ç«¯å£å·ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç«¯å£å·6789.æµè§ˆå™¨åº”è¯¥æ˜¾ç¤ºHelloWorld.htmlçš„å†…å®¹ã€‚å¦‚æœçœç•¥â€œ:6789â€ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨é»˜è®¤ç«¯å£80ï¼Œåªæœ‰å½“æ‚¨çš„æœåŠ¡å™¨æ­£åœ¨ç«¯å£80ç›‘å¬æ—¶ï¼Œæ‰ä¼šä»æœåŠ¡å™¨è·å–ç½‘é¡µã€‚</p><p>ç„¶åç”¨å®¢æˆ·ç«¯å°è¯•è·å–æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ä½ åº”è¯¥ä¼šå¾—åˆ°ä¸€ä¸ªâ€œ404 NotFoundâ€æ¶ˆæ¯ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹">éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„æœåŠ¡å™¨ä»£ç ï¼Œä»¥åŠå®¢æˆ·ç«¯æµè§ˆå™¨çš„å±å¹•æˆªå›¾ï¼Œç”¨äºéªŒè¯æ‚¨æ˜¯å¦ä»æœåŠ¡å™¨å®é™…æ¥æ”¶åˆ°HTMLæ–‡ä»¶å†…å®¹ã€‚</p><h3 id="webæœåŠ¡å™¨çš„pythonä»£ç æ¡†æ¶">WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#import socket module</span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">)</span> <span class="token comment">#Prepare a sever socket </span><span class="token comment">#Fill in start </span><span class="token comment">#Fill in end </span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>       <span class="token comment">#Establish the connection  </span>    <span class="token keyword">print</span> <span class="token string">'Ready to serve...'</span>       connectionSocket<span class="token punctuation">,</span> addr <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>             message <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>        filename <span class="token operator">=</span> message<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>                              f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        outputdata <span class="token operator">=</span> <span class="token comment">#Fill in start  #Fill in end</span>        <span class="token comment">#Send one HTTP header line into socket     </span>        <span class="token comment">#Fill in start     </span>        <span class="token comment">#Fill in end  </span>        <span class="token comment">#Send the content of the requested file to the client</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>outputdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            connectionSocket<span class="token punctuation">.</span>send<span class="token punctuation">(</span>outputdata<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        connectionSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> IOError<span class="token punctuation">:</span>        <span class="token comment">#Send response message for file not found</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end</span>        <span class="token comment">#Close client socket</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end         </span>    serverSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¯é€‰ç»ƒä¹ ">å¯é€‰ç»ƒä¹ </h3><ol type="1"><li>ç›®å‰ï¼Œè¿™ä¸ªWebæœåŠ¡å™¨ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚ã€‚è¯·å®ç°ä¸€ä¸ªèƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚çš„å¤šçº¿ç¨‹æœåŠ¡å™¨ã€‚ä½¿ç”¨çº¿ç¨‹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œåœ¨å›ºå®šç«¯å£ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ã€‚å½“ä»å®¢æˆ·ç«¯æ”¶åˆ°TCPè¿æ¥è¯·æ±‚æ—¶ï¼Œå®ƒå°†é€šè¿‡å¦ä¸€ä¸ªç«¯å£å»ºç«‹TCPè¿æ¥ï¼Œå¹¶åœ¨å¦å¤–çš„å•ç‹¬çº¿ç¨‹ä¸­ä¸ºå®¢æˆ·ç«¯è¯·æ±‚æä¾›æœåŠ¡ã€‚è¿™æ ·åœ¨æ¯ä¸ªè¯·æ±‚/å“åº”å¯¹çš„ç‹¬ç«‹çº¿ç¨‹ä¸­å°†æœ‰ä¸€ä¸ªç‹¬ç«‹çš„TCPè¿æ¥ã€‚</li><li>ä¸ä½¿ç”¨æµè§ˆå™¨ï¼Œç¼–å†™è‡ªå·±çš„HTTPå®¢æˆ·ç«¯æ¥æµ‹è¯•ä½ çš„æœåŠ¡å™¨ã€‚æ‚¨çš„å®¢æˆ·ç«¯å°†ä½¿ç”¨ä¸€ä¸ªTCPè¿æ¥ç”¨äºè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡å™¨å“åº”æ˜¾ç¤ºå‡ºæ¥ã€‚æ‚¨å¯ä»¥å‡å®šå‘é€çš„HTTPè¯·æ±‚å°†ä½¿ç”¨GETæ–¹æ³•ã€‚å®¢æˆ·ç«¯åº”ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šæœåŠ¡å™¨IPåœ°å€æˆ–ä¸»æœºåï¼ŒæœåŠ¡å™¨æ­£åœ¨ç›‘å¬çš„ç«¯å£ï¼Œä»¥åŠè¢«è¯·æ±‚å¯¹è±¡åœ¨æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ã€‚</li></ol><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2udppingç¨‹åº">å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä½¿ç”¨Pythonè¿›è¡ŒUDPå¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ã€‚æ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨UDPå¥—æ¥å­—å‘é€å’Œæ¥æ”¶æ•°æ®æŠ¥ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®é€‚å½“çš„å¥—æ¥å­—è¶…æ—¶ã€‚åœ¨å®éªŒä¸­ï¼Œæ‚¨å°†ç†Ÿæ‚‰Pingåº”ç”¨ç¨‹åºåŠå…¶åœ¨è®¡ç®—ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚ä¸¢åŒ…ç‡ï¼‰ä¸­çš„ä½œç”¨ã€‚</p><p>æ‚¨é¦–å…ˆéœ€è¦ç ”ç©¶ä¸€ä¸ªç”¨Pythonç¼–å†™çš„ç®€å•çš„pingæœåŠ¡å™¨ç¨‹åºï¼Œå¹¶å®ç°å¯¹åº”çš„å®¢æˆ·ç«¯ç¨‹åºã€‚è¿™äº›ç¨‹åºæä¾›çš„åŠŸèƒ½ç±»ä¼¼äºç°ä»£æ“ä½œç³»ç»Ÿä¸­å¯ç”¨çš„æ ‡å‡†pingç¨‹åºåŠŸèƒ½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨æ›´ç®€å•çš„UDPåè®®ï¼Œè€Œä¸æ˜¯æ ‡å‡†äº’è”ç½‘æ§åˆ¶æ¶ˆæ¯åè®®ï¼ˆICMPï¼‰æ¥è¿›è¡Œé€šä¿¡ã€‚pingåè®®å…è®¸å®¢æˆ·ç«¯æœºå™¨å‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¿œç¨‹æœºå™¨ï¼Œå¹¶ä½¿è¿œç¨‹æœºå™¨å°†æ•°æ®åŒ…è¿”å›åˆ°å®¢æˆ·ï¼ˆç§°ä¸ºå›æ˜¾ï¼‰çš„æ“ä½œã€‚å¦å¤–ï¼Œpingåè®®å…è®¸ä¸»æœºè®¡ç®—å®ƒåˆ°å…¶ä»–æœºå™¨çš„å¾€è¿”æ—¶é—´ã€‚</p><p>ä»¥ä¸‹æ˜¯PingæœåŠ¡å™¨ç¨‹åºçš„å®Œæ•´ä»£ç ã€‚ä½ çš„ä»»åŠ¡æ˜¯å†™å‡ºPingå®¢æˆ·ç«¯ç¨‹åºã€‚</p><h3 id="æœåŠ¡å™¨ä»£ç ">æœåŠ¡å™¨ä»£ç </h3><p>ä»¥ä¸‹ä»£ç å®Œæ•´å®ç°äº†ä¸€ä¸ªpingæœåŠ¡å™¨ã€‚æ‚¨éœ€è¦åœ¨è¿è¡Œå®¢æˆ·ç«¯ç¨‹åºä¹‹å‰ç¼–è¯‘å¹¶è¿è¡Œæ­¤ä»£ç ã€‚<em>è€Œä¸”æ‚¨ä¸éœ€è¦ä¿®æ”¹æ­¤ä»£ç ã€‚</em></p><p>åœ¨è¿™ä¸ªæœåŠ¡å™¨ä»£ç ä¸­ï¼Œ30ï¼…çš„å®¢æˆ·ç«¯çš„æ•°æ®åŒ…ä¼šè¢«æ¨¡æ‹Ÿä¸¢å¤±ã€‚ä½ åº”è¯¥ä»”ç»†ç ”ç©¶è¿™ä¸ªä»£ç ï¼Œå®ƒå°†å¸®åŠ©ä½ ç¼–å†™pingå®¢æˆ·ç«¯ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># UDPPingerServer.py </span><span class="token comment"># We will need the following module to generate randomized lost packets import random </span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">import</span> random<span class="token comment"># Create a UDP socket  </span><span class="token comment"># Notice the use of SOCK_DGRAM for UDP packets </span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_DGRAM<span class="token punctuation">)</span> <span class="token comment"># Assign IP address and port number to socket </span>serverSocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>   <span class="token comment"># Generate random number in the range of 0 to 10 </span>rand <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>   <span class="token comment"># Receive the client packet along with the address it is coming from  </span>message<span class="token punctuation">,</span> address <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token comment"># Capitalize the message from the client   </span>message <span class="token operator">=</span> message<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If rand is less is than 4, we consider the packet lost and do not respond   </span><span class="token keyword">if</span> rand <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">:</span>     <span class="token keyword">continue</span>   <span class="token comment"># Otherwise, the server responds     </span>serverSocket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>message<span class="token punctuation">,</span> address<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æœåŠ¡å™¨ç¨‹åºåœ¨ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ç›‘å¬åˆ°æ¥çš„UDPæ•°æ®åŒ…ã€‚å½“æ•°æ®åŒ…åˆ°è¾¾æ—¶ï¼Œå¦‚æœç”Ÿæˆä¸€ä¸ªéšæœºæ•´æ•°å¤§äºæˆ–ç­‰äº4ï¼Œåˆ™æœåŠ¡å™¨å°†æ•°å­—è½¬ä¸ºå¤§å†™å¹¶å°†å…¶å‘é€å›å®¢æˆ·ç«¯ã€‚</p><h3 id="æ•°æ®åŒ…ä¸¢å¤±">æ•°æ®åŒ…ä¸¢å¤±</h3><p>UDPä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸å¯é çš„ä¼ è¾“æœåŠ¡ã€‚æ¶ˆæ¯å¯èƒ½å› ä¸ºè·¯ç”±å™¨é˜Ÿåˆ—æº¢å‡ºï¼Œç¡¬ä»¶é”™è¯¯æˆ–å…¶ä»–åŸå› ï¼Œè€Œåœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚ä½†ç”±äºåœ¨å†…ç½‘ä¸­å¾ˆä¸¢åŒ…ç”šè‡³ä¸ä¸¢åŒ…ï¼Œæ‰€ä»¥åœ¨æœ¬å®éªŒå®¤çš„æœåŠ¡å™¨ç¨‹åºæ·»åŠ äººä¸ºæŸå¤±æ¥æ¨¡æ‹Ÿç½‘ç»œä¸¢åŒ…çš„å½±å“ã€‚æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªéšæœºæ•´æ•°ï¼Œç”±å®ƒç¡®å®šä¼ å…¥çš„æ•°æ®åŒ…æ˜¯å¦ä¸¢å¤±ã€‚</p><h3 id="å®¢æˆ·ç«¯ä»£ç ">å®¢æˆ·ç«¯ä»£ç </h3><p>æ‚¨éœ€è¦å®ç°ä»¥ä¸‹å®¢æˆ·ç«¯ç¨‹åºã€‚</p><p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€10æ¬¡pingã€‚å› ä¸ºUDPæ˜¯ä¸å¯é çš„åè®®ï¼Œæ‰€ä»¥ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®åŒ…å¯èƒ½åœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯ä¸èƒ½æ— é™æœŸåœ°ç­‰å¾…pingæ¶ˆæ¯çš„å›å¤ã€‚å®¢æˆ·ç­‰å¾…æœåŠ¡å™¨å›ç­”çš„æ—¶é—´è‡³å¤šä¸ºä¸€ç§’ï¼Œå¦‚æœåœ¨ä¸€ç§’å†…æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥å‡å®šæ•°æ®åŒ…åœ¨ç½‘ç»œä¼ è¾“æœŸé—´ä¸¢å¤±ã€‚æ‚¨éœ€è¦æŸ¥æ‰¾Pythonæ–‡æ¡£ï¼Œä»¥äº†è§£å¦‚ä½•åœ¨æ•°æ®æŠ¥å¥—æ¥å­—ä¸Šè®¾ç½®è¶…æ—¶å€¼ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥</p><ol type="1"><li>ä½¿ç”¨UDPå‘é€pingæ¶ˆæ¯ï¼ˆæ³¨æ„ï¼šä¸åŒäºTCPï¼Œæ‚¨ä¸éœ€è¦é¦–å…ˆå»ºç«‹è¿æ¥ï¼Œå› ä¸ºUDPæ˜¯æ— è¿æ¥åè®®ã€‚ï¼‰</li><li>ä»æœåŠ¡å™¨è¾“å‡ºå“åº”æ¶ˆæ¯</li><li>å¦‚æœä»æœåŠ¡å™¨å—åˆ°å“åº”ï¼Œåˆ™è®¡ç®—å¹¶è¾“å‡ºæ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶å»¶ï¼ˆRTTï¼‰ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œ</li><li>å¦åˆ™è¾“å‡ºâ€œè¯·æ±‚è¶…æ—¶â€</li></ol><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ‚¨åº”è¯¥å…ˆåœ¨è®¡ç®—æœºä¸Šè¿è¡Œ<code>UDPPingerServer.py</code>ï¼Œå¹¶é€šè¿‡å‘<code>localhost</code>ï¼ˆæˆ–127.0.0.1ï¼‰å‘é€æ•°æ®åŒ…æ¥æµ‹è¯•å®¢æˆ·ç«¯ã€‚è°ƒè¯•å®Œæˆä»£ç åï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°pingæœåŠ¡å™¨å’Œpingå®¢æˆ·ç«¯åœ¨ä¸åŒæœºå™¨ä¸Šé€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚</p><h3 id="æ¶ˆæ¯æ ¼å¼">æ¶ˆæ¯æ ¼å¼</h3><p>æœ¬å®éªŒä¸­çš„pingæ¶ˆæ¯æ ¼å¼ä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼ã€‚å®¢æˆ·ç«¯æ¶ˆæ¯åªæœ‰ä¸€è¡Œï¼Œç”±ä»¥ä¸‹æ ¼å¼çš„ASCIIå­—ç¬¦ç»„æˆï¼š</p><blockquote><p>Ping <em>sequence_number time</em></p></blockquote><p>å…¶ä¸­<em>sequence_number</em>ä»1å¼€å§‹ï¼Œä¸€ç›´åˆ°10ï¼Œå…±10æ¡æ¶ˆæ¯ï¼Œè€Œ<em>time</em>åˆ™æ˜¯å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯æ—¶çš„æ—¶é—´ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹-1">éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„å®¢æˆ·ç«¯ä»£ç å’Œå±å¹•æˆªå›¾ï¼Œä»¥éªŒè¯æ‚¨çš„pingç¨‹åºæ˜¯å¦æŒ‰éœ€æ±‚è¿è¡Œã€‚</p><h3 id="å¯é€‰ç»ƒä¹ -1">å¯é€‰ç»ƒä¹ </h3><ol type="1"><li>ç›®å‰ï¼Œç¨‹åºè®¡ç®—æ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼Œå¹¶å•ç‹¬æ‰“å°å‡ºæ¥ã€‚è¯·æŒ‰ç…§æ ‡å‡†pingç¨‹åºçš„æ¨¡å¼ä¿®æ”¹ã€‚æ‚¨éœ€è¦åœ¨å®¢æˆ·ç«¯æ¯æ¬¡pingåæ˜¾ç¤ºæœ€å°ï¼Œæœ€å¤§å’Œå¹³å‡RTTã€‚å¦å¤–ï¼Œè¿˜éœ€è®¡ç®—ä¸¢åŒ…ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰ã€‚</li><li>UDP Pingçš„å¦ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨æ˜¯UDPHeartbeatã€‚å¿ƒè·³å¯ç”¨äºæ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦å·²å¯åŠ¨å¹¶è¿è¡Œï¼Œå¹¶æŠ¥å‘Šå•å‘ä¸¢åŒ…ã€‚å®¢æˆ·ç«¯åœ¨UDPæ•°æ®åŒ…ä¸­å°†ä¸€ä¸ªåºåˆ—å·å’Œå½“å‰æ—¶é—´æˆ³å‘é€ç»™æ­£åœ¨ç›‘å¬å®¢æˆ·ç«¯å¿ƒè·³çš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œè®¡ç®—æ—¶å·®ï¼ŒæŠ¥å‘Šä¸¢åŒ…ï¼ˆè‹¥å‘ç”Ÿï¼‰ã€‚å¦‚æœå¿ƒè·³æ•°æ®åŒ…åœ¨æŒ‡å®šçš„ä¸€æ®µæ—¶é—´å†…ä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå·²ç»åœæ­¢ã€‚å®ç°UDPHeartbeatï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼‰ã€‚æ‚¨éœ€è¦ä¿®æ”¹ç»™å®šçš„UDPPingerServer.pyå’Œæ‚¨è‡ªå·±çš„UDPpingå®¢æˆ·ç«¯ã€‚</li></ol><p><strong>ä»¥ä¸Šå†…å®¹æ¥è‡ªã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶å‘ä¸‹æ–¹æ³•ã€‹å®˜æ–¹æ–‡æ¡£ï¼Œä¸æˆ‘çš„ä½œä¸šæœ‰éƒ¨åˆ†ä¸åŒï¼Œè¯¦è§pdfã€‚</strong></p><p><strong>ä¸ªäººå®éªŒæŠ¥å‘Š</strong></p><embed src="./Socket.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç½‘ä½œä¸šï¼šå¥—æ¥å­—ç¼–ç¨‹å®éªŒ&lt;/p&gt;</summary>
    
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://enderfga.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦</title>
    <link href="http://enderfga.cn/2022/03/30/robot4/"/>
    <id>http://enderfga.cn/2022/03/30/robot4/</id>
    <published>2022-03-29T16:34:07.000Z</published>
    <updated>2022-05-28T16:35:37.067Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/gVyodA.jpg" /></p><h1id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦">æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦</h1><p>ä¸€ã€è®¡ç®—/è§£ç­”é¢˜, è¯·å†™å‡ºè§£é¢˜è¿‡ç¨‹ (30 åˆ†)ã€‚</p><ol type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRP æœºå™¨äºº (å³è®²ä¹‰ä¾‹ 3 ), æ±‚ (10åˆ†):</li></ol><ol type="a"><li><p>å†™å‡ºå„å…³èŠ‚ç›¸å¯¹ç©ºé—´åæ ‡ç³» <spanclass="math inline">\(\{s\}\)</span> çš„æ—‹é‡åæ ‡ã€‚æ±‚è§£å½“ <spanclass="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦; æ‰‹ç»˜æ­¤æ—¶çš„æœºå™¨äºº, æ ‡æ³¨ <spanclass="math inline">\(\{s\}\)</span> ç³»å’Œ <spanclass="math inline">\(\{b\}\)</span> ç³», æ±‚è§£æ­¤æ—¶çš„ç©ºé—´é›…å…‹æ¯” <spanclass="math inline">\(J_{s}\)</span>;</p></li><li><p>å†™å‡ºå„å…³èŠ‚ç›¸å¯¹æœ«ç«¯åæ ‡ç³» <spanclass="math inline">\(\{b\}\)</span> çš„æ—‹é‡åæ ‡ã€‚æ±‚è§£å½“ <spanclass="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦, ç¡®è®¤ä¸ a) ä¸­ç»“æœç›¸åŒ;æ±‚è§£æ­¤æ—¶çš„ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span>ã€‚</p></li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002641939.png" /></p><ol type="a"><li></li></ol><p>æ­¤æ—¶çš„æœºå™¨äººå¦‚å›¾æ‰€ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002652483.png" /></p><p>åˆå§‹ä½å½¢<strong>M</strong>ï¼š</p><p><span class="math display">\[M=\left[\begin{array}{cccc}-1 &amp; 0 &amp; 0 &amp; 0  \\0 &amp; 0 &amp; 1 &amp; 3  \\0 &amp; 1 &amp; 0 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{s\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{S}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,1) &amp; (0, 0,0) \\\hline 2 &amp; (1,0,0) &amp; (0, 2,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline\end{array}\\\]</span></p><p>æ•…å½“<span class="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦<strong>PoE</strong>ä¸ç©ºé—´é›…å…‹æ¯” <spanclass="math inline">\(J_{s}\)</span>ï¼š</p><p>$$ T=\</p><p>J_{s}()=$$</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> T <span class="token operator">=</span> <span class="token function">FKinSpace</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> Slist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>T <span class="token operator">=</span> M<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">1</span>    T <span class="token operator">=</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> T<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> Js <span class="token operator">=</span> <span class="token function">JacobianSpace</span><span class="token punctuation">(</span>Slist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>Js <span class="token operator">=</span> Slist<span class="token punctuation">;</span>T <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token function">length</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span>    T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Js</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Adjoint</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="a"><li></li></ol><p>åˆå§‹ä½å½¢<strong>M</strong>ï¼š</p><p><span class="math display">\[M=\left[\begin{array}{cccc}-1 &amp; 0 &amp; 0 &amp; 0  \\0 &amp; 0 &amp; 1 &amp; 3  \\0 &amp; 1 &amp; 0 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{b\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{B}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,1,0) &amp; (3, 0,0) \\\hline 2 &amp; (-1,0,0) &amp; (0, 3,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 0,1) \\\hline\end{array}\\\]</span></p><p>æ•…å½“<span class="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦<strong>PoE</strong>ä¸ç‰©ä½“é›…å…‹æ¯” <spanclass="math inline">\(J_{b}\)</span>ï¼š</p><p><span class="math display">\[T=\left[\begin{array}{cccc}0 &amp; 0 &amp; -1 &amp; -3 \\-1 &amp; 0 &amp; 0 &amp; 0\\0 &amp; 1 &amp; 0 &amp; 2\\0 &amp; 0 &amp; 0 &amp; 1\\\end{array}\right]\\(ä¸aä¸­ç»“æœç›¸åŒ)\\J_{b}(\theta)=\left[\begin{array}{ccc}0 &amp; -1 &amp; 0 \\0 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 \\0 &amp; 4 &amp; 0 \\0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> T <span class="token operator">=</span> <span class="token function">FKinBody</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> Blist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>T <span class="token operator">=</span> M<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token function">size</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span>    T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> Jb <span class="token operator">=</span> <span class="token function">JacobianBody</span><span class="token punctuation">(</span>Blist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>Jb <span class="token operator">=</span> Blist<span class="token punctuation">;</span>T <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token function">length</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">1</span>       T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">*</span> <span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Jb</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Adjoint</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRRP ç©ºé—´å¼€é“¾æœºå™¨äºº, <spanclass="math inline">\(p\)</span> ä¸º<spanclass="math inline">\(\{b\}\)</span> ç³»åŸç‚¹ç›¸å¯¹äº <spanclass="math inline">\(\{s\}\)</span> ç³»çš„åæ ‡, æ±‚ (10 åˆ†):</li></ol><ol type="a"><li>è¯•æ±‚å½“ <span class="math inline">\(\theta=(0,0, \pi / 2, L)\)</span>æ—¶çš„ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}(\theta)\)</span>;</li><li>è¯•æ±‚å½“ <span class="math inline">\(\theta=(0,0, \pi / 2, L)\)</span>ä¸” <span class="math inline">\(\dot{\theta}=(1,1,1,1)\)</span> æ—¶çš„<span class="math inline">\(\dot{p}\)</span>ã€‚</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002705450.png" /></p><ol type="a"><li></li></ol><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{b\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{B}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,1) &amp; (-L, 0,0) \\\hline 2 &amp; (1,0,0) &amp; (0, 0,L) \\\hline 3 &amp; (0,0,1)  &amp; (0, 0,0) \\\hline 4 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline\end{array}\\\]</span></p><p>ä½¿ç”¨JacobianBody(Blist, thetalist)è®¡ç®—å¾—ï¼Œå½“ <spanclass="math inline">\(\theta=(0,0, \pi / 2, L)\)</span> æ—¶çš„ç‰©ä½“é›…å…‹æ¯”<span class="math inline">\(J_{b}(\theta)\)</span>ï¼š</p><p><span class="math display">\[J_{b}(\theta)=\left[\begin{array}{cccC}0 &amp; 0 &amp; 0 &amp;0\\0 &amp; -1 &amp; 0 &amp;0\\1 &amp; 0 &amp; 1 &amp;0\\-L &amp; 0 &amp; -L&amp;0 \\L &amp; 0 &amp; 0 &amp;1\\0 &amp; L &amp; 0&amp;0\end{array}\right]\]</span></p><ol start="2" type="a"><li></li></ol><p>å½“ <spanclass="math inline">\(\dot{\theta}=(1,1,1,1)\)</span>æ—¶ï¼š</p><p><span class="math display">\[\mathcal{V}_{b}=J_{b}(\theta) \dot{\theta}=\left[\begin{array}{c}\omega_{b} \\v_{b}\end{array}\right]=\left[\begin{array}{c}0\\-1\\2\\-2L\\L+1\\L\end{array}\right]\\\because R_{s b}=\left[\begin{array}{rrc}0 &amp; -1 &amp; 0 \\1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1\end{array}\right] \\\therefore\dot{p}=R_{s b} v_{b}=\left[\begin{array}{c}-L-1 \\-2 L \\L\end{array}\right]\]</span></p><ol start="3" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ PRPRRR ç©ºé—´å¼€é“¾æœºå™¨äºº,æ­¤æ—¶åŸºåæ ‡ç³»åŸç‚¹ä¸æœ«ç«¯åæ ‡ç³»åŸç‚¹ä¹‹é—´è·ç¦»ä¸º <spanclass="math inline">\(L\)</span>, æ±‚ (10 åˆ†):</li></ol><ol type="a"><li><p>ç©ºé—´é›…å…‹æ¯” <span class="math inline">\(J_{S}\)</span>çš„å‰ä¸‰åˆ—;</p></li><li><p>ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span>çš„åä¸¤åˆ—;</p></li><li><p>åˆå§‹ä½å½¢æ—¶çš„ <spanclass="math inline">\(J_{S}(0)\)</span>;</p></li><li><p>åˆå§‹ä½å½¢æ—¶, è‹¥åœ¨æœ«ç«¯åæ ‡ç³»çš„ <spanclass="math inline">\(-\hat{z}_{b}\)</span> æ–¹å‘äº§ç”Ÿ <spanclass="math inline">\(100 \mathrm{~N}\)</span> çš„åŠ›,éœ€è¦å…³èŠ‚æä¾›å¤šå°‘åŠ›æˆ–åŠ›çŸ©? <imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002722057.png" /></p></li><li></li></ol><p>ç©ºé—´é›…å…‹æ¯” <span class="math inline">\(J_{S}\)</span> çš„å‰ä¸‰åˆ—ï¼š</p><p><span class="math display">\[\begin{aligned}&amp;\mathcal{V}_{s 1}(\theta): \quad \omega_{s1}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 1}=\left[\begin{array}{l}0 \\0 \\1\end{array}\right] \\&amp;\mathcal{V}_{s 2}(\theta): \quad \omega_{s2}=\left[\begin{array}{l}0 \\0 \\1\end{array}\right], q_{2}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 2}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right] \\&amp;\mathcal{V}_{s 3}(\theta): \quad \omega_{s3}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 3}=e^{\hat{z} \theta_{2}}\left[\begin{array}{l}0 \\1 \\0\end{array}\right]=\left[\begin{array}{c}-\sin \theta_{2} \\\cos \theta_{2} \\0\end{array}\right]\end{aligned}\]</span></p><ol start="2" type="a"><li></li></ol><p>ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span> çš„åä¸¤åˆ—ï¼š</p><p><span class="math display">\[\begin{aligned}&amp;\mathcal{V}_{b 6}(\theta): \quad \omega_{b6}=\left[\begin{array}{l}1 \\0 \\0\end{array}\right], q_{6}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{b 6}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right] \\&amp;\mathcal{V}_{b 5}(\theta): \quad \omega_{b5}=e^{\hat{x}\left(-\theta_{6}\right)}\left[\begin{array}{l}0 \\0 \\1\end{array}\right]=\left[\begin{array}{c}0 \\\sin \theta_{6} \\\cos \theta_{6}\end{array}\right], q_{5}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{b 5}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right]\end{aligned}\]</span></p><ol start="3" type="a"><li></li></ol><p>åˆå§‹ä½å½¢æ—¶Î¸=0ï¼Œæ•…$ J_{S}(0)$ï¼š</p><p><span class="math display">\[\because \mathcal{S}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,0) &amp; (0, 0,1) \\\hline 2 &amp; (0,0,1) &amp; (0,0,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline 4 &amp; (0,1,0) &amp; (0, 0,0) \\\hline 5 &amp; (0,0,1)  &amp; (L, 0,0) \\\hline 6 &amp; (1,0,0) &amp; (0, 0,-L) \\\hline\end{array}\\\therefore J_{s}(0)=\left[\begin{array}{cccccc}0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 0 &amp; L &amp; 0 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -L\end{array}\right]\]</span></p><ol start="4" type="a"><li></li></ol><p><span class="math display">\[\begin{aligned}&amp;\because r_{s b}=\left[\begin{array}{l}0 \\L \\0\end{array}\right], f_{b}=\left[\begin{array}{c}0 \\0 \\-100\end{array}\right]\\&amp;\therefore\mathcal{F}_{s}=\left[\begin{array}{c}m_{s} \\f_{s}\end{array}\right]=\left[\begin{array}{c}r_{s b} \times f_{b} \\f_{b}\end{array}\right]=\left[\begin{array}{c}-100 L \\0 \\0 \\0 \\0 \\-100\end{array}\right]\\&amp;\therefore \tau=J_{s}^{T}(0) \mathcal{F}_{s}\\&amp;=\left[\begin{array}{cccccc}0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1 &amp; L &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -L\end{array}\right]\left[\begin{array}{c}-100 L \\0 \\0 \\0 \\0 \\-100\end{array}\right]=\left[\begin{array}{c}-100 \\0 \\0 \\0 \\0 \\0\end{array}\right]\end{aligned}\]</span></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨äºº" scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ— äººæœºè‡ªä¸»å¯¼èˆª</title>
    <link href="http://enderfga.cn/2022/03/28/UAV/"/>
    <id>http://enderfga.cn/2022/03/28/UAV/</id>
    <published>2022-03-28T15:54:39.786Z</published>
    <updated>2022-05-28T16:35:37.059Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ— äººç³»ç»Ÿå¯¼è®ºè¯¾ç¨‹è®¾è®¡æŠ¥å‘Š</p><span id="more"></span><embed src="./UAV.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;æ— äººç³»ç»Ÿå¯¼è®ºè¯¾ç¨‹è®¾è®¡æŠ¥å‘Š&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ— äººç³»ç»Ÿ" scheme="http://enderfga.cn/tags/%E6%97%A0%E4%BA%BA%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>Visual Synthesis Pre-training for NUWA</title>
    <link href="http://enderfga.cn/2022/03/28/NUWA/"/>
    <id>http://enderfga.cn/2022/03/28/NUWA/</id>
    <published>2022-03-28T15:54:39.753Z</published>
    <updated>2022-05-28T16:35:37.071Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åŸºäºæ·±åº¦ç”Ÿæˆæ¨¡å‹çš„å¤šæ¨¡æ€è§†è§‰åˆæˆ</p><span id="more"></span><embed src="./NUWA.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;åŸºäºæ·±åº¦ç”Ÿæˆæ¨¡å‹çš„å¤šæ¨¡æ€è§†è§‰åˆæˆ&lt;/p&gt;</summary>
    
    
    
    
    <category term="äººå·¥æ™ºèƒ½" scheme="http://enderfga.cn/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ åœ¨æ–°å† è‚ºç‚è¾…åŠ©è¯Šæ–­ä¸­çš„åº”ç”¨</title>
    <link href="http://enderfga.cn/2022/03/28/AI/"/>
    <id>http://enderfga.cn/2022/03/28/AI/</id>
    <published>2022-03-28T15:54:39.714Z</published>
    <updated>2022-05-28T16:35:24.154Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç»¼è¿°è®ºæ–‡</p><span id="more"></span><embed src="./COVID-19.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»¼è¿°è®ºæ–‡&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ·±åº¦å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨&amp;æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨</title>
    <link href="http://enderfga.cn/2022/03/24/graph/"/>
    <id>http://enderfga.cn/2022/03/24/graph/</id>
    <published>2022-03-24T14:33:47.000Z</published>
    <updated>2022-05-28T16:35:27.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ¬è¿è‡ªgithub.com/OUCMachineLearning/OUCML</p><span id="more"></span><h1 id="æœºå™¨æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨">æœºå™¨&amp;æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨</h1><h3 id="ç¥ç»ç½‘ç»œ">ç¥ç»ç½‘ç»œ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220324225648930.png" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/%E7%BD%91%E7%BB%9C.png" /></p><h3 id="çº¿æ€§ä»£æ•°">çº¿æ€§ä»£æ•°</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/liner.jpg" /></p><h3 id="pythonåŸºç¡€">pythonåŸºç¡€</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sci.jpg" /></p><h3 id="scipyç§‘å­¦è®¡ç®—">scipyç§‘å­¦è®¡ç®—</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sci.png" /></p><h3 id="spark">spark</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/spark.jpeg" /></p><h2 id="æ•°æ®ä¿å­˜åŠå¯è§†åŒ–">æ•°æ®ä¿å­˜åŠå¯è§†åŒ–</h2><h3 id="numpy">numpy</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/np.png" /></p><h3 id="pandas">pandas</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/pd.png" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/df.jpeg" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/df2.jpeg" /></p><h3 id="bokeh">bokeh</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/bokeh.jpg" /></p><h2 id="ç”»å›¾">ç”»å›¾</h2><h3 id="matplotlib">matplotlib</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/matplot.png" /></p><h3 id="ggplot">ggplot</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/data%20vis.jpeg" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/gg.jpeg" /></p><h2 id="æœºå™¨å­¦ä¹ ">æœºå™¨å­¦ä¹ </h2><h3 id="sklearn">sklearn</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sk.jpg" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/scikit.png" /></p><h3 id="keras">keras</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/keras.jpeg" /></p><h3 id="tensorflow">tensorflow</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/TF.png" /></p><h2 id="ç®—æ³•">ç®—æ³•</h2><h3 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/datastruct.png" /></p><h3 id="å¤æ‚åº¦">å¤æ‚åº¦</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/O.png" /></p><h3 id="æ’åºç®—æ³•">æ’åºç®—æ³•</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sort.png" /></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ¬è¿è‡ªgithub.com/OUCMachineLearning/OUCML&lt;/p&gt;</summary>
    
    
    
    
    <category term="æœºå™¨å­¦ä¹ " scheme="http://enderfga.cn/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
