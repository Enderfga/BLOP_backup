<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Docker å¸¸ç”¨å‘½ä»¤ä¸æ“ä½œ</title>
    <link href="/2022/05/29/docker/"/>
    <url>/2022/05/29/docker/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€å¼ å›¾æ•´ç†Dockerå¸¸ç”¨å‘½ä»¤</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091219215.png" /></p><h2 id="dockeråŸºæœ¬æ¦‚å¿µ">DockeråŸºæœ¬æ¦‚å¿µ</h2><p>Docker åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p><ul><li>é•œåƒï¼ˆ<code>Image</code>ï¼‰ï¼šDockeré•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</li><li>å®¹å™¨ï¼ˆ<code>Container</code>ï¼‰ï¼šé•œåƒï¼ˆ<code>Image</code>ï¼‰å’Œå®¹å™¨ï¼ˆ<code>Container</code>ï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„<code>ç±»</code> å’Œ <code>å®ä¾‹</code>ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</li><li>ä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ï¼šä»“åº“ï¼ˆ<code>Repository</code>ï¼‰ç±»ä¼¼Gitçš„è¿œç¨‹ä»“åº“ï¼Œé›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶ã€‚</li></ul><p>ä¸‰è€…å…³ç³»å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220529091304514.png" /></p><p>æ¥ä¸‹æ¥çœ‹ä¸€çœ‹Dockerçš„å¸¸ç”¨å‘½ä»¤ã€‚</p><h2 id="æœåŠ¡">æœåŠ¡</h2><ul><li>æŸ¥çœ‹Dockerç‰ˆæœ¬ä¿¡æ¯</li></ul><p>docker version</p><ul><li>æŸ¥çœ‹dockerç®€è¦ä¿¡æ¯</li></ul><p>docker -v</p><ul><li>å¯åŠ¨Docker</li></ul><p>systemctl start docker</p><ul><li>å…³é—­docker</li></ul><p>systemctl stop docker</p><ul><li>è®¾ç½®å¼€æœºå¯åŠ¨</li></ul><p>systemctl enable docker</p><ul><li>é‡å¯dockeræœåŠ¡</li></ul><p>service docker restart</p><ul><li>å…³é—­dockeræœåŠ¡</li></ul><p>service docker stop</p><h2 id="é•œåƒ">é•œåƒ</h2><h3 id="é•œåƒä»“åº“">é•œåƒä»“åº“</h3><p><ahref="https://link.segmentfault.com/?enc=eCypHIByefaQ8WlX8AJqSg%3D%3D.IV619qtOOjR2McoljdjR%2FNJXcHjWaOrxy0NrT1051R7Ot%2BYs5eUPDK5lfZoTudgL">DockerHub</a> ç­‰é•œåƒä»“åº“ä¸Šæœ‰å¤§é‡çš„é«˜è´¨é‡çš„é•œåƒå¯ä»¥ç”¨ï¼Œå¯ä»¥ä»ä»“åº“è·å–é•œåƒã€‚</p><ul><li>æ£€ç´¢é•œåƒ</li></ul><p>docker search å…³é”®å­—</p><ul><li>æ‹‰å–é•œåƒ</li></ul><p>docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]</p><h3 id="é•œåƒç®¡ç†">é•œåƒç®¡ç†</h3><ul><li>åˆ—å‡ºé•œåƒ</li></ul><p>docker image ls docker images</p><ul><li>åˆ é™¤é•œåƒ</li></ul><p># åˆ é™¤æŒ‡å®šé•œåƒ docker rmi <é•œåƒId></p><ul><li>å¯¼å‡ºé•œåƒ</li></ul><p># å°†é•œåƒä¿å­˜ä¸ºå½’æ¡£æ–‡ä»¶ docker save</p><ul><li>å¯¼å…¥é•œåƒ</li></ul><p>docker load</p><h3 id="dockerfileæ„å»ºé•œåƒ">Dockerfileæ„å»ºé•œåƒ</h3><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ ¼å¼çš„é… æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Dockerfileæ¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„é•œåƒã€‚</p><p>Dockerfile ç”±ä¸€è¡Œè¡Œè¡Œå‘½ä»¤è¯­å¥ç»„æˆï¼Œå¹¶ä¸”æ”¯æŒä»¥ï¼ƒå¼€å¤´çš„æ³¨é‡Šè¡Œ.</p><h4 id="dockerfileå¸¸è§æŒ‡ä»¤">Dockerfileå¸¸è§æŒ‡ä»¤</h4><p>ä¸‹é¢æ˜¯Dockerfileä¸­ä¸€äº›å¸¸è§çš„æŒ‡ä»¤ï¼š</p><ul><li>FROMï¼šæŒ‡å®šåŸºç¡€é•œåƒ</li><li>RUNï¼šæ‰§è¡Œå‘½ä»¤</li><li>COPYï¼šå¤åˆ¶æ–‡ä»¶</li><li>ADDï¼šæ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</li><li>CMDï¼šå®¹å™¨å¯åŠ¨å‘½ä»¤</li><li>ENVï¼šè®¾ç½®ç¯å¢ƒå˜é‡</li><li>EXPOSEï¼šæš´éœ²ç«¯å£</li></ul><p>å…¶å®ƒçš„æŒ‡ä»¤è¿˜æœ‰ENTRYPOINTã€ARGã€VOLUMEã€WORKDIRã€USERã€HEALTHCHECKã€ONBUILDã€LABELç­‰ç­‰ã€‚</p><h4 id="é•œåƒæ„å»º">é•œåƒæ„å»º</h4><p>docker build</p><h4 id="é•œåƒè¿è¡Œ">é•œåƒè¿è¡Œ</h4><p>é•œåƒè¿è¡Œï¼Œå°±æ˜¯æ–°å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚</p><p>docker run [é•œåƒID]</p><h2 id="å®¹å™¨">å®¹å™¨</h2><h3 id="å®¹å™¨ç”Ÿå‘½å‘¨æœŸ">å®¹å™¨ç”Ÿå‘½å‘¨æœŸ</h3><ul><li>å¯åŠ¨ï¼šå¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚</li></ul><p># æ–°å»ºå¹¶å¯åŠ¨ docker run [é•œåƒå/é•œåƒID] # å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨ docker start[å®¹å™¨ID]</p><ul><li>æŸ¥çœ‹å®¹å™¨</li></ul><p># åˆ—å‡ºæœ¬æœºè¿è¡Œçš„å®¹å™¨ $ docker ps #åˆ—å‡ºæœ¬æœºæ‰€æœ‰çš„å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢å’Œè¿è¡Œï¼‰ $ docker ps -a</p><ul><li>åœæ­¢å®¹å™¨</li></ul><p># åœæ­¢è¿è¡Œçš„å®¹å™¨ docker stop [å®¹å™¨ID] # æ€æ­»å®¹å™¨è¿›ç¨‹ docker kill[å®¹å™¨ID]</p><ul><li>é‡å¯å®¹å™¨</li></ul><p>docker restart [å®¹å™¨ID]</p><ul><li>åˆ é™¤å®¹å™¨</li></ul><p>docker rm [å®¹å™¨ID]</p><h3 id="è¿›å…¥å®¹å™¨">è¿›å…¥å®¹å™¨</h3><p>è¿›å…¥å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p># å¦‚æœä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ docker attach [å®¹å™¨ID] #äº¤äº’å¼è¿›å…¥å®¹å™¨ docker exec [å®¹å™¨ID]</p><p>è¿›å…¥å®¹å™¨é€šå¸¸ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œ<code>docker exec</code>åé¢è·Ÿçš„å¸¸è§å‚æ•°å¦‚ä¸‹ï¼š</p><p>ï¼ d, --detach åœ¨å®¹å™¨ä¸­åå°æ‰§è¡Œå‘½ä»¤ï¼› ï¼ i, --interactive=true Ifalse ï¼šæ‰“å¼€æ ‡å‡†è¾“å…¥æ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤</p><h3 id="å¯¼å‡ºå’Œå¯¼å…¥">å¯¼å‡ºå’Œå¯¼å…¥</h3><ul><li>å¯¼å‡ºå®¹å™¨</li></ul><p>#å¯¼å‡ºä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨åˆ°ä¸€ä¸ªæ–‡ä»¶ docker export [å®¹å™¨ID]</p><ul><li>å¯¼å…¥å®¹å™¨</li></ul><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ docker import [è·¯å¾„]</p><h3 id="å…¶å®ƒ">å…¶å®ƒ</h3><ul><li>æŸ¥çœ‹æ—¥å¿—</li></ul><p># å¯¼å‡ºçš„å®¹å™¨å¿«ç…§æ–‡ä»¶å¯ä»¥å†å¯¼å…¥ä¸ºé•œåƒ docker logs [å®¹å™¨ID]</p><p>è¿™ä¸ªå‘½ä»¤æœ‰ä»¥ä¸‹å¸¸ç”¨å‚æ•° -f : è·Ÿè¸ªæ—¥å¿—è¾“å‡º</p><p>--since :æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿— -t : æ˜¾ç¤ºæ—¶é—´æˆ³ --tail:ä»…åˆ—å‡ºæœ€æ–°Næ¡å®¹å™¨æ—¥å¿—</p><ul><li>å¤åˆ¶æ–‡ä»¶</li></ul><p># ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ sudo docker cp host_pathcontainerID:container_path # ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº sudo docker cpcontainerID:container_path host_path</p>]]></content>
    
    
    
    <tags>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®‰ã®æ¨è</title>
    <link href="/2022/05/28/suggest/"/>
    <url>/2022/05/28/suggest/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528213455416.png" /></p><p>ä¸€æ—¶å…´èµ·ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„æ¨èï¼›éœ€è¦ä»˜è´¹çš„ä¹Ÿå¾ˆå¤šï¼Œä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒæ­£ç‰ˆ</p><span id="more"></span><h1 id="ä¹¦ç­¾">ä¹¦ç­¾</h1><h2 id="æ‚é¡¹">æ‚é¡¹</h2><p><a href="https://enderfga.cn/">æˆ‘çš„åšå®¢</a></p><p>æ²¡æƒ³åˆ°å§ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªä¹¦ç­¾å±…ç„¶æ˜¯è‡ªå·±çš„åšå®¢è™½ç„¶æ²¡ä»€ä¹ˆé«˜è´¨é‡æ–‡ç« ï¼Œä½†æ‹¿æ¥å½“çŸ¥è¯†å¤‡å¿˜å½•è¿˜æ˜¯æŒºæ–¹ä¾¿çš„~</p><p><ahref="https://pan.baidu.com/disk/home?#/all?path=%2F&amp;vmode=list">ç™¾åº¦äº‘</a></p><p>ä¸Šäº†å¤§å­¦ä¹‹åä½¿ç”¨é¢‘ç‡å¾ˆä½ï¼Œå½“ç„¶ä¸»è¦åŸå› è¿˜æ˜¯æˆ‘æ ¡çš„ç½‘é€Ÿ....ä¸è¿‡æœ‰æ—¶å€™è¿˜æ˜¯ä¼šæ‹¿æ¥ä¸‹ä¸‹ç”µå½±</p><p><a href="https://translate.google.cn/">Google ç¿»è¯‘</a></p><p><a href="https://dict.cnki.net/index">CNKIç¿»è¯‘åŠ©æ‰‹</a></p><p><a href="https://www.deepl.com/translator">DeepLç¿»è¯‘</a></p><p>é‚£ä¸ªçŸ¥ç½‘çš„ç¿»è¯‘åŠ©æ‰‹åœ¨bç«™åˆ·è§†é¢‘è¢«æ¨èçš„ï¼Œè¿˜æ²¡æœ‰æ€ä¹ˆç”¨è¿‡ï¼›ä¸€èˆ¬ç”¨deeplï¼‹googleå¯¹ç…§ä½¿ç”¨</p><p><a href="http://www.gamersky.com/">æ¸¸æ°‘æ˜Ÿç©º</a></p><p>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ç½‘ç«™ï¼Œä»08å¹´å¼€å§‹æ¯å¤©æ™šä¸Š19ç‚¹å®šæ—¶æ‰“å¼€çœ‹å›§å›¾ï¼Œè™½ç„¶æ€ªå‚»çš„</p><p>ç°åœ¨æ²¡æœ‰ç›—ç‰ˆæ¸¸æˆä¸‹è½½äº†ï¼Œä½†å„ç§å„æ ·çš„èµ„è®¯å½“æ–°é—»çœ‹è¿˜æŒºæœ‰è¶£çš„(è¯„è®ºåŒºçš„æ¸¸æ°‘è€å“¥å¥½ç©)</p><p><a href="https://www.youtube.com/">YouTube</a></p><p>æ²¡å•¥å¥½è¯´çš„ï¼Œå…¶å®æˆ‘å¤§éƒ¨åˆ†æ—¶é—´ä¹Ÿåªç”¨bilibili</p><p><a href="https://www.zhihu.com/">çŸ¥ä¹</a></p><p>æœæœå„ç§çŸ¥è¯†ï¼Œçœ‹çœ‹æ–‡ç« è¿˜æœ‰ç§‘æŠ€äº§å“æ¨è</p><p><a href="https://portal.sysu.edu.cn/#/index">ä¸­å±±å¤§å­¦ç»Ÿä¸€é—¨æˆ·</a></p><p>æˆ‘æ ¡å®˜ç½‘çš„æ–°uiå¾ˆä¸é”™ï¼Œå®‰å“ç«¯ä¹Ÿé€‚é…äº†</p><p><a href="https://github.com/Enderfga?tab=stars">Your Stars</a></p><p>ä¹ æƒ¯äº†æ”¶è—starsæ¥ä¸ŠGitHubï¼ŒGitHubçš„ä½¿ç”¨å°±ä¸ç”¨ä»‹ç»äº†</p><p><a href="https://2550505.com/">æ¯›æ€ªä¿±ä¹éƒ¨</a></p><p>æ¯›æ€ªå±…ç„¶æœ‰è‡ªå·±çš„å®˜ç½‘äº†ï¼å¥½åƒåˆšåˆšèµ·æ­¥ï¼Œå¸Œæœ›æ—©æ—¥èƒ½ä¹°åˆ°hanserçš„ä¸“è¾‘ï¼</p><p><a href="https://www.douyin.com/">æŠ–éŸ³-è®°å½•ç¾å¥½ç”Ÿæ´»</a></p><p>ä¸ºäº†é˜²æ²‰è¿·ï¼Œæˆ‘å¸è½½äº†æŠ–éŸ³ï¼›ä½†è¿˜æ˜¯æƒ³åˆ·ï¼Œæœ‰æ—¶å€™å°±çœ‹çœ‹ç½‘é¡µç‰ˆ</p><p><a href="https://eshop-prices.com/?currency=CNY">eShop-Prices.com â€“The best price comparison tool for Nintendo Switch games â€“ ChineseRenminbi Yuan</a></p><p>ä¸€ä¸ªæ˜¾ç¤ºswitchæ¸¸æˆæœ€ä½ä»·æ ¼çš„ç½‘ç«™ï¼Œä¸è¿‡æˆ‘æ˜¯å¤§æ…ˆå–„å®¶ï¼Œä¹°äº†ä¹Ÿæ²¡æœ‰æ—¶é—´ç©</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528220111823.png" /></p><h2 id="å½±è§†">å½±è§†</h2><p>ç”±äºä¸‹é¢çš„ç½‘ç«™ç‰¹æ®Šæ€§ï¼Œä»–ä»¬å¸¸å¸¸è·‘è·¯æ¢åŸŸåÂ·Â·Â·</p><p><a href="http://www.rrdyw.net/">äººäººç”µå½±ç½‘</a></p><p><ahref="http://www.btbtt15.com/">BTä¹‹å®¶-BTç”µå½±å¤©å ‚-å½±è§†èµ„æºäº¤æµç¤¾åŒº</a></p><p><a href="http://www.kisssub.org/">çˆ±æ‹åŠ¨æ¼«</a></p><p>ä¸‹è½½ç”µå½±ï¼Œç•ªå‰§Â·Â·Â·ç­‰ç­‰çš„åœ°æ–¹ï¼Œå¦‚æœèƒ½æ‰“å¼€çš„è¯ï¼Œéƒ½æŒºå¥½ç”¨çš„</p><p><a href="http://www.age.tv/">åœ¨çº¿åŠ¨ç”» åŠ¨æ¼«ä¸‹è½½ - AGEåŠ¨æ¼«</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæ— å¼¹å¹•ï¼Œæ›´æ–°å¿«</p><p><a href="https://omofun.tv/">OmoFunåŠ¨æ¼«è§†é¢‘ç½‘ - (ï¿£ï¹ƒï¿£)~omO</a></p><p>åœ¨çº¿çœ‹ç•ªï¼Œæœ‰å¼¹å¹•</p><p><a href="http://dyxs14.com/">ç”µå½±å…ˆç”Ÿ -èšåˆå…¨ç½‘é«˜æ¸…å½±è§†åœ¨çº¿è§‚çœ‹ã€ä¸‹è½½</a></p><p>åœ¨çº¿çœ‹å‰§</p><p><a href="http://www.549.tv/">å½±è§†æ£®æ—â€”â€”è§‚å½±ç¬¬ä¸€ç«™</a></p><p>ä¸€ä¸ªé›†åˆå¯¼èˆªç±»å‹çš„ç½‘ç«™ï¼Œä¸æ€ä¹ˆç”¨ï¼Œé™¤éä¸Šé¢çš„éƒ½æ‰“ä¸å¼€ä¼šè¯•ç€åœ¨é‡Œé¢æ¢ç´¢æ–°çš„</p><h2 id="å›¾ç‰‡">å›¾ç‰‡</h2><p><a href="https://apod.nasa.gov/">Astronomy Picture of the Day</a></p><p>æ¯å¤©ä¸€å¼ å®‡å®™ç…§ç‰‡å’Œä»‹ç»</p><p><a href="https://wallhaven.cc/">Awesome Wallpapers -wallhaven.cc</a></p><p>ç²¾ç¾çš„å£çº¸ï¼Œç™»å½•è§£é”å…¨éƒ¨å†…å®¹</p><p><a href="https://unsplash.com/">Beautiful Free Images &amp; Pictures| Unsplash</a></p><p>å¥½çœ‹çš„å›¾ç‰‡ï¼Œä¸æ˜¯å£çº¸ç±»å‹çš„</p><p><a href="https://tinypng.com/">TinyPNG</a></p><p><a href="https://www.picdiet.com/zh-cn">Picdiet - å‹ç¼©å›¾ç‰‡</a></p><p>å›¾ç‰‡æ— æŸå‹ç¼©</p><p><a href="https://bigjpg.com/">Bigjpg</a></p><p>å›¾ç‰‡æ— æŸæ”¾å¤§</p><p><a href="https://wordart.com/">WordArt.com - Word Cloud ArtCreator</a></p><p>åˆ¶ä½œè¯äº‘å›¾ï¼Œåˆšå¼€å§‹æˆ‘ç”¨pythonï¼Œåæ¥å‘ç°è¿˜æ˜¯ç”¨è¿™ä¸ªæ‹¿å»éª—äººæ•ˆæœå¥½ä¸€ç‚¹</p><p><a href="https://photomosh.com/">PhotoMosh</a></p><p>ä¸€ä¸ªâ€œæ— èŠâ€çš„ç½‘ç«™ï¼Œä¼šéšæœºç»™ä½ çš„å›¾ç‰‡æ¥ç‚¹å›¾åƒå¢å¹¿ï¼Œå»ºè®®è‡ªå·±è¯•è¯•</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221059628.png" /></p><h2 id="è½¯ä»¶">è½¯ä»¶</h2><p>è¿™é‡Œå†™çš„æ˜¯å…³äºè½¯ä»¶çš„ä¹¦ç­¾ï¼Œå¹¶ä¸æ˜¯æ¨èè½¯ä»¶</p><p><ahref="https://amazing-apps.gitbooks.io/windows-apps-that-amaze-us/content/zh-CN/?q=">åºç« Â· ç»èµåº”ç”¨</a></p><p>GitHubä¸Šä¸€ä¸ªæ—¨åœ¨ä»‹ç» Windowsç»å¦™é¡¹ç›®çš„ç½‘ç«™ï¼Œç°åœ¨èƒ½ç”¨ï¼Œä¸è¿‡å¥½åƒæ–­æ›´äº†</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528221330033.png" /></p><p><a href="https://music.hwkxk.cn/">éŸ³ä¹åŠ©æ‰‹ -ç®€æ´æé€Ÿæœç´¢è§£æå„å¤§å¹³å°éŸ³ä¹</a></p><p>ç©·äººçš„æœ€çˆ±ï¼Œä¸è¿‡æœ€è¿‘æ— äº†ï¼Œæˆ‘ä¹Ÿæ˜¯å†™è¿™ä¸ªæ‰å‘ç°çš„ï¼Œå¸Œæœ›èƒ½å›æ¥</p><p><a href="https://www.ghxi.com/">æœæ ¸å‰¥å£³ - äº’è”ç½‘çš„å‡€åœŸ</a></p><p><a href="https://www.rjsos.com/">è½¯ä»¶SOS</a></p><p>ä¸¤ä¸ªæˆ‘ä¸‹è½½è½¯ä»¶çš„åœ°æ–¹ï¼Œç±»ä¼¼äºxmindï¼Œbandicamç­‰å¥½ç”¨çš„ä»˜è´¹è½¯ä»¶ä¸Šé¢å¯èƒ½æœ‰ç ´è§£ç‰ˆ</p><h2 id="çŸ¥è¯†">çŸ¥è¯†</h2><p>çœŸæ­£çš„å¹²è´§</p><p><ahref="http://www.ucdrs.superlib.net/">å…¨å›½å›¾ä¹¦é¦†å‚è€ƒå’¨è¯¢è”ç›Ÿ</a></p><p><a href="http://libgen.rs/">Library Genesis</a></p><p><a href="https://www.jiumodiary.com/">Jiumo Search é¸ æ‘©æœç´¢</a></p><p><a href="https://zh.z-lib.org/">Z-Library</a></p><p>ä»¥ä¸Šæ˜¯ä¸‹è½½ç”µå­ä¹¦çš„åœ°æ–¹ï¼Œzlibraryä½¿ç”¨é¢‘ç‡æœ€é«˜ï¼Œæˆ‘è¿˜æœ‰æŠŠæˆ‘æœ‰ä¸Šé¢æ²¡æœ‰çš„pdfä¸Šä¼ ï¼Œç¬¬äºŒä¸ªä¸‹è½½å›½å¤–çš„ä¹¦ç”¨çš„ï¼Œé¸ æ‘©åƒæ˜¯ä¸ªç™¾åº¦ç½‘ç›˜æœç´¢ç½‘ç«™ï¼Œèµ°æŠ•æ— è·¯çš„æ—¶å€™ä¼šæœï¼›æœ€åè¿™ä¸ªå‚è€ƒå’¨è¯¢è”ç›Ÿå…¶å®æœ¬èº«æ²¡ä»€ä¹ˆåµç”¨ï¼Œä½†ç»“åˆæ²¹çŒ´è„šæœ¬å¯ä»¥ç®€å•åœ°èŠ±1,2å—é’±ä¹°åˆ°pdfï¼Œæ¯”æ·˜å®æ–¹ä¾¿</p><p><ahref="https://apps.webofknowledge.com/UA_GeneralSearch_input.do?product=UA&amp;search_mode=GeneralSearch&amp;SID=D4NArRzmguT3sCmspng&amp;preferencesSaved=">Webof Science</a></p><p><a href="https://www.cnki.net/">ä¸­å›½çŸ¥ç½‘</a></p><p><a href="https://scholar.google.com/">Google Scholar</a></p><p><a href="https://xueshu.baidu.com/">ç™¾åº¦å­¦æœ¯</a></p><p><a href="https://readpaper.com/">è®ºæ–‡é˜…è¯»-ä¸“ä¸šçš„å­¦æœ¯è®¨è®ºç¤¾åŒº</a></p><p>åŸºæœ¬åªç”¨webofscienceå’Œè°·æ­Œå­¦æœ¯ï¼Œç™¾åº¦å­¦æœ¯ç”¨æ¥æ‰¹é‡å¼•ç”¨ï¼›é‚£ä¸ªç¤¾åŒºå¯ä»¥è¯»è¯»æ–‡çŒ®ï¼Œåˆ’è¯ç¿»è¯‘ï¼Œä¸è¿‡èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½çš„æ–¹å¼å®åœ¨å¤ªå¤šäº†ï¼›çŸ¥ç½‘å¤§ä¸€å†™æ”¿æ²»è¯¾ä½œä¸šçš„æ—¶å€™è¿˜ç”¨ï¼Œç°åœ¨æˆ‘ç”šè‡³ç‚¹ä¸å¼€äº†ã€‚</p><p><a href="https://oi-wiki.org/">OI Wiki</a></p><p><a href="https://labuladong.gitee.io/algo/">labuladongçš„ç®—æ³•å°æŠ„</a></p><p>æ”¶è—äº†ä½†å°±æ˜¯æ‡’å¾—ç‚¹å¼€çš„ç®—æ³•çŸ¥è¯†</p><p><a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹</a></p><p><ahref="https://missing-semester-cn.github.io/">è®¡ç®—æœºæ•™è‚²ä¸­ç¼ºå¤±çš„ä¸€è¯¾</a></p><p>é«˜è´¨é‡è‡ªå­¦å†…å®¹ï¼Œä½†å°±æ˜¯å¾ˆéš¾æœ‰è¢«ç‚¹å¼€çš„æœºä¼š</p><p><ahref="https://zh.wikipedia.org/wiki/Wikipedia:é¦–é¡µ">ç»´åŸºç™¾ç§‘</a></p><p>è™½ç„¶æ”¶è—çš„æ˜¯ä¸­æ–‡é¦–é¡µï¼Œä½†è¿˜æ˜¯ç”¨çš„è‹±æ–‡ç‰ˆæœèµ„æ–™ï¼ˆä¼šå…¨å¾ˆå¤šï¼Œç¿»è¯‘ä¸åŠæ—¶ï¼‰</p><p><a href="https://www.latexlive.com/">åœ¨çº¿LaTeXå…¬å¼ç¼–è¾‘å™¨</a></p><p>ocrå…¬å¼ï¼Œä»¥å‰ä¸€å¤©50æ¬¡ï¼Œç°åœ¨ä¸€å¤©10æ¬¡ï¼Œæ”¹ç”¨mathpixäº†</p><p><a href="https://paperswithcode.com/sota">State-of-the-Art</a></p><p>æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ å†™ä½œä¸šçš„æ—¶å€™çš„çµæ„Ÿæ¥æºï¼Œæˆ–è€…è¯´æ˜¯å€Ÿé‰´æ¥æºï¼›paperwithcodeçœŸçš„å¾ˆæ–¹ä¾¿</p><p><a href="https://cn.overleaf.com/latex/templates">Templates - -Overleaf</a></p><p>å°ç»„å¤§ä½œä¸šä¼šå¤§å®¶ä¸€èµ·ç”¨è¿™ä¸ªåœ¨çº¿ç¼–è¯‘ï¼Œæ¨¡æ¿çš„è¯æˆ‘è¿˜æ˜¯ä¹ æƒ¯è‡ªå·±å¸¸å¤‡çš„é‚£3ä¸ª</p><p><ahref="https://spcqwserdvymm.com.vika.cn/share/shryNwH3HRgvzMTaZVAGx/fodkuzz5eaw0w">ğŸ””Efficiency-follow</a></p><p>ä¹±ä¸ƒå…«ç³Ÿçš„å¥½ä¸œè¥¿åˆé›†ï¼Œè‡ªå·±æ¢ç´¢å§</p><p><a href="https://snip.mathpix.com/">Snip Notes</a></p><p>mathpixä»–ä»¬çš„ä¸€ä¸ªäº§å“ï¼Œæˆ‘æ‹¿æ¥ä¸Šä¼ è€å¸ˆå‘çš„pdfç„¶åæå–å†…å®¹æ”¾åˆ°æˆ‘çš„ä½œä¸šé‡Œ</p><p><a href="https://quillbot.com/">Paraphrasing Tool | QuillBotAI</a></p><p>è‹±æ–‡å†™ä½œå°å¸®æ‰‹ï¼Œå†™å‡ºæ¥ä¹‹åèƒ½å¸®å¿™æå‡æµç•…åº¦ã€ä¸“ä¸šæ€§ç­‰ç­‰ç­‰ç­‰ï¼ŒåŠŸèƒ½é«˜çº§çš„éƒ¨åˆ†è¦ä»˜è´¹</p><p><a href="https://stackoverflow.com/">Stack Overflow</a></p><p>ç¨‹åºçŒ¿çš„â€œçŸ¥ä¹â€ï¼Œä¸€èˆ¬æœ‰bugåœ¨è¿™ä¸€æœéƒ½èƒ½æœåˆ°ï¼Œæˆ‘æ²¡æ€ä¹ˆè¯•è¿‡é—®ç­”</p><p><a href="https://zs.symbolab.com/">Symbolab æ•°å­¦æ±‚è§£å™¨ -åˆ†æ­¥è®¡ç®—å™¨</a></p><p>å½“ä½ é«˜æ•°çŸ¥è¯†å¿˜çš„ä¸€å¹²äºŒå‡€ï¼Œé‡åˆ°é—®é¢˜å°±ç”¨è¿™ä¸ªæ¥è§£å§ï¼Œè¿˜æœ‰åˆ†æ­¥è¿‡ç¨‹</p><p><a href="https://www.ilovepdf.com/zh-cn/unlock_pdf">è§£é”PDFæ–‡ä»¶</a></p><p>é‡Œé¢è¿˜æœ‰å„ç§å„æ ·çš„pdfåŠŸèƒ½ï¼Œä¸è¿‡å­¦æ ¡æä¾›çš„æ­£ç‰ˆfoxitä¹ŸåŸºæœ¬éƒ½æœ‰ï¼Œä¸»è¦æ˜¯ç”¨æ¥è§£é”deeplç¿»è¯‘çš„æ–‡æ¡£ï¼ˆåªè¯»ï¼‰</p><h1 id="æ‰©å±•">æ‰©å±•</h1><h2 id="å»å¹¿å‘Š">å»å¹¿å‘Š</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223252001.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223408102.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223542478.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/adblock-plus-free-ad-bloc/cfhdojbkjhnklbpkdaibdccddilifddb">AdblockPlus</a></p><p><ahref="https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom">AdBlock</a></p><p><ahref="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm">uBlockOrigin</a></p><p>è¿™ä»¨å°±æ²¡ä»€ä¹ˆå¥½è§£é‡Šçš„ï¼Œå¯¹å¹¿å‘Šé›¶å®¹å¿ï¼Œä¹Ÿä¸å«Œå¤šå°±éƒ½è£…äº†ï¼›å¯ä»¥æŒ‡å®šå±è”½å†…å®¹ï¼Œæˆ‘æŠŠGitHubä¸Šé‚£äº›*ç‹¬åˆ†å­éƒ½å±è”½äº†</p><h2 id="é‚®ä»¶">é‚®ä»¶</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223729300.png" /></p><p>æ–¹ä¾¿æˆ‘æŸ¥æ”¶<ahref="https://chrome.google.com/webstore/detail/checker-plus-for-gmail/oeopbcgkkoapgobdbedcemjljbihmemj">gmail</a>çš„é‚®ä»¶ï¼Œä¼šæœ‰æ¶ˆæ¯æé†’ç­‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223816247.png" /></p><p>ä½œä¸ºä¸€ä¸ªå¼ºè¿«ç—‡ï¼Œæˆ‘çœ‹åˆ°æˆ‘çš„æ¯ä¸€ä¸ªç›˜å¤šäº†å‡ MB<ahref="https://chrome.google.com/webstore/detail/clean-master-the-best-chr/eagiakjmjnblliacokhcalebgnhellfi">åƒåœ¾</a>æˆ‘éƒ½ä¼šå¾ˆéš¾å—</p><h2 id="ç¿»è¯‘å†™ä½œ">ç¿»è¯‘å†™ä½œ</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223919801.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528223946957.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224113309.png" /></p><p>åˆšå¼€å§‹åªç”¨<ahref="https://chrome.google.com/webstore/detail/%E6%B2%99%E6%8B%89%E6%9F%A5%E8%AF%8D-%E8%81%9A%E5%90%88%E8%AF%8D%E5%85%B8%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91/cdonnmffkdaoajfknoeeecmchibpmkmg">æ²™æ‹‰æŸ¥è¯</a>çš„ï¼Œå„ç§åŠŸèƒ½éå¸¸å…¨é¢ï¼›åæ¥ç”¨<ahref="https://chrome.google.com/webstore/detail/deepl-translate-beta-vers/cofdbpoegempjloogbagkncekinflcnj">deepl</a>è¾¹å†™è¾¹è¯‘ï¼ˆä¸­è¯‘è‹±ï¼‰ï¼Œæ–¹ä¾¿è·Ÿå¤–å›½å‹äººäº¤æµï¼Œå†™å®Œçš„å†…å®¹è¿˜å¯ä»¥ç”¨<ahref="https://chrome.google.com/webstore/detail/quillbot-for-chrome/iidnbdjijdkbmajdffnidomddglmieko">quillbot</a>ä¿®æ”¹æ¶¦è‰²ã€‚è™½ç„¶ä»¥ä¸Šå†…å®¹åªä¼šæ˜¾å¾—æˆ‘è‹±è¯­æ°´å¹³å¾ˆæï¼Œä½†æˆ‘ç”¨çš„è›®å¼€å¿ƒ</p><h2 id="ä½¿ç”¨ä½“éªŒ">ä½¿ç”¨ä½“éªŒ</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224252617.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/gitzip-for-github/ffabmkklhbepgcgfonabamgnfafbdlkn">gitzip</a>ï¼Œæ‰“åŒ…GitHubä¸ŠæŒ‡å®šæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œä¸ç”¨å…¨éƒ¨cloneä¸‹æ¥æ–¹ä¾¿å¾ˆå¤š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224450069.png" /></p><p><a href="https://limestart.cn/">é’æŸ èµ·å§‹é¡µ</a></p><p>è™½ç„¶è£…äº†æ‰©å±•ä½†ä¸»è¦è¿˜æ˜¯ä½¿ç”¨è¿™ä¸ªç½‘é¡µï¼Œæˆ‘çš„æ–°æ ‡ç­¾é¡µä¸»é¡µéƒ½æ˜¯è¿™ä¸ªï¼Œç®€æ´ç¾è§‚ï¼Œå·¦ä¸Šè§’æ˜¯ä¾¿ç­¾å¯ä»¥å€’è®¡æ—¶ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224715406.png" /></p><p><ahref="https://extensions.redeviation.com/">ä¹¦ç­¾ä¾§è¾¹æ </a>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘é‚£ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¹¦ç­¾å°±æ˜¯è¿™æ ·æ‰“ç†çš„</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528224903817.png" /></p><p><ahref="https://chrome.google.com/webstore/detail/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8A%A9%E6%89%8B%EF%BC%9Abilibilicom-%E7%BB%BC%E5%90%88%E8%BE%85%E5%8A%A9%E6%89%A9%E5%B1%95/kpbnombpnpcffllnianjibmpadjolanh">å“”å“©å“”å“©åŠ©æ‰‹</a>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘çš„ä¹¦ç­¾é‡Œæ²¡æœ‰bç«™çš„åŸå› ï¼Œæˆ‘éƒ½æ˜¯ä»è¿™é‡Œè·³è½¬çš„ã€‚åŠŸèƒ½éå¸¸éå¸¸ä¸°å¯Œï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä¸‹è½½å„ä¸ªåˆ†è¾¨ç‡çš„è§†é¢‘å’Œå¼¹å¹•ï¼Œå®ç°å„ç§å„æ ·çš„é»˜è®¤è·³è½¬ï¼ˆè‡ªåŠ¨å®½å±ï¼Œå…³å¼¹å¹•ï¼Œ4kÂ·Â·Â·ï¼‰ï¼Œè‡ªåŠ¨å¸®æˆ‘ç»™hanserä¸‰è¿</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225202730.png" /></p><p>è™½ç„¶ç»å¸¸è¯´æ²¹çŒ´è„šæœ¬ï¼Œä½†æˆ‘è‡ªå·±ç”¨çš„è¿˜æ˜¯æš´åŠ›çŒ´ï¼Œä½œè€…æ˜¯ä¸­å›½äººï¼Œåœ¨å“ªäº›ç½‘é¡µä½¿ç”¨ä½“éªŒä¸å¥½äº†æˆ‘å°±æœä¸€ä¸‹</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225352529.png" /></p><p>å¾€å¾€ä¼šæœ‰æƒŠå–œ</p><p>æœ¬æ¥æƒ³ä¸“é—¨å†™ä¸€ä¸ªæ ç›®ä»‹ç»äº†ï¼Œä½†æˆ‘å¥½ç´¯</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225516406.png" /></p><p>å¤§å®¶çœ‹åå­—è¯†åŠŸèƒ½å§</p><p>æ¯”è¾ƒæ¨èçš„æœ‰ç½‘é¡µé™åˆ¶è§£é™¤ï¼Œå¾ˆå¤šç½‘ç«™ä¸èƒ½å¤åˆ¶å°±å¾ˆçƒ¦ï¼›ç§€è¯»å›¾ä¹¦äº’è½¬ï¼Œç»“åˆè¿™ä¸ªä¸Šé¢æåˆ°çš„å‚è€ƒå’¨è¯¢è”ç›Ÿæ‰èƒ½è½»æ¾ä¸‹è½½pdfï¼›</p><p>ç™¾åº¦ç½‘ç›˜ç®€æ˜“ä¸‹è½½åŠ©æ‰‹ï¼Œç›®å‰è¿˜èƒ½ç”¨ï¼Œæ ¡å›­ç½‘æ»¡é€Ÿï¼›AC-baiduï¼Œå¯¹ç™¾åº¦è°·æ­Œç­‰ç•Œé¢éƒ½ä¼˜åŒ–äº†ã€‚ï¼ˆé»‘æ˜¯å› ä¸ºæˆ‘ç³»ç»Ÿè®¾ç½®äº†æš—ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225804605.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528225854431.png" /></p><h1 id="è½¯ä»¶-1">è½¯ä»¶</h1><p>æ²¡åŠ¨åŠ›å†™äº†ï¼Œæ‘†çƒ‚å¼æ¨è</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230140552.png" /></p><p>foxit pdfï¼šåŠŸèƒ½å…¨é¢ï¼Œæ¯•ç«Ÿæ˜¯å­¦æ ¡å¸®å¿™ä»˜è´¹äº†çš„</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230232796.png" /></p><p>vscodeï¼šå•¥éƒ½èƒ½å†™ï¼ŒåŠ ä¸Šcopilotï¼Œä¸€åˆ†é’Ÿä¸Šåƒè¡Œä»£ç ä¸æ˜¯æ¢¦ï¼ˆbushiï¼‰</p><p>æ„Ÿè§‰vscodeä¹Ÿå¯ä»¥å†™ä¸€ä¸ªæ‰©å±•åˆ†äº«ï¼Œä½†æˆ‘å¥½æ‡’ï¼Œæ„Ÿå…´è¶£åœ°å¯ä»¥äº†è§£ä¸€ä¸‹å›¾é‡Œè¿™ä¸ªï¼Œæ ¹æ®æ³¨é‡Šè‡ªåŠ¨å†™ä»£ç </p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230544526.png" /></p><p>æ ¼å¼å·¥å‚ï¼šå•¥éƒ½èƒ½ç»™ä½ è½¬è½¬ï¼Œé™¤äº†å„ç§æ ¼å¼è½¬æ¢ï¼Œæˆ‘è¿˜ç”¨æ¥ç®€å•åœ°å‰ªè¾‘ä¹‹ç±»çš„ï¼›å¯ä»¥æŠŠå„å¤§è½¯ä»¶çš„ä»˜è´¹æ ¼å¼è½¬æ¢æˆå¸¸è§æ ¼å¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528230709483.png" /></p><p>anacondaï¼šmaybeæ˜¯pythonå­¦ä¹ å¿…å¤‡è½¯ä»¶ä¹‹ä¸€ï¼ˆå§ï¼‰,æ­å»ºç¯å¢ƒä¹‹åæˆ‘æ›´ä¹ æƒ¯å†™jupyternotebookï¼ˆä½†ç”¨çš„æ˜¯vscodeï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220528231002743.png" /></p><p>mathpixï¼šä¸Šé¢ä¸€å¼ å›¾å±•ç¤ºåŠŸèƒ½ï¼Œå¿«æ·é”®æˆªå›¾ä¹‹åå°±èƒ½ocrå‡ºæ¥è´´typoraæˆ–è€…latexï¼Œç”šè‡³officeç³»åˆ—è½¯ä»¶</p><p>æ•™è‚²é‚®ç®±æ¯æœˆ100æ¬¡</p><p>åˆ—ä¸¾å‰©ä¸‹çš„ä¸€äº›ä½“éªŒè‰¯å¥½çš„è½¯ä»¶ï¼š</p><p>è§†é¢‘æ’­æ”¾æˆ‘ç”¨potplayerï¼›è§£å‹ç¼©æˆ‘ç”¨bandizipï¼›è§†é¢‘å½•åˆ¶æˆ‘ç”¨bandicamï¼›æ€ç»´å¯¼å›¾æˆ‘ç”¨xmindï¼›</p><p>æµè§ˆå™¨å½“ç„¶æ˜¯chromeï¼Œä¸è¿‡edgeä¹Ÿå¾ˆä¸é”™ï¼›å¤‡å¿˜å½•ç”¨microsoft to doï¼›</p><p>å¤‡ä»½ä¹ æƒ¯ç”¨google driveï¼Œæ‰“æ¸¸æˆç”¨ä¸€ä¸ªå«çµç¼‡çš„å°ä¼—åŠ é€Ÿå™¨Â·Â·Â·Â·Â·</p><p>æš‚æ—¶åˆ°è¿™é‡Œå§ï¼Œå¦‚æœæˆ‘åˆåŒå’å•å¿ƒè¡€æ¥æ½®ä¹Ÿè®¸ä¼šæ›´æ–°ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>é—²è°ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æ„ŸçŸ¥</title>
    <link href="/2022/05/27/robot7/"/>
    <url>/2022/05/27/robot7/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220527155651383.png" /></p><embed src="./Perception.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯é æ•°æ®ä¼ è¾“åŸç†</title>
    <link href="/2022/05/17/net5/"/>
    <url>/2022/05/17/net5/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç¬¬ä¸‰ç« è¿è¾“å±‚ä¹‹å¯é æ•°æ®ä¼ è¾“åŸç†</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20220517080217.png" /></p><span id="more"></span><embed src="./ARQ.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2Ræœºæ¢°è‡‚äº”æ¬¡å¤šé¡¹å¼è½¨è¿¹è§„åˆ’</title>
    <link href="/2022/05/16/robot6/"/>
    <url>/2022/05/16/robot6/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="4ea64fb49d5a80981f809491084c4d95fa7fd0dcd2b7b6f3ff0924293af903b9">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef839094967225e89a7b2d0e41b8b8989d7437518472918b877a3f0bffd9cb61b0c86aad4053d6c88a6346d7a249db8f39c5c46e3377a8d81cb93af4b67b3364a5195e55ca6e2d3383c43281364ecbc9c607620e62afe88fd7e59a1a8ee1eafd8640b176f85d048800c21bd2ee0f42a4a269319c803a4b0e0a45da29e8889e608ab05413101ba3f3cc8b24a19224800b5aac2cbf86ff1e30bcd56888eb7b7636b4f86e4997fac409854be2ec9f01ac44f31d6dac31c69f1a348e67d6c6f0a77cce394fa063507f6840519c0bea722a44b10aac0952dc0aabcde93a3f9bbe13ef7b9f9c216a0919a0c69d25fb118b92fc78f815a1282f663771b596a8e8f7a378cacec37a7</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C2TCPï¼šä¸€ä¸ªè¶…ä½å»¶è¿Ÿçš„çµæ´»èœ‚çªå¼TCP</title>
    <link href="/2022/05/16/net4/"/>
    <url>/2022/05/16/net4/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç®—æœºç½‘ç»œå‰æ²¿è®ºæ–‡å¯¼è¯»</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2432716a34cb4571ac86e2b7f56f617.png" /></p><span id="more"></span><embed src="./C2TCP.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æœºå™¨äººè¿åŠ¨å­¦å¥‡å¼‚åˆ†æä¸æ€§èƒ½è¯„ä»·</title>
    <link href="/2022/05/15/robot5/"/>
    <url>/2022/05/15/robot5/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="eb14f3f479290736f1ba782cc93c33b0f3681fcc1734404828e196d329a31f6e">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef839094909fad119c52c40e70911d4d6642e40fd1b7b2e65a70f8ea3b14f8ba82e30432e9265d93d3490ea447b79c986d6cedb075b2255ce72900a5ed588225080110f47660ebafe919f95d6ddae74faf71116d09e58d94fc7200aceaf7db12b0d3ac2b61bd9c4f72374a6a55258d8cc51034cd0c025a250b9214a3e9d800e56e89f68de780c2c6ccbc8a0137e3818aedcfed595d0771e7677f323d26e9fd74993a5c8fe990f952fe692e5b9b584f6c3a3dccb4c993826e14524e836d9f936ffee778dc1a09f2ed854549cc5defb6a5d3246c0752219595ae1a2716c900498c502321d33f1d64a4efff1a7e68a2abbef7e72261170f90089133f5c9aa99708ffb042e9ed252ae02b1ad712373192df5fc1fc90de9f4784dc9af8d46da8cb52860e147af44c18601804008f4b59304ca1ac18b3391fd5d3e9dc14de259dfe355c3b6faba314e366372c9a990dc0d72a445e6dfd1ce7566904545c7617298b7cc8ab0792205ae6e5db441761a6cda0712621d046387f1458d5afd6f490c6b4c3d5166545ed061486fb10b610470dc89da016abf2664397a8a6eadf710165070c8db2f0781803207cec54a7a36296a0dafcdd2a35f6dbd761b094353326b6669644920612e99fb926178bb93ae35835d14083abf0aa3c1bfaaac7b03ec4e453cf5709dc7e362f66efc527a031a290f073741b64b6179ef675685734d7d2a95cb7ea6db881ce717bcdc50b661068342e82d2797d53d7b9d797a5196b16433d197873573d7a75a982b07022b570a4dae57f7bd696e87b0b55f61165a025a5ca866522c6bae41231e59446b3a727f24a9ec5aa83f7821b3d75ddd5237bf0aab3f6ad995b4af4cbaf5e040dd2eda8e1d35560e6440a1a952460449d04e2c231527fa46a39658a979a11c1768c5922c69a092ae1c0cc16a165518105309b7ddb9b50e5545f607bd8b4adeeab5b126c2d2a01b49f8ede2a06c259bdbbe1b6dc1c45e7223d16ccb92bbefe21c36451a3bb9fb722b65c1c27f16f1e6d65588952433d7385c897f6683a732fe1a148977eb04460d54a033d61198c4c4563bf181e24881ec89dc9d3a994331794d81dda36c5b1660c563339fd59c324d6de21f17dfbfbd0f5b711edecc748f2a9d705744f433358f74750d1ffcfbfff3711cc65576b5b5db1579b92fa1e06b40d65fb4f5be0e92117036ac9837d6d4526ce7ddbef27a11f7ca3ab63af2751373f96eae798c655b9275608c0fa5216cb28274a631c3d91fc61402c1f23424509db9909e2361645034c9b99acde92955eb8926f8c18b79db6138220211d6e4e8ba5151ca7b8ea54606f921f84ebcdbfc7f787de39cc273fee4e75e16910d29d4348037337b8d12b9221adefb1cb82149c69c9f9960476e0a242cd98bb89a4cbbb36f8bb785b314791e7a40afcf8e042bbeb266674435cefcfe3f46eb33561867e3cff21b5b43d5f306981d2cb1622bd2a7e177b626d0a18fc8da474108d832665539401105ee00ef06ceb7db108afe569b735ade0c2850d222d1679c8144a4b2d2f424b0315f3d32a48b39edbc42322695f39cc6aafa632dfd74dbf3884abd25b143f12596f4ac59a365068bb1f92d8079f25874530196bbfb15a7a20c89e0543e54c3dbcf11f3eb39837cc99f735f6a6be7912c111215b60bfbacbd89980d3cf475e6d8978dd6ee27957516e62907b1cf6c3c0cd25c4310f939ffed0a4eec2689dcf10d71d123eb4f2bf7f4a32f972c0572af3e18a2762572afb1c57d3b7a11a42a6608b15ce1451c136e7638f6e68a9f050568e6f53af1daf66f0504ef1757a2fbdfe40f921c51a998b4488a5dc0be668192b5c65266b4127d8847f3c2d072d24b34697623e4b372f193cfcdf28cc7020a6a457ecd8108b01a556f4c5c385a5538d5e108aa9fc73bc1cea1249ee20144f93f5360bdb95b17ba6e5d26901f5b362502b9df32255930a8e9c6a8f16b2de23224d8a89981bbbb2ddbd94fc0d01445c636e8ce4155f0862d36687115e1cbc9c273d16864d1e22f2a83ffa59f2c4ad5bf77db3f0e86caa873bf29a49f1b80acf18df357bca38d687adc1618c71e4e3062476541aa3ff3639f4a9caaa6b862d9569047746968441a0aaad6f94281c1562fb8b91194a6940ef8dd55af0eef9949b4aa28db9a9eb9df8c69266c30b40ae9db1bc1cd7be6062f31730bc44d7a2ae36a48e5775a6d33349345cd0041b627feb0ac0a1735fc383054c61cc8b9167a2b84ebf6c14ac203b12351e78ed7385f9fae3051f4a8fae484e8374f851df9b43b814c4f53c4ca40c52eb4991fc386aa41eb429620f786e0463f92d035fe3f856843be7401373faa43ce13a87872f3c345a9d30efd9c84a95c2b730c3beb56e9b9667fd7ba2f6b1f5ac00a2e595463f1c983e9ecdfbf53e12b1b6848346b10da74a53e11f2c300e447e97d7816b094d36d5d3d31ec46ff5dd00840e6aa2bdf2c3662958199ae240e12aafaece1329537ff72af1126bf991b69f522ac278d5e3cfdce7f79d0aa6f4b482857d45a8ead3362b9c532c5edd3e66d7deb373240b268a78a959d901a458ee119c155a6bf5053355d31b8cc108974271922b142a405a4ba04d3a5ad4e3e77226f0ec73e0ee252b27955d963430c7684a6d6696269dec5921b0df1771f5e09c7cdb62de910b2647c9a72361e43e804505ec95849cbd8e39fb40c80f7960f9e082898249fbef1690ab4e9cb621f2523262118d7770fb6ecc336bea79617971ebdd62a2c51a8d47c1b96530ecfaaee5f9c139d0132494db9f0766fdd3d754fed49b2171d596541589a5c251265204948adcfc0c86807807040532f4ede2592ab387f3ff53b1338177cfc67ff026ab44407fde3a1011806b8152f241296f871756045315c4bd082755ffab5f1dec47e215465afeaab63bc1f86e7880eb484f8909ec2bad66117d277b3e2531c00a108b8cacd1adf8e909afe215eb2a9f9915c3c0eba6a5c53e9d1137b660a3f262a963b50ed9618da55b5217581b9da3d262460cfbda7c1d32e19a6def99fcd9136924061c18c03dbb950adcff4a59af18afe011355035772de770ea49da8ea4a2d619047b850fa827a1c0b6a3822afa426b9507adf88141de792e7d5d5a344eda16596acbae66887853b77baf94da3674b6360f08c1645a4d2974e653ea4f56f851f20685b17f8f279c0e19c87a252b4dc69690d68115a305e7137bc8a64070f5affdf5b9c1f05963b2acd3c287915c37aae1ff9feda4f156260a86a7388dd019b18bda9e0e2763ef7ae7f3bff49618f942b36f30b0583cdb984df8dcc1be1c5bbb169c8cc852e4b3bfe35e849d2a97dce27cb02775be6740f3166180da9845d87be7d46679435328105c11d956cfae02b391075526da60d6646fdfc415ac3286a7e08f36db49c91bea1e4404a6151de8aa369b0ab637b4787e1045ff0a78587bb9a4fc2584eef9b73962e29794d6e94fe5c5174a003f605353f7e15829bd677b9888ec0a1cb6f676d4a098a4c95c2a1069bb77bb66b90d6df7665e1efc4a9c305fcb9ccd2b2b7a8543f2ad4fdbc282daf740bd98c73319234120dbcbea2e9e1690e33c63ab16d417e52e7f767a7706aa44fdbf4a994bd745a73a6733544d8c225fdd73a383b48cf8c3fac671f1c5b1772e63e64b718978b52684aa09460eda16d07cf810ddad532c6edd49c83e1a468297a564e6bd89c5a892db7018c4db68e5a70bf95709f40d1b63a427f1c0ec7dcf56cd12bedd0c96faddad19e1a6154f13086718dbd4dad6ef7b20d08d9bc8bb43da6252e9625223d06a35e19a83a04395dd13d2c7cb238b24a5d176f7a358f6b22af750c7082d2d4e3963f9db06fc5cb5ea5510ac85b27ac35ea992b4d8f5647c0bc11f45c6f6528b63b8717c057de2073d7d5df016eb7f9ed5ce669631c539e07f9287de0420ce28b689148a2bc2e749c4a4daf44097661d248ba2d7384f483146f2cb074c4f7947cbe623d3aca3d73395b14e6943fc88d6e67f4994b4168f03310f774308aa8b151ddbe27190a950e0b0c7d226971fed7ca777a30286921520963ff3ebefc2a8bdd7390fd9336724cce172dee0d91efa5bce9ff8b455adba82e68e3e3bda45a79b91d9cc3696b6dd93e6e390f53b71803e94c7570c342d72e7f95e95602d15ebf4d1a4b6da5af6d80c0aebf39dfd29ff5eec22e15f3ec46a931c92929223959b2c961a653a9b7b2a1b7be75641f9f8d700b350165a4b229986336d60957eea64ba7c37979a8ca5adcd6dbf46aaa74cf1391fef3a2cb9f52a27900329bd41264aee83fd36ed9962269fcb7dff5ba1904a719b7f4d3e42b026c71ab88435f6e4fff60ef5bd195688936ed56a791ff1075b908a4c2fd4ffb5c20fec206b81de87f8e099934a3ae977026b233d13bd162713d9fee90d6a88cdce8cf13b910831d1f3f14978160635988d1255d23d967d9e01802813f461738088fd2a7cebc1ff8e14aa9ee5c665a53bde622f004a039d7cdc70ddee29d28233f44914b3a3d0b749912f5b5817f4519ff3947c04155e0ca7bd6f8756a52a7d9f60216ffcaa57712cfbe83f50bc15ade30a238cf773994c6afaf608616af8c4deb07b21f23680d9119ebd1d9e2d459afcbbb72a7e1891f32c0e182c6b60ab4abb66ffa8f546f6c7f7bf5cac95dd4ac2124152126444f4428645e65846484d16657e5e8e815fe9358e7a244838d7e45c9171106dc7cd233da3f9e178a1b765b7cb0824eed40cadca70f015768e53adac3acb7ba0ff9ed2ef4868512c902447f8b2d762eee7cc612db44b52c23d1892081dd01a97b59b4d7e3bf7eeea88c44e01b6d65e957393bd57a48b97de1e3d08a7364e007e65c9ced76b250668b4343905dfb576e840d26aa0dc04f94dfa8ada628a96089e12fca5fa4feb94fa7fca3d0af306389d26228a9065a8c45e65f5296120d48406270725660b0e575ec6658b8ad10e01e30185f9758448effc6fbd4903d41125fa469b1105e16dd6ba09e7e1b7ec07ae3e38ca3e603233247ac421085deb558eadfbc93d72dae0bd3ba79b306a95987f3d40d3a65d857057839d235c436d1b9e5dee24d414e1ed891b8c837528740170b42efb75fd1f2d9afb999aa3231069f39ab476f194a353d9f066c571cea74a9f2213b45b76eafcba1f0f8c5a189bc9f798272ea25a5de339aab2ab360048eed717eef9da7f91a08a91149535dafb45a9121a7f45a6ca08ee19c4f1a3adb655602d3995b1d18da3b6e59b65ec031e3d835506f4fe6bbb92b391cd7222ba451025c49a8bfaf1d146a48f5f2d8588d711413e9717df7015048fc8dcd81df734d63cc1d5c8035eb74e668c3c64111b5d6ef72e0540c63429ae0364cf9aeb42dcf878abca63c5cbb70b47271b70423c2448f07f218d1019c26966ef69c1ef652de607fa6e504695ff835f2b9701fb3ecc1f7faee5e0b87ae692116f9e8f789934141457d62449a79289c765045d284f0c667a0e9e6bd6bca4a657f8b8384621fa06a0c73b22e39b88845b8abc5bf8b02e3c5cee5c61233023624b1b630bf32c657462acc343437e19c22da33565604cd10862dcc56ec0d611605213683ce3e45e8d29797b27e3666aac4bb42589fe7c1aa4e071165de718e51ae8ec732ef2e6cc9c3bfd2a1517d5f1df268335537a3188f72c1fb123bfda8271a3fc61e995978ddfe95e5ce7428846cf81f4ebebebf61073411c6485effb391116911e82295eb8d093add5b5b446415a525541713bb2b8a3b0a79e9306b5c0dc74a2a3a348144df22346f60b983fa494c18b76d3bfa51f1d835c7836c91c22fa534b186c874a095bf37400e7ece925fccbe033440a2490125ae286a3bf320eb29aace17756e3181f95236fee3d9671807ec1aa85d0130d88a15b59e34040898baf5eb01972defae410dfcd7c348349c2ac1aa54594438a7c004e2cc7af97ad6626df062bd5783799fcd8ba39deb426470c6b10ee23d030001df671208e05fe48a6f2f7d1af8b1ef0bf8ccd8e1222943f050b125f5bc94e96f405089d8590ea37b2521f3c6d20476300367b99731860f1c728eedae3e6b1eb40180fae7a435ac6a878e330d96584423acfb84016f0192789928e2ad369e8580c6ef053806995e04bb4273caa82a17363be9a2394f1586210116767286f1d86795f29384a6c703d48a1bf87ca6910dd00e72559f72116193073dfeb5b810fdc531373154a0ae1ad4f10839cc2a93b2abfd34f7d33300bd440d6b324db7a15191086416201ce1be69c7085f982af489d7ce8cc34ef443c43008185fe8dd08582325e08eb89fbe651bec80e91050cc508a55cb2ecd88de6f200f57a3a811691670d71d460bcbdce27539a4ad546e53ef2a367918ce5a0b62b537f6351c19c490e696e04ba9ec5a0cea46e4619ce38d55677173b57c8b33e322f705ccabffade1822c362f31572ccba43612e986ae5eea55b20d6e2dea8ce0ac3b7baf57ced948b0d3d420c0b33daf550ee589ce06d1414d852df44e9a3d3889659c4f5ec1a7ac1acd8342c92e1c17b1e14c39342ff13eaf887549966dec6c753fe69b594856c54673347f23515f77e20de5a8c639f1604998460fe3983a5eb8b12432603a96cbef3d7f27579a76b1b9261bb7075148c355addec095fa8f03e8f56b4c8ee4c632b305d123653b9bf6d55ef7b07caa6197372b52a282e769c762c4c50edd248feb37f6f33218cd3bb49d896204b26747c35bd38015458aa377a66356336c69c0683e75185a185aac88797f0df2cc05447c83f880570fc75703ee770a828c2fa0a35cb7f4e7dabaab8343da1962b3abbec6b81a958977be6dfd8f15410b1be13cfe14e71ec1df684bbf56e577944482872cda316866555ebee614f6ceeea12c3c97e043b3c8885569297cd7eeb23b8d421524223b9175aae9b9bb93714f4a0eb959aa9ca5bd04a69eb0d52c032357ccebdecc39f9c857b30237be7e111ec130aad3299381f911fdbd3bc782a49674b51a4a375b273afdf91ebc1b2543289023665f0126a7a41f0798ba5bfa9cb131c2669ff0cf408549ee65299fd2d4caa90d3adb8d8e5772c694ae0b3db4f03f97c08bd2f85697f0a6eae3b3cc08055fbff52fc9c4ca0bbe9d8feb208ec03b405f993837b8b52b3469d6c80d8aef5ead3b6eb0805a3907a9f4f59fa6626cd7e71d5830d9841830bee525796a4f08f16412abc5df7d3862b4f7be7c38be958a75c8b0f77b4c053b3d48d25b72cbc26d44e73302746c5be1f71c426c879c1372ded8118d99a0581d4619d83c5896b55cc1ed3b5b00da99873772c9b2962d30b5bf2069e6d6b50e552e154ad4822d9962594ff69c3a144cad0e49526d66888b4bc4fa80a8e55b115a421ea9d5fe3977747a36f98bd5c2c7626afe5c3e46ac0156fa329b4446beb7bf2d6b68b01d0179fe8a1701ca02c5dba65a02898e6c52f2a582699fc223760c5760723894fbf4d80f1e9f92b840592c9384ecada179e2847ff3dc07129b06b483340bdc94a5833841c00d623acb9d62fc854cdf3316282f0d2dbd9b9c93092c5eca17171effa9ec344b9722769de9d3844b018feb44922911735bd5a834e03139a8d0c5a4b0eb70a8bea9aa08c1d548c5bf3215235a43d41855cea0f9bca9c3b3b2f6fcf6ad63cc6227e82d0c57e57d7af83c72afb183b0c78b1c44fed1b3d692b583fd30b056748a2eddc799926193c07784605aeae406c51cb4f015d2b666f35104e393934557098139ec063e369b2670cf41a31204738e52399ffbd887273e1247aef6d5f2b8a00150cfcd4ecac56631521d7fd4025ab00f2096fc4a88906744027f033b532ee2b1319c7d60a6c5224149d5be0118783572c14789ea4d0b8f40acf373c81d03bcb483b7c4fcacaca423cc070bc3a57c7fc15d7d0cdb21bc84e2a5b0bc912d04ed02d6e9440040fa2c8f33e864b6a4a5d0f69b43218ca713b0640121224c4245c1e0075da5485f892c309029257fbce628bae84f851db571cda6c00b69aca71adf4fb531c2ca94b764a801c3be9ad3deaebc07c73e72f0a49ee9c4dd1d8bebe220e529959de26658abfe518123685a640b0a0af7c347f996e86d9be5e699dee14f0c035140652ddf429e5cc61483f94d981889b64e753676f21dc4188609f372bbc1f5ab07e8da7ecb220a84b0518074f24ef9244433e2e8e97a428aceb477f4c85d208f625e240ffcb73ab61edc5ca1ed411e9e6ca33d9cce40cb9d62f621b5cc6e05be07eb4b6d372431655d07a4ebdfdac7b92afe19fb638f4439987ffc2c10298a94ed57ac53292503429b98b888df6ff1ba12852c08a24f49a12ce222204d7a9c2f72debd6cfdacb26a616302045c0c843f58161a6289636f18285bee0d92b37c80594720d3a8ebb5363b1a532e5079163d2e6dcc3e22d17902aba8c3212295b6fd8ddb1f5f0b7adaedf9a445c00f7212cc8515d7ac6a01010353ab39ce47a24a242179c3037e86a2e5cd8194f6a5d3c85125b5252fc840756d6fb97d99abb020bf6fa19073abefa7a283821c6e709456eadad294818fccc3266b11721fcf7238a5be032097fb31e43b7a85a0762f718515b1357700abc6f4e1be8eed6869015f9f9da1e289ef2a7f52d32f9a8665aa9f57b3c90ce4bfe4d21cb7d53b97439a2eb1a3d38e4dd5ef65a777e44999eafa4d332ca0c917355620782d4a8cec69674209984d4b49917b4c366d8af2e9f9db88b675bb9e6fcb92c258098502eac3c6decc4a20bd3dec892a29fa7113fa318469b84df35ea0c11c229f0b330f956d68f3f294dfa753e9f81295422bee2adcd0815c3b33277b92108205d3696f4dff170fc949c7a35cdb31de96f5bd743e6a384735c72abdc4f089f051eddfc69450324bd7b2307cdfb32b6cd23a9729930175cafba6e332be29652f23038fd0f8857e70c7ba78edba94b70d1c1076cf68abb1f0f67c33cc138fd492ec88458fd0e87b073d8988c28d201949752e3201bf67bd71547645db8b346ae175950eeb8dae45992be6e31565012575a28761f10d983103ec833403a1f23127038b043607da7a430647b637d2f4986ee9a7f5f290237610e4227715424f3854a0e8fba2db1023a48fea7a617e83744c1dda99aed3d25e9841cd0ab543c8363c04329797524e174c4927a835a3538e3a30d6d6570bbfd34cd465a2b37a89d6d82e3c0b722ace5f13cdf91541be459b7f48ee06f00b0a7346b00505d17baa5ae3e14de9bbfe534129c067fb3b06b1aba5aac9e699fbf82afb94a34f771fe6b4ebd6ab338e59d8c7329a65d4ecd54f0eac2cccee36d5b972b8fc0342fcba6797a414636ab02984cb550449e5d81224344437323db23d6f35abba9e70d9e1d6250b35a69150fe4cceb704ab90d3e3b879b283fb41f4b9b29ba0481cc910296e4ee61746ee2f9095091e07987c1cff3ec2d56132f634962b82011f611ef49bb430f8a429df36e71653511aca1c4b5947df83f5f3718238f78a5b95afa9d0d46ec66e925c14fe51fd4e4b3fb25b8e71dbc5a7d0a3ae5f99adf8c767e71828d3148983a90752d4a7635307ac16a83e6e79e7f4c64cf1ed20c535b1ddd0766514e4bc4b7789cc846338b515cd5ebbf43143914c49d0b7abb4166e3a6e41fbdc5ca7d9a7f6c5f2ea7ff0d11d1c950521202acdca34ca6fd992101bded2462ece02615e608e5a0723b72d60e3c0db43c8d95262992c07ba2db6fa3a6fe92d0990431fb8730bbdb4d5c840981f4b160273a4627212eeac8bccbafb6f839703a71b4b92ea6ea4dcc3c1bea79df88d7c7157b76ad96089a97e0a926908c255f694a06bc58a014eebeeb5f9cf49bea096e5e1b80ee7851e70f8705d64630f998e7375621e1937f8bb8e0a9d8c3c13af286d3384d718c91598abac6d2729256d3e5fd40db5be159c2d865bc37f81e0d8d41d54fc77e7282014aaf2df6d239ffc86d18bd11d79d6649203b4995450f6b738defaecad1e9ea9f0b7934ced981da6db7477107c6d9596596bcf83371f585d063a571a41d30054ec463521acb54e78e391a6cc03552978268255bb5c21a5f854171dd77d3891ac1d3242c8f38a3ea7d1dc9a7a28e0819dca5c836b9fbe83b53b477c2dcb2d3f21f94191384e664f9f383f384cfc1dd4aca8d08738e7f4367e4437dc43104e3b52cfc2ceb36bae1e8f471fb9d2ffacd2807c0dde6216a4f8cd9c37db04af5d8ee20f33f01ccd7b11185bc3b134d179bd702cc5e4bf76ca692a8a5e3d53026065a15bd9b4cc6d3afc787dd7657370990322de486d31c44b8b18233c86c0c2b504e431dbdd56cf03077a12726c5d5960e292dac0fd3b338887a975faeaf10fc3b51da1a259d1fbbed5f6a2c6232c44fac240b29a76085e53ec7feb2394747d911376df2f2420833056fa7b0f27f1d3fd4dc7b6bf849239a7176fb56daf425178600b90f6155e0ba57d65b8a8ce1a80966eaf70ffc0cb5409fa7f37e3cf90306ef5046d21d27a844778751fcb30c4e759e54cb2934a5a6f92eea7a8e3806ea8fdb01367c0f662b2462ba5b884509dcc18257da7b983f9f38b31d8c1090f1f7d2c14bef528256a40cc1f912a51978aaaa64272674bb9f22a2914f9945fb18657b5f6ce3adf3826af71a65b8033f077819e6c38702246d087f28e36162f7bb54193dcbd0ba93e57fa27b2b7ea65ac31c356b2a1316e967e94cd6a9f2c0597d2dec80799f54278e852365deb5b1ab1a8f3087676bae8c563fc7291f6b2c4672d64e003013e8bcfa2560ff2ea9690b6e46755fc55c724e4fa82ab0a135aeeab15de8410c054c338b3f95f5cd206d37b2d64a8ff487912ef2acaec4f1b1faa14b93788be5a06ed6446532b46222bb937cfbc4d28e25f7783c7bbeb6b061e29747e338ae665da6287f4050359d9490cb2f12034abddfbb2e346fffacc50ec56f3922b71fa1d484e810ae97354af6ff73731f56c5416d671fc1e51695a7f4d5474e3541dba89496e36b59c3daf156a90a08a3c858c46f4b6df4aeef2dedc3d8da7ae10f73c15055321e54f3cd2e6e0651710726f82e20ed79c5b6152bcc516bf42b7737762137629e0eae992311d27e7c6c7270245affba8c1f31b94fdf68aa134f0f3158729e4bbf1e669efdb063e968d5f9317b39b5f95647a0aed3fd2ddbfdc9d94a9a612d8fa9dc4fe6676abc85797f1851d781ef0a472908c4c98ef449ddeb7920d699091affc31bd4c9e287f46463eff082377c5c7540a937619f0b7ae6697258b32064415e25fb5b0c46a8f515f0d13e38ef29648902b81ba9f7a59e48623ecaaa558e802191b93363c16a3c103616fe7b34e4c0927120c1f2112365a76c4c8befba74fc75c47b660a6846288d8b977c54605ab4f908f307a42811ce6ed48f23805ba8c6be0efb6ecadec355c0c8ab447e0d6d2ac293df4997ac9562dd2d7102f17d62b2d71656ba7c227099d6a5fcac16a0abb1b1066023684c06391fe63cac18eb96b7d445acec8c0ea27345be1defb78d8eca1dbe327d6f5a43ad03d6316da932e213aeb93fceb270c8403078a5a78d55876d42e4ad84cb88345438b6c89d27f7ecef8a31b83260cdffe40db8967a99da039ece8349d6c35e059889ca6481cc0982afa227d160e629c99bcc50a8cde26a17b137bcd5e33d37bd385e681704f1eaf8eb6e0e3df9a089a1bee043c537da7dd5a8bfb66fd73f4817abdf667040ca688de8eb5cdb311a0bccbfee228a73ba9f16cdc010f7000b80ed6381c097af4252866020d4d961881e28c6a308c80481006a4feb03f8c6c0d0caed8ffb8406ce03a80b5f8bbe91141dab5d8af828abf62622b4d891f9bf174358f939a5136cb3e13cf56f04a5edb68aa734657f93bd4774059060923aa95123c958994b5793c6bda3517fcacb3d3fffc75b470c1e4f42f742273882285671e8b2e55de0846ecba8392277dd15b52a8885c0f5e69e9efab8cf5873d47e0451a638bb5760fd7baab045ccf62aa94a8c9ffe0fcf2781b3093e79bee5ac39b08340b3ab816f8077a728ddec9b82217c1048f97ba096ede773866d36809d383539ffa9152d480420a41fb09cdafa0848c52462abe1483cf3b0e1a93a5534eee053a036d6c03f748068e19de1b8d3cf32e520eeb015387288082eb3b419501b3a2c3563c2682e8a3f92fb07a8431b85ab0b51c1f1f9a39cb4670eccbfdbc2ad646510b1b2bf11c31df1bbf661a83fe5bb524bd0ac8ffc5bb5d584915bbefd48ae2b75cd540560e045f75ad913710777831d78eb7b65caeea8267dd393b53bd94977facfab03bac074b4992dbb04d2a2cdc3c380ff32e423ac60e367f4445dfa06a4ecf08778f9fd454dc55aea94de14b070b3b7b828ec18f09e541bd89d43b240c6ba13c4e51548bdfdd5b66229d9646178aab33a47696dba88de8e21bea9641cc846335082ca7bc2a23a20713c6354b9595419f13adabdbceabd010bed497e25b8e5eff11b32b2b677b399076d02cdce9b859bb2f0815df669bc592fbf52e05b75fa3852671585468ecd03e58dad411c62f234e3a4cf69e3d76c9a43a656c55d4ad933d70cd12764e0aac0d1bde23120527fa638e64d292f8a769ac06c9e57fe7c6909bb8ff4e78e2ece3fec29f0a50c4b6c09f37935ca8834303982f0a91d42b6a0a669bce82eaaf3f7064dbdeb5a0e6204198fa56f5c6fb25e2134cc0fe457904184c1d80b5757c59bba9fdfee354a0646f82273d492edb511dc890932e715c249030ef5f7aca5fef84753bd7b57acaa46529f40b78da81031c6469a6114b31ba6100c18ecfc03f5afef0382279154efaf8ac79b56dbce39b1caf9f7726e38c1d3e20d9e023a651796e1882366d990cc937469ac8cd32f906c89d37870f731328aa73c56ab71139fcb7c9e8efc81c50ec9d633c9c9bf1681cfcff9cfe88575c599341441b84b600d9868c9efb520851b1a492829626616f6861a39d0faa90b6e5f0651d305a563015f2b8dba1632a9446d8848b7aea66fb77a832faad1532e400a212d4e395bef4b1ccd2dcaa762846f8507046874f24f061f1a8e8fcaf9f3508d8d5d9b5de91fa188bad6522bc44a95e1b01cc27899c430adfcffc6185af30fdc5f0920362629150bcefe21deb812e7a25f16fd269525fd5789e380cc7abc846c16d3c6cc96c50927708267a8b0055f833b6a543d8ca5612ddd632718e1d69b0a2f7f37979dbdff322fbdf18af4d09ea68e2a956626b56a4f2f796f10b9840ace5ca3d8eb48cd71efc3c007cad32bb04da7445ace428942f98980cc624dcd247c63ad9f85de196485908376f299b9fb7a6d02f92abe8a4f91b511d4b5cd360db26355a968eac0906c5604a7a25a7848fe1808c1d8afd6f3695c319466e5030f93c099e6eef53e149a20dd8bbcfe808328767bbc046d2862953d7499db90dd413803580516a5960eb07b06ac8274d9e1847c69a6905862655050e6f93cde9b9f356383c0c2cb38166939a7029eda322162e2c720cd58fd42acd2e4202cb34c5cd6de83ded2b072d82a1609e4bdd25b831a430c91cda3af333913c1d7478d9f9c75463733c045668f5eb58392a367ffad6d42ed9e4b247a1dcfdf8e09d015baaaef47fa160671877e44ed449676c90511fa4dbd834a59930333219c5b3e5f9c85ff4461ad3cba7b25e9d15f0e1a1c243b26fab12a141f363f86fbff63509629114b1547243e100476bc2f8ae973b0521e3da76714762ff73764d6af4818b32f4e20b42f85bc52383416371cd04e7682c85f2e517f55857673f96ca7c5b302959a4d90a538dee1b1290c596e2fefaea607cf4df4189b92949732fc18410181bfad6c83e5f2ce4a0c157427babd552b0715a767e5eebc1d1925c6be820c6dc4</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PyTorchå¸¸ç”¨ä»£ç æ®µåˆé›†</title>
    <link href="/2022/05/10/torch/"/>
    <url>/2022/05/10/torch/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>PyTorchæœ€å¥½çš„èµ„æ–™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚æœ¬æ–‡æ˜¯PyTorchå¸¸ç”¨ä»£ç æ®µï¼Œåœ¨å‚è€ƒèµ„æ–™çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›ä¿®è¡¥ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220511003116457.png" /></p><span id="more"></span><h1 id="åŸºæœ¬é…ç½®"><strong>åŸºæœ¬é…ç½®</strong></h1><h3 id="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"><strong>å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">import</span> torchvision<span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>version<span class="token punctuation">.</span>cuda<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>get_device_name<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¯å¤ç°æ€§"><strong>å¯å¤ç°æ€§</strong></h3><p>åœ¨ç¡¬ä»¶è®¾å¤‡ï¼ˆCPUã€GPUï¼‰ä¸åŒæ—¶ï¼Œå®Œå…¨çš„å¯å¤ç°æ€§æ— æ³•ä¿è¯ï¼Œå³ä½¿éšæœºç§å­ç›¸åŒã€‚ä½†æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œåº”è¯¥ä¿è¯å¯å¤ç°æ€§ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œåœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™å›ºå®štorchçš„éšæœºç§å­ï¼ŒåŒæ—¶ä¹ŸæŠŠnumpyçš„éšæœºç§å­å›ºå®šã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>manual_seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>manual_seed_all<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>deterministic <span class="token operator">=</span> <span class="token boolean">True</span>torch<span class="token punctuation">.</span>backends<span class="token punctuation">.</span>cudnn<span class="token punctuation">.</span>benchmark <span class="token operator">=</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ˜¾å¡è®¾ç½®</p><p>å¦‚æœåªéœ€è¦ä¸€å¼ æ˜¾å¡</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Device configuration</span>device <span class="token operator">=</span> torch<span class="token punctuation">.</span>device<span class="token punctuation">(</span><span class="token string">'cuda'</span> <span class="token keyword">if</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'cpu'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å¦‚æœéœ€è¦æŒ‡å®šå¤šå¼ æ˜¾å¡ï¼Œæ¯”å¦‚0ï¼Œ1å·æ˜¾å¡ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> osos<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">'CUDA_VISIBLE_DEVICES'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'0,1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œè¿è¡Œä»£ç æ—¶è®¾ç½®æ˜¾å¡ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0,1</span> python train.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ¸…é™¤æ˜¾å­˜</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>empty_cache<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å‘½ä»¤è¡Œé‡ç½®GPUçš„æŒ‡ä»¤</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi --gpu-reset -i <span class="token punctuation">[</span>gpu_id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h1 id="å¼ é‡tensorå¤„ç†"><strong>å¼ é‡(Tensor)å¤„ç†</strong></h1><h3 id="å¼ é‡çš„æ•°æ®ç±»å‹"><strong>å¼ é‡çš„æ•°æ®ç±»å‹</strong></h3><p>PyTorchæœ‰9ç§CPUå¼ é‡ç±»å‹å’Œ9ç§GPUå¼ é‡ç±»å‹ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/640" /></p><h3 id="å¼ é‡åŸºæœ¬ä¿¡æ¯"><strong>å¼ é‡åŸºæœ¬ä¿¡æ¯</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®ç±»å‹</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å¼ é‡çš„shapeï¼Œæ˜¯ä¸ªå…ƒç»„</span><span class="token keyword">print</span><span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># ç»´åº¦çš„æ•°é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å‘½åå¼ é‡"><strong>å‘½åå¼ é‡</strong></h3><p>å¼ é‡å‘½åæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç»´åº¦çš„åå­—æ¥åšç´¢å¼•æˆ–å…¶ä»–æ“ä½œï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§ã€æ˜“ç”¨æ€§ï¼Œé˜²æ­¢å‡ºé”™ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨PyTorch 1.3ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨æ³¨é‡Š</span><span class="token comment"># Tensor[N, C, H, W]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># PyTorch 1.3ä¹‹å</span>NCHW <span class="token operator">=</span> <span class="token punctuation">[</span>â€˜Nâ€™<span class="token punctuation">,</span> â€˜Câ€™<span class="token punctuation">,</span> â€˜Hâ€™<span class="token punctuation">,</span> â€˜Wâ€™<span class="token punctuation">]</span>images <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> names<span class="token operator">=</span>NCHW<span class="token punctuation">)</span>images<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>images<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># ä¹Ÿå¯ä»¥è¿™ä¹ˆè®¾ç½®</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>names<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨align_toå¯ä»¥å¯¹ç»´åº¦æ–¹ä¾¿åœ°æ’åº</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>align_to<span class="token punctuation">(</span><span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ•°æ®ç±»å‹è½¬æ¢">æ•°æ®ç±»å‹è½¬æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è®¾ç½®é»˜è®¤ç±»å‹ï¼Œpytorchä¸­çš„FloatTensorè¿œè¿œå¿«äºDoubleTensor</span>torch<span class="token punctuation">.</span>set_default_tensor_type<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>FloatTensor<span class="token punctuation">)</span><span class="token comment"># ç±»å‹è½¬æ¢</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="torch.tensorä¸np.ndarrayè½¬æ¢"><strong>torch.Tensorä¸np.ndarrayè½¬æ¢</strong></h3><p>é™¤äº†CharTensorï¼Œå…¶ä»–æ‰€æœ‰CPUä¸Šçš„å¼ é‡éƒ½æ”¯æŒè½¬æ¢ä¸ºnumpyæ ¼å¼ç„¶åå†è½¬æ¢å›æ¥ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">ndarray <span class="token operator">=</span> tensor<span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If ndarray has negative stride.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3id="torch.tensorä¸pil.imageè½¬æ¢"><strong>Torch.tensorä¸PIL.Imageè½¬æ¢</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸­çš„å¼ é‡é»˜è®¤é‡‡ç”¨[N, C, H, W]çš„é¡ºåºï¼Œå¹¶ä¸”æ•°æ®èŒƒå›´åœ¨[0,1]ï¼Œéœ€è¦è¿›è¡Œè½¬ç½®å’Œè§„èŒƒåŒ–</span><span class="token comment"># torch.Tensor -> PIL.Image</span>image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>clamp<span class="token punctuation">(</span>tensor<span class="token operator">*</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span>byte<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>image <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_pil_image<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>  <span class="token comment"># Equivalently way</span><span class="token comment"># PIL.Image -> torch.Tensor</span>path <span class="token operator">=</span> <span class="token string">r'./figure.jpg'</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permute<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255</span>tensor <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>to_tensor<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#Equivalently way</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="np.ndarrayä¸pil.imageçš„è½¬æ¢">np.ndarrayä¸PIL.Imageçš„è½¬æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">image <span class="token operator">=</span> PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>ndarray<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">)</span>ndarray <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>PIL<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3id="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"><strong>ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">value <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å¼ é‡å½¢å˜"><strong>å¼ é‡å½¢å˜</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åœ¨å°†å·ç§¯å±‚è¾“å…¥å…¨è¿æ¥å±‚çš„æƒ…å†µä¸‹é€šå¸¸éœ€è¦å¯¹å¼ é‡åšå½¢å˜å¤„ç†ï¼Œ</span><span class="token comment"># ç›¸æ¯”torch.viewï¼Œtorch.reshapeå¯ä»¥è‡ªåŠ¨å¤„ç†è¾“å…¥å¼ é‡ä¸è¿ç»­çš„æƒ…å†µã€‚</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> shape<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ‰“ä¹±é¡ºåº"><strong>æ‰“ä¹±é¡ºåº</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span>torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># æ‰“ä¹±ç¬¬ä¸€ä¸ªç»´åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="æ°´å¹³ç¿»è½¬"><strong>æ°´å¹³ç¿»è½¬</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchä¸æ”¯æŒtensor[::-1]è¿™æ ·çš„è´Ÿæ­¥é•¿æ“ä½œï¼Œæ°´å¹³ç¿»è½¬å¯ä»¥é€šè¿‡å¼ é‡ç´¢å¼•å®ç°</span><span class="token comment"># å‡è®¾å¼ é‡çš„ç»´åº¦ä¸º[N, D, H, W].</span>tensor <span class="token operator">=</span> tensor<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span>torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="å¤åˆ¶å¼ é‡"><strong>å¤åˆ¶å¼ é‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Operation                 |  New/Shared memory | Still in computation graph |</span>tensor<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># |        New         |          Yes               |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># |      Shared        |          No                |</span>tensor<span class="token punctuation">.</span>detach<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># |        New         |          No                | </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¼ é‡æ‹¼æ¥"><strong>å¼ é‡æ‹¼æ¥</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">'''æ³¨æ„torch.catå’Œtorch.stackçš„åŒºåˆ«åœ¨äºtorch.catæ²¿ç€ç»™å®šçš„ç»´åº¦æ‹¼æ¥ï¼Œè€Œtorch.stackä¼šæ–°å¢ä¸€ç»´ã€‚ä¾‹å¦‚å½“å‚æ•°æ˜¯3ä¸ª10x5çš„å¼ é‡ï¼Œtorch.catçš„ç»“æœæ˜¯30x5çš„å¼ é‡ï¼Œè€Œtorch.stackçš„ç»“æœæ˜¯3x10x5çš„å¼ é‡ã€‚'''</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>stack<span class="token punctuation">(</span>list_of_tensors<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "><strong>å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytorchçš„æ ‡è®°é»˜è®¤ä»0å¼€å§‹</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>N <span class="token operator">=</span> tensor<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>num_classes <span class="token operator">=</span> <span class="token number">4</span>one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span>one_hot<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> src<span class="token operator">=</span>torch<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>N<span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾—åˆ°éé›¶å…ƒç´ "><strong>å¾—åˆ°éé›¶å…ƒç´ </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span>               <span class="token comment"># index of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token comment"># index of zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment"># number of non-zero elements</span>torch<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>tensor <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># number of zero elements</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"><strong>åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>allclose<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>  <span class="token comment"># float tensor</span>torch<span class="token punctuation">.</span>equal<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span>     <span class="token comment"># int tensor</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="å¼ é‡æ‰©å±•"><strong>å¼ é‡æ‰©å±•</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Expand tensor of shape 64*512 to shape 64*512*7*7.</span>tensor <span class="token operator">=</span> torch<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">)</span>torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>expand<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="çŸ©é˜µä¹˜æ³•"><strong>çŸ©é˜µä¹˜æ³•</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Matrix multiplcation: (m*n) * (n*p) * -> (m*p).</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>mm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Batch matrix multiplication: (b*m*n) * (b*n*p) -> (b*m*p)</span>result <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>tensor1<span class="token punctuation">,</span> tensor2<span class="token punctuation">)</span><span class="token comment"># Element-wise multiplication.</span>result <span class="token operator">=</span> tensor1 <span class="token operator">*</span> tensor2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"><strong>è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»</strong></h3><p>åˆ©ç”¨broadcastæœºåˆ¶</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">dist <span class="token operator">=</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>X1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">-</span> X2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h1 id="æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"><strong>æ¨¡å‹å®šä¹‰å’Œæ“ä½œ</strong></h1><h3 id="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹">ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># convolutional neural network (2 convolutional layers)</span><span class="token keyword">class</span> <span class="token class-name">ConvNet</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num_classes<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>ConvNet<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer1 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>layer2 <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>            nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>ReLU<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            nn<span class="token punctuation">.</span>MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">32</span><span class="token punctuation">,</span> num_classes<span class="token punctuation">)</span>      <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer1<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>layer2<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        out <span class="token operator">=</span> out<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>out<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        out <span class="token operator">=</span> self<span class="token punctuation">.</span>fc<span class="token punctuation">(</span>out<span class="token punctuation">)</span>        <span class="token keyword">return</span> outmodel <span class="token operator">=</span> ConvNet<span class="token punctuation">(</span>num_classes<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å·ç§¯å±‚çš„è®¡ç®—å’Œå±•ç¤ºå¯ä»¥ç”¨è¿™ä¸ªç½‘ç«™è¾…åŠ©ã€‚</p><p>https://ezyang.github.io/convolution-visualizer/index.html</p><h3 id="åŒçº¿æ€§æ±‡åˆbilinear-pooling">åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> H <span class="token operator">*</span> W<span class="token punctuation">)</span>                        <span class="token comment"># Assume X has shape N*D*H*W</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>bmm<span class="token punctuation">(</span>X<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>H <span class="token operator">*</span> W<span class="token punctuation">)</span>  <span class="token comment"># Bilinear pooling</span><span class="token keyword">assert</span> X<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D<span class="token punctuation">,</span> D<span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token punctuation">(</span>N<span class="token punctuation">,</span> D <span class="token operator">*</span> D<span class="token punctuation">)</span><span class="token punctuation">)</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">*</span> torch<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token comment"># Signed-sqrt normalization</span>X <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>normalize<span class="token punctuation">(</span>X<span class="token punctuation">)</span>                  <span class="token comment"># L2 normalization</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¤šå¡åŒæ­¥-bnbatch-normalization"><strong>å¤šå¡åŒæ­¥ BNï¼ˆBatchnormalizationï¼‰</strong></h3><p>å½“ä½¿ç”¨ torch.nn.DataParallel å°†ä»£ç è¿è¡Œåœ¨å¤šå¼  GPU å¡ä¸Šæ—¶ï¼ŒPyTorch çš„BN å±‚é»˜è®¤æ“ä½œæ˜¯å„å¡ä¸Šæ•°æ®ç‹¬ç«‹åœ°è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®ï¼ŒåŒæ­¥ BNä½¿ç”¨æ‰€æœ‰å¡ä¸Šçš„æ•°æ®ä¸€èµ·è®¡ç®— BN å±‚çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œç¼“è§£äº†å½“æ‰¹é‡å¤§å°ï¼ˆbatchsizeï¼‰æ¯”è¾ƒå°æ—¶å¯¹å‡å€¼å’Œæ ‡å‡†å·®ä¼°è®¡ä¸å‡†çš„æƒ…å†µï¼Œæ˜¯åœ¨ç›®æ ‡æ£€æµ‹ç­‰ä»»åŠ¡ä¸­ä¸€ä¸ªæœ‰æ•ˆçš„æå‡æ€§èƒ½çš„æŠ€å·§ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>num_features<span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>   affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3id="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰bnå±‚æ”¹ä¸ºåŒæ­¥bnå±‚">å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">convertBNtoSyncBN</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> process_group<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''Recursively replace all BN layers to SyncBN layer.    Args:        module[torch.nn.Module]. Network    '''</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>batchnorm<span class="token punctuation">.</span>_BatchNorm<span class="token punctuation">)</span><span class="token punctuation">:</span>        sync_bn <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>SyncBatchNorm<span class="token punctuation">(</span>module<span class="token punctuation">.</span>num_features<span class="token punctuation">,</span> module<span class="token punctuation">.</span>eps<span class="token punctuation">,</span> module<span class="token punctuation">.</span>momentum<span class="token punctuation">,</span>                                          module<span class="token punctuation">.</span>affine<span class="token punctuation">,</span> module<span class="token punctuation">.</span>track_running_stats<span class="token punctuation">,</span> process_group<span class="token punctuation">)</span>        sync_bn<span class="token punctuation">.</span>running_mean <span class="token operator">=</span> module<span class="token punctuation">.</span>running_mean        sync_bn<span class="token punctuation">.</span>running_var <span class="token operator">=</span> module<span class="token punctuation">.</span>running_var        <span class="token keyword">if</span> module<span class="token punctuation">.</span>affine<span class="token punctuation">:</span>            sync_bn<span class="token punctuation">.</span>weight <span class="token operator">=</span> module<span class="token punctuation">.</span>weight<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>            sync_bn<span class="token punctuation">.</span>bias <span class="token operator">=</span> module<span class="token punctuation">.</span>bias<span class="token punctuation">.</span>clone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>detach<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> sync_bn    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> name<span class="token punctuation">,</span> child_module <span class="token keyword">in</span> module<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token builtin">setattr</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=</span> convert_syncbn_model<span class="token punctuation">(</span>child_module<span class="token punctuation">,</span> process_group<span class="token operator">=</span>process_group<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> module<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ç±»ä¼¼-bn-æ»‘åŠ¨å¹³å‡"><strong>ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡</strong></h3><p>å¦‚æœè¦å®ç°ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡çš„æ“ä½œï¼Œåœ¨ forwardå‡½æ•°ä¸­è¦ä½¿ç”¨åŸåœ°ï¼ˆinplaceï¼‰æ“ä½œç»™æ»‘åŠ¨å¹³å‡èµ‹å€¼ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">BN</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>register_buffer<span class="token punctuation">(</span><span class="token string">'running_mean'</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>num_features<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        self<span class="token punctuation">.</span>running_mean <span class="token operator">+=</span> momentum <span class="token operator">*</span> <span class="token punctuation">(</span>current <span class="token operator">-</span> self<span class="token punctuation">.</span>running_mean<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"><strong>è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">num_parameters <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>numel<span class="token punctuation">(</span>parameter<span class="token punctuation">)</span> <span class="token keyword">for</span> parameter <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"><strong>æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°</strong></h3><p>å¯ä»¥é€šè¿‡model.state_dict()æˆ–è€…model.named_parameters()å‡½æ•°æŸ¥çœ‹ç°åœ¨çš„å…¨éƒ¨å¯è®­ç»ƒå‚æ•°ï¼ˆåŒ…æ‹¬é€šè¿‡ç»§æ‰¿å¾—åˆ°çš„çˆ¶ç±»ä¸­çš„å‚æ•°ï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">params <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> param<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name2<span class="token punctuation">,</span> param2<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param2<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'----------------------------------------------------'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>name1<span class="token punctuation">,</span> param1<span class="token punctuation">)</span> <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>param1<span class="token punctuation">.</span>grad<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="æ¨¡å‹å¯è§†åŒ–ä½¿ç”¨pytorchviz"><strong>æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰</strong></h3><p>https://github.com/szagoruyko/pytorchviz</p><h3id="ç±»ä¼¼-keras-çš„-model.summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ä½¿ç”¨pytorch-summary"><strong>ç±»ä¼¼Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼ˆä½¿ç”¨pytorch-summaryï¼‰</strong></h3><p>https://github.com/sksq96/pytorch-summary</p><p><strong>æ¨¡å‹æƒé‡åˆå§‹åŒ–</strong></p><p>æ³¨æ„ model.modules() å’Œ model.children() çš„åŒºåˆ«ï¼šmodel.modules()ä¼šè¿­ä»£åœ°éå†æ¨¡å‹çš„æ‰€æœ‰å­å±‚ï¼Œè€Œ model.children()åªä¼šéå†æ¨¡å‹ä¸‹çš„ä¸€å±‚ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Common practise for initialization.</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>kaiming_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'fan_out'</span><span class="token punctuation">,</span>                                      nonlinearity<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>BatchNorm2d<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">)</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">,</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Linear<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>xavier_normal_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>        <span class="token keyword">if</span> layer<span class="token punctuation">.</span>bias <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>constant_<span class="token punctuation">(</span>layer<span class="token punctuation">.</span>bias<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token comment"># Initialization with given tensor.</span>layer<span class="token punctuation">.</span>weight <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>tensor<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"><strong>æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚</strong></h3><p>modules()ä¼šè¿”å›æ¨¡å‹ä¸­æ‰€æœ‰æ¨¡å—çš„è¿­ä»£å™¨ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®åˆ°æœ€å†…å±‚ï¼Œæ¯”å¦‚self.layer1.conv1è¿™ä¸ªæ¨¡å—ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å®ƒä»¬ç›¸å¯¹åº”çš„æ˜¯name_children()å±æ€§ä»¥åŠnamed_modules(),è¿™ä¸¤ä¸ªä¸ä»…ä¼šè¿”å›æ¨¡å—çš„è¿­ä»£å™¨ï¼Œè¿˜ä¼šè¿”å›ç½‘ç»œå±‚çš„åå­—ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å–æ¨¡å‹ä¸­çš„å‰ä¸¤å±‚</span>new_model <span class="token operator">=</span> nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># å¦‚æœå¸Œæœ›æå–å‡ºæ¨¡å‹ä¸­çš„æ‰€æœ‰å·ç§¯å±‚ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·æ“ä½œï¼š</span><span class="token keyword">for</span> layer <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_modules<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nn<span class="token punctuation">.</span>Conv2d<span class="token punctuation">)</span><span class="token punctuation">:</span>         conv_model<span class="token punctuation">.</span>add_module<span class="token punctuation">(</span>layer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>layer<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"><strong>éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹</strong></h3><p>æ³¨æ„å¦‚æœä¿å­˜çš„æ¨¡å‹æ˜¯ torch.nn.DataParallelï¼Œåˆ™å½“å‰çš„æ¨¡å‹ä¹Ÿéœ€è¦æ˜¯</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å°†åœ¨-gpu-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-cpu">å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°CPU</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pth'</span><span class="token punctuation">,</span> map_location<span class="token operator">=</span><span class="token string">'cpu'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2id="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"><strong>å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹</strong></h2><p>æ¨¡å‹å¯¼å…¥å‚æ•°æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å‹ç»“æ„ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥å¯¼å…¥å‚æ•°ä¼šæŠ¥é”™ã€‚ç”¨ä¸‹é¢æ–¹æ³•å¯ä»¥æŠŠå¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒçš„éƒ¨åˆ†å¯¼å…¥åˆ°æ–°çš„æ¨¡å‹ä¸­ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># model_newä»£è¡¨æ–°çš„æ¨¡å‹</span><span class="token comment"># model_savedä»£è¡¨å…¶ä»–æ¨¡å‹ï¼Œæ¯”å¦‚ç”¨torch.loadå¯¼å…¥çš„å·²ä¿å­˜çš„æ¨¡å‹</span>model_new_dict <span class="token operator">=</span> model_new<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>model_common_dict <span class="token operator">=</span> <span class="token punctuation">&#123;</span>k<span class="token punctuation">:</span>v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> model_saved<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> k <span class="token keyword">in</span> model_new_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>model_new_dict<span class="token punctuation">.</span>update<span class="token punctuation">(</span>model_common_dict<span class="token punctuation">)</span>model_new<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>model_new_dict<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æ•°æ®å¤„ç†"><strong>æ•°æ®å¤„ç†</strong></h1><h3 id="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®">è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> cv2<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>data <span class="token keyword">import</span> Dataset<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">def</span> <span class="token function">compute_mean_and_std</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># è¾“å…¥PyTorchçš„datasetï¼Œè¾“å‡ºå‡å€¼å’Œæ ‡å‡†å·®</span>    mean_r <span class="token operator">=</span> <span class="token number">0</span>    mean_g <span class="token operator">=</span> <span class="token number">0</span>    mean_b <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span> <span class="token comment"># change PIL Image to numpy array</span>        mean_r <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_g <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        mean_b <span class="token operator">+=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    mean_r <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_g <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    mean_b <span class="token operator">/=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>    diff_r <span class="token operator">=</span> <span class="token number">0</span>    diff_g <span class="token operator">=</span> <span class="token number">0</span>    diff_b <span class="token operator">=</span> <span class="token number">0</span>    N <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> img<span class="token punctuation">,</span> _ <span class="token keyword">in</span> dataset<span class="token punctuation">:</span>        img <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>img<span class="token punctuation">)</span>        diff_r <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_r<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_g <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_g<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        diff_b <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> mean_b<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        N <span class="token operator">+=</span> np<span class="token punctuation">.</span>prod<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span>    std_r <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_r <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_g <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_g <span class="token operator">/</span> N<span class="token punctuation">)</span>    std_b <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>diff_b <span class="token operator">/</span> N<span class="token punctuation">)</span>    mean <span class="token operator">=</span> <span class="token punctuation">(</span>mean_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> mean_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    std <span class="token operator">=</span> <span class="token punctuation">(</span>std_r<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_g<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">,</span> std_b<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> mean<span class="token punctuation">,</span> std<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯">å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2video <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>mp4_path<span class="token punctuation">)</span>height <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span>width <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span>num_frames <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_COUNT<span class="token punctuation">)</span><span class="token punctuation">)</span>fps <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">)</span><span class="token punctuation">)</span>video<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="tsn-æ¯æ®µsegmenté‡‡æ ·ä¸€å¸§è§†é¢‘">TSNæ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">K <span class="token operator">=</span> self<span class="token punctuation">.</span>_num_segments<span class="token keyword">if</span> is_train<span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Random index for each segment.</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames <span class="token operator">//</span> K<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>randint<span class="token punctuation">(</span>            high<span class="token operator">=</span>num_frames<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">long</span><span class="token punctuation">)</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>            torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> frame_indices<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> num_frames <span class="token operator">></span> K<span class="token punctuation">:</span>        <span class="token comment"># Middle index for each segment.</span>        frame_indices <span class="token operator">=</span> num_frames <span class="token operator">/</span> K <span class="token operator">//</span> <span class="token number">2</span>        frame_indices <span class="token operator">+=</span> num_frames <span class="token operator">//</span> K <span class="token operator">*</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        frame_indices <span class="token operator">=</span> torch<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cat<span class="token punctuation">(</span><span class="token punctuation">(</span>                                        torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>num_frames<span class="token punctuation">)</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>K <span class="token operator">-</span> num_frames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">assert</span> frame_indices<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>K<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token punctuation">[</span>frame_indices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"><strong>å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†</strong></h3><p>å…¶ä¸­ ToTensor æ“ä½œä¼šå°† PIL.Image æˆ–å½¢çŠ¶ä¸º HÃ—WÃ—Dï¼Œæ•°å€¼èŒƒå›´ä¸º [0, 255]çš„ np.ndarray è½¬æ¢ä¸ºå½¢çŠ¶ä¸º DÃ—HÃ—Wï¼Œæ•°å€¼èŒƒå›´ä¸º [0.0, 1.0] çš„torch.Tensorã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">train_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomResizedCrop<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">224</span><span class="token punctuation">,</span>                                             scale<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.08</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>RandomHorizontalFlip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> val_transform <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Resize<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>CenterCrop<span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    torchvision<span class="token punctuation">.</span>transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.485</span><span class="token punctuation">,</span> <span class="token number">0.456</span><span class="token punctuation">,</span> <span class="token number">0.406</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                     std<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.229</span><span class="token punctuation">,</span> <span class="token number">0.224</span><span class="token punctuation">,</span> <span class="token number">0.225</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"><strong>æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•</strong></h1><h3 id="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "><strong>åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Loss and optimizer</span>criterion <span class="token operator">=</span> nn<span class="token punctuation">.</span>CrossEntropyLoss<span class="token punctuation">(</span><span class="token punctuation">)</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>Adam<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span>learning_rate<span class="token punctuation">)</span><span class="token comment"># Train the model</span>total_step <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token punctuation">,</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> labels<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>train_loader<span class="token punctuation">)</span><span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>              <span class="token comment"># Forward pass</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        loss <span class="token operator">=</span> criterion<span class="token punctuation">(</span>outputs<span class="token punctuation">,</span> labels<span class="token punctuation">)</span>              <span class="token comment"># Backward and optimizer</span>        optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>        loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>        optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Epoch: [&#123;&#125;/&#123;&#125;], Step: [&#123;&#125;/&#123;&#125;], Loss: &#123;&#125;'</span>                  <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>epoch<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> num_epochs<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> total_step<span class="token punctuation">,</span> loss<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "><strong>åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç </strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Test the model</span>model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># eval mode(batch norm uses moving mean/variance </span>              <span class="token comment">#instead of mini-batch mean/variance)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    correct <span class="token operator">=</span> <span class="token number">0</span>    total <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> test_loader<span class="token punctuation">:</span>        images <span class="token operator">=</span> images<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>        outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>        _<span class="token punctuation">,</span> predicted <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>outputs<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        total <span class="token operator">+=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        correct <span class="token operator">+=</span> <span class="token punctuation">(</span>predicted <span class="token operator">==</span> labels<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Test accuracy of the model on the 10000 test images: &#123;&#125; %'</span>          <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> correct <span class="token operator">/</span> total<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è‡ªå®šä¹‰loss"><strong>è‡ªå®šä¹‰loss</strong></h3><p>ç»§æ‰¿torch.nn.Moduleç±»å†™è‡ªå·±çš„lossã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyLoss</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Moudle<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>MyLoss<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> loss<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ ‡ç­¾å¹³æ»‘label-smoothing"><strong>æ ‡ç­¾å¹³æ»‘ï¼ˆlabelsmoothingï¼‰</strong></h3><p>å†™ä¸€ä¸ªlabel_smoothing.pyçš„æ–‡ä»¶ï¼Œç„¶ååœ¨è®­ç»ƒä»£ç é‡Œå¼•ç”¨ï¼Œç”¨LSRä»£æ›¿äº¤å‰ç†µæŸå¤±å³å¯ã€‚label_smoothing.pyå†…å®¹å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">class</span> <span class="token class-name">LSR</span><span class="token punctuation">(</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> reduction<span class="token operator">=</span><span class="token string">'mean'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>log_softmax <span class="token operator">=</span> nn<span class="token punctuation">.</span>LogSoftmax<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>e <span class="token operator">=</span> e        self<span class="token punctuation">.</span>reduction <span class="token operator">=</span> reduction      <span class="token keyword">def</span> <span class="token function">_one_hot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> labels<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""            Convert labels to one hot vectors              Args:            labels: torch tensor in format [label1, label2, label3, ...]            classes: int, number of classes            value: label value in one hot vector, default to 1              Returns:            return one hot format labels in shape [batchsize, classes]        """</span>        one_hot <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> classes<span class="token punctuation">)</span>        <span class="token comment">#labels and value_added  size must match</span>        labels <span class="token operator">=</span> labels<span class="token punctuation">.</span>view<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        value_added <span class="token operator">=</span> torch<span class="token punctuation">.</span>Tensor<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fill_<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        value_added <span class="token operator">=</span> value_added<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot <span class="token operator">=</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>device<span class="token punctuation">)</span>        one_hot<span class="token punctuation">.</span>scatter_add_<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> labels<span class="token punctuation">,</span> value_added<span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot    <span class="token keyword">def</span> <span class="token function">_smooth_label</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> smooth_factor<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""convert targets to one-hot format, and smooth        them.        Args:            target: target in form with [label1, label2, label_batchsize]            length: length of one-hot format(number of classes)            smooth_factor: smooth factor for label smooth              Returns:            smoothed labels in one hot format        """</span>        one_hot <span class="token operator">=</span> self<span class="token punctuation">.</span>_one_hot<span class="token punctuation">(</span>target<span class="token punctuation">,</span> length<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">-</span> smooth_factor<span class="token punctuation">)</span>        one_hot <span class="token operator">+=</span> smooth_factor <span class="token operator">/</span> <span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> one_hot<span class="token punctuation">.</span>to<span class="token punctuation">(</span>target<span class="token punctuation">.</span>device<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">!=</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input batchsize (&#123;&#125;) to match target batch_size(&#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Expected input tensor to have least 2 dimensions(got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> x<span class="token punctuation">.</span>dim<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Only 2 dimension tensor are implemented, (got &#123;&#125;)'</span>                    <span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        smoothed_target <span class="token operator">=</span> self<span class="token punctuation">.</span>_smooth_label<span class="token punctuation">(</span>target<span class="token punctuation">,</span> x<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>e<span class="token punctuation">)</span>        x <span class="token operator">=</span> self<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        loss <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token operator">-</span> x <span class="token operator">*</span> smoothed_target<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'none'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> loss              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'sum'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">elif</span> self<span class="token punctuation">.</span>reduction <span class="token operator">==</span> <span class="token string">'mean'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> torch<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>loss<span class="token punctuation">)</span>              <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'unrecognized option, expect reduction to be one of none, mean, sum'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æˆ–è€…ç›´æ¥åœ¨è®­ç»ƒæ–‡ä»¶é‡Œåšlabel smoothing</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    N <span class="token operator">=</span> labels<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token comment"># C is the number of classes.</span>    smoothed_labels <span class="token operator">=</span> torch<span class="token punctuation">.</span>full<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">,</span> fill_value<span class="token operator">=</span><span class="token number">0.1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>C <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    smoothed_labels<span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token operator">=</span>torch<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>labels<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>    score <span class="token operator">=</span> model<span class="token punctuation">(</span>images<span class="token punctuation">)</span>    log_prob <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>log_softmax<span class="token punctuation">(</span>score<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token operator">-</span>torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>log_prob <span class="token operator">*</span> smoothed_labels<span class="token punctuation">)</span> <span class="token operator">/</span> N    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="mixupè®­ç»ƒ"><strong>Mixupè®­ç»ƒ</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">beta_distribution <span class="token operator">=</span> torch<span class="token punctuation">.</span>distributions<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>Beta<span class="token punctuation">(</span>alpha<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span><span class="token keyword">for</span> images<span class="token punctuation">,</span> labels <span class="token keyword">in</span> train_loader<span class="token punctuation">:</span>    images<span class="token punctuation">,</span> labels <span class="token operator">=</span> images<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Mixup images and labels.</span>    lambda_ <span class="token operator">=</span> beta_distribution<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span>    index <span class="token operator">=</span> torch<span class="token punctuation">.</span>randperm<span class="token punctuation">(</span>images<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    mixed_images <span class="token operator">=</span> lambda_ <span class="token operator">*</span> images <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> images<span class="token punctuation">[</span>index<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>    label_a<span class="token punctuation">,</span> label_b <span class="token operator">=</span> labels<span class="token punctuation">,</span> labels<span class="token punctuation">[</span>index<span class="token punctuation">]</span>    <span class="token comment"># Mixup loss.</span>    scores <span class="token operator">=</span> model<span class="token punctuation">(</span>mixed_images<span class="token punctuation">)</span>    loss <span class="token operator">=</span> <span class="token punctuation">(</span>lambda_ <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_a<span class="token punctuation">)</span>            <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> lambda_<span class="token punctuation">)</span> <span class="token operator">*</span> loss_function<span class="token punctuation">(</span>scores<span class="token punctuation">,</span> label_b<span class="token punctuation">)</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="l1-æ­£åˆ™åŒ–">L1 æ­£åˆ™åŒ–</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">l1_regularization <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>L1Loss<span class="token punctuation">(</span>reduction<span class="token operator">=</span><span class="token string">'sum'</span><span class="token punctuation">)</span>loss <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment"># Standard cross-entropy loss</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    loss <span class="token operator">+=</span> torch<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">)</span>loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡weight-decay"><strong>ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweightdecayï¼‰</strong></h3><p>pytorché‡Œçš„weight decayç›¸å½“äºl2æ­£åˆ™</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">bias_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>others_list <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token keyword">for</span> name<span class="token punctuation">,</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>named_parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'bias'</span><span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> bias_list<span class="token punctuation">,</span> <span class="token string">'weight_decay'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token punctuation">&#123;</span><span class="token string">'parameters'</span><span class="token punctuation">:</span> others_list<span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ¢¯åº¦è£å‰ªgradient-clipping"><strong>æ¢¯åº¦è£å‰ªï¼ˆgradientclippingï¼‰</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>clip_grad_norm_<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> max_norm<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"><strong>å¾—åˆ°å½“å‰å­¦ä¹ ç‡</strong></h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># If there is one global learning rate (which is the common case).</span>lr <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span>optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token comment"># If there are multiple learning rates for different layers.</span>all_lr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> param_group <span class="token keyword">in</span> optimizer<span class="token punctuation">.</span>param_groups<span class="token punctuation">:</span>    all_lr<span class="token punctuation">.</span>append<span class="token punctuation">(</span>param_group<span class="token punctuation">[</span><span class="token string">'lr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å¦ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªbatchè®­ç»ƒä»£ç é‡Œï¼Œå½“å‰çš„lræ˜¯optimizer.param_groups[0]['lr']</p><h3 id="å­¦ä¹ ç‡è¡°å‡">å­¦ä¹ ç‡è¡°å‡</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Reduce learning rate when validation accuarcy plateau.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>ReduceLROnPlateau<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'max'</span><span class="token punctuation">,</span> patience<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span>val_acc<span class="token punctuation">)</span><span class="token comment"># Cosine annealing learning rate.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>CosineAnnealingLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> T_max<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token comment"># Reduce learning rate by 10 at given epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>MultiStepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> milestones<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>      train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token comment"># Learning rate warmup by 10 epochs.</span>scheduler <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler<span class="token punctuation">.</span>LambdaLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> lr_lambda<span class="token operator">=</span><span class="token keyword">lambda</span> t<span class="token punctuation">:</span> t <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    train<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    val<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"><strong>ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°</strong></h3><p>ä»1.4ç‰ˆæœ¬å¼€å§‹ï¼Œtorch.optim.lr_scheduleræ”¯æŒé“¾å¼æ›´æ–°ï¼ˆchainingï¼‰ï¼Œå³ç”¨æˆ·å¯ä»¥å®šä¹‰ä¸¤ä¸ªschedulersï¼Œå¹¶äº¤æ›¿åœ¨è®­ç»ƒä¸­ä½¿ç”¨ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> torch<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim <span class="token keyword">import</span> SGD<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>lr_scheduler <span class="token keyword">import</span> ExponentialLR<span class="token punctuation">,</span> StepLRmodel <span class="token operator">=</span> <span class="token punctuation">[</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Parameter<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> requires_grad<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> SGD<span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span>scheduler1 <span class="token operator">=</span> ExponentialLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>scheduler2 <span class="token operator">=</span> StepLR<span class="token punctuation">(</span>optimizer<span class="token punctuation">,</span> step_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>epoch<span class="token punctuation">,</span> scheduler2<span class="token punctuation">.</span>get_last_lr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler1<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>    scheduler2<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"><strong>æ¨¡å‹è®­ç»ƒå¯è§†åŒ–</strong></h3><p>PyTorchå¯ä»¥ä½¿ç”¨tensorboardæ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚</p><p>å®‰è£…å’Œè¿è¡ŒTensorBoardã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip <span class="token function">install</span> tensorboardtensorboard --logdir<span class="token operator">=</span>runs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>ä½¿ç”¨SummaryWriterç±»æ¥æ”¶é›†å’Œå¯è§†åŒ–ç›¸åº”çš„æ•°æ®ï¼Œæ”¾äº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚'Loss/train'å’Œ'Loss/test'ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>tensorboard <span class="token keyword">import</span> SummaryWriter<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npwriter <span class="token operator">=</span> SummaryWriter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> n_iter <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Loss/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/train'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span>    writer<span class="token punctuation">.</span>add_scalar<span class="token punctuation">(</span><span class="token string">'Accuracy/test'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n_iter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"><strong>ä¿å­˜ä¸åŠ è½½æ–­ç‚¹</strong></h3><p>æ³¨æ„ä¸ºäº†èƒ½å¤Ÿæ¢å¤è®­ç»ƒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¿å­˜æ¨¡å‹å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€ï¼Œä»¥åŠå½“å‰çš„è®­ç»ƒè½®æ•°ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">start_epoch <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># Load checkpoint.</span><span class="token keyword">if</span> resume<span class="token punctuation">:</span> <span class="token comment"># resumeä¸ºå‚æ•°ï¼Œç¬¬ä¸€æ¬¡è®­ç»ƒæ—¶è®¾ä¸º0ï¼Œä¸­æ–­å†è®­ç»ƒæ—¶è®¾ä¸º1</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    <span class="token keyword">assert</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> torch<span class="token punctuation">.</span>load<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>    best_acc <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'best_acc'</span><span class="token punctuation">]</span>    start_epoch <span class="token operator">=</span> checkpoint<span class="token punctuation">[</span><span class="token string">'epoch'</span><span class="token punctuation">]</span>    model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'model'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    optimizer<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>checkpoint<span class="token punctuation">[</span><span class="token string">'optimizer'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Load checkpoint at epoch &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Best accuracy so far &#123;&#125;.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>best_acc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Train the model</span><span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start_epoch<span class="token punctuation">,</span> num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token comment"># Test the model</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>          <span class="token comment"># save checkpoint</span>    is_best <span class="token operator">=</span> current_acc <span class="token operator">></span> best_acc    best_acc <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>current_acc<span class="token punctuation">,</span> best_acc<span class="token punctuation">)</span>    checkpoint <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'best_acc'</span><span class="token punctuation">:</span> best_acc<span class="token punctuation">,</span>        <span class="token string">'epoch'</span><span class="token punctuation">:</span> epoch <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token string">'model'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token string">'optimizer'</span><span class="token punctuation">:</span> optimizer<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span>    model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'checkpoint.pth.tar'</span><span class="token punctuation">)</span>    best_model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">,</span> <span class="token string">'best_checkpoint.pth.tar'</span><span class="token punctuation">)</span>    torch<span class="token punctuation">.</span>save<span class="token punctuation">(</span>checkpoint<span class="token punctuation">,</span> model_path<span class="token punctuation">)</span>    <span class="token keyword">if</span> is_best<span class="token punctuation">:</span>        shutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>model_path<span class="token punctuation">,</span> best_model_path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–-imagenet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾">æå– ImageNeté¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># VGG-16 relu5-3 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># VGG-16 pool5 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>features<span class="token comment"># VGG-16 fc7 feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>vgg16<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model<span class="token punctuation">.</span>classifier <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>classifier<span class="token punctuation">.</span>children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># ResNet GAP feature.</span>model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>model <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span>collections<span class="token punctuation">.</span>OrderedDict<span class="token punctuation">(</span>    <span class="token builtin">list</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    conv_representation <span class="token operator">=</span> model<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æå–-imagenet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾">æå– ImageNeté¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FeatureExtractor</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Helper class to extract several convolution features from the given    pre-trained model.    Attributes:        _model, torch.nn.Module.        _layers_to_extract, list&lt;str> or set&lt;str>    Example:        >>> model = torchvision.models.resnet152(pretrained=True)        >>> model = torch.nn.Sequential(collections.OrderedDict(                list(model.named_children())[:-1]))        >>> conv_representation = FeatureExtractor(                pretrained_model=model,                layers_to_extract=&#123;'layer1', 'layer2', 'layer3', 'layer4'&#125;)(image)    """</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pretrained_model<span class="token punctuation">,</span> layers_to_extract<span class="token punctuation">)</span><span class="token punctuation">:</span>        torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_model <span class="token operator">=</span> pretrained_model        self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_layers_to_extract <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>layers_to_extract<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> torch<span class="token punctuation">.</span>no_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            conv_representation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> name<span class="token punctuation">,</span> layer <span class="token keyword">in</span> self<span class="token punctuation">.</span>_model<span class="token punctuation">.</span>named_children<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                x <span class="token operator">=</span> layer<span class="token punctuation">(</span>x<span class="token punctuation">)</span>                <span class="token keyword">if</span> name <span class="token keyword">in</span> self<span class="token punctuation">.</span>_layers_to_extract<span class="token punctuation">:</span>                    conv_representation<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>            <span class="token keyword">return</span> conv_representation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¾®è°ƒå…¨è¿æ¥å±‚">å¾®è°ƒå…¨è¿æ¥å±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">for</span> param <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    param<span class="token punctuation">.</span>requires_grad <span class="token operator">=</span> <span class="token boolean">False</span>model<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># Replace the last fc layer</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3id="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚è¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚">ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> torchvision<span class="token punctuation">.</span>models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>finetuned_parameters <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">,</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>conv_parameters <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token keyword">for</span> p <span class="token keyword">in</span> model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">id</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token keyword">not</span> <span class="token keyword">in</span> finetuned_parameters<span class="token punctuation">)</span>parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> conv_parameters<span class="token punctuation">,</span> <span class="token string">'lr'</span><span class="token punctuation">:</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>               <span class="token punctuation">&#123;</span><span class="token string">'params'</span><span class="token punctuation">:</span> model<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> weight_decay<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><strong>å…¶ä»–æ³¨æ„äº‹é¡¹</strong></h1><ul><li>ä¸è¦ä½¿ç”¨å¤ªå¤§çš„çº¿æ€§å±‚ã€‚å› ä¸ºnn.Linear(m,n)ä½¿ç”¨çš„æ˜¯O(mn)çš„å†…å­˜ï¼Œçº¿æ€§å±‚å¤ªå¤§å¾ˆå®¹æ˜“è¶…å‡ºç°æœ‰æ˜¾å­˜ã€‚</li><li>ä¸è¦åœ¨å¤ªé•¿çš„åºåˆ—ä¸Šä½¿ç”¨RNNã€‚å› ä¸ºRNNåå‘ä¼ æ’­ä½¿ç”¨çš„æ˜¯BPTTç®—æ³•ï¼Œå…¶éœ€è¦çš„å†…å­˜å’Œè¾“å…¥åºåˆ—çš„é•¿åº¦å‘ˆçº¿æ€§å…³ç³»ã€‚</li><li>model(x) å‰ç”¨ model.train() å’Œ model.eval() åˆ‡æ¢ç½‘ç»œçŠ¶æ€ã€‚</li><li>ä¸éœ€è¦è®¡ç®—æ¢¯åº¦çš„ä»£ç å—ç”¨ with torch.no_grad() åŒ…å«èµ·æ¥ã€‚</li><li>model.eval() å’Œ torch.no_grad() çš„åŒºåˆ«åœ¨äºï¼Œmodel.eval()æ˜¯å°†ç½‘ç»œåˆ‡æ¢ä¸ºæµ‹è¯•çŠ¶æ€ï¼Œä¾‹å¦‚ BNå’Œdropoutåœ¨è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µä½¿ç”¨ä¸åŒçš„è®¡ç®—æ–¹æ³•ã€‚torch.no_grad() æ˜¯å…³é—­PyTorch å¼ é‡çš„è‡ªåŠ¨æ±‚å¯¼æœºåˆ¶ï¼Œä»¥å‡å°‘å­˜å‚¨ä½¿ç”¨å’ŒåŠ é€Ÿè®¡ç®—ï¼Œå¾—åˆ°çš„ç»“æœæ— æ³•è¿›è¡Œloss.backward()ã€‚</li><li>model.zero_grad()ä¼šæŠŠæ•´ä¸ªæ¨¡å‹çš„å‚æ•°çš„æ¢¯åº¦éƒ½å½’é›¶,è€Œoptimizer.zero_grad()åªä¼šæŠŠä¼ å…¥å…¶ä¸­çš„å‚æ•°çš„æ¢¯åº¦å½’é›¶.</li><li>torch.nn.CrossEntropyLoss çš„è¾“å…¥ä¸éœ€è¦ç»è¿‡Softmaxã€‚torch.nn.CrossEntropyLoss ç­‰ä»·äºtorch.nn.functional.log_softmax + torch.nn.NLLLossã€‚</li><li>loss.backward() å‰ç”¨ optimizer.zero_grad() æ¸…é™¤ç´¯ç§¯æ¢¯åº¦ã€‚</li><li>torch.utils.data.DataLoader ä¸­å°½é‡è®¾ç½®pin_memory=Trueï¼Œå¯¹ç‰¹åˆ«å°çš„æ•°æ®é›†å¦‚ MNIST è®¾ç½® pin_memory=Falseåè€Œæ›´å¿«ä¸€äº›ã€‚num_workers çš„è®¾ç½®éœ€è¦åœ¨å®éªŒä¸­æ‰¾åˆ°æœ€å¿«çš„å–å€¼ã€‚</li><li>ç”¨ del åŠæ—¶åˆ é™¤ä¸ç”¨çš„ä¸­é—´å˜é‡ï¼ŒèŠ‚çº¦ GPU å­˜å‚¨ã€‚</li><li>ä½¿ç”¨ inplace æ“ä½œå¯èŠ‚çº¦ GPU å­˜å‚¨ï¼Œå¦‚</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>functional<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>x<span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>å‡å°‘ CPU å’Œ GPU ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ä¾‹å¦‚å¦‚æœä½ æƒ³çŸ¥é“ä¸€ä¸ª epoch ä¸­æ¯ä¸ªmini-batch çš„ loss å’Œå‡†ç¡®ç‡ï¼Œå…ˆå°†å®ƒä»¬ç´¯ç§¯åœ¨ GPU ä¸­ç­‰ä¸€ä¸ª epochç»“æŸä¹‹åä¸€èµ·ä¼ è¾“å› CPU ä¼šæ¯”æ¯ä¸ª mini-batch éƒ½è¿›è¡Œä¸€æ¬¡ GPU åˆ° CPUçš„ä¼ è¾“æ›´å¿«ã€‚</li><li>ä½¿ç”¨åŠç²¾åº¦æµ®ç‚¹æ•° half() ä¼šæœ‰ä¸€å®šçš„é€Ÿåº¦æå‡ï¼Œå…·ä½“æ•ˆç‡ä¾èµ–äº GPUå‹å·ã€‚éœ€è¦å°å¿ƒæ•°å€¼ç²¾åº¦è¿‡ä½å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ã€‚</li><li>æ—¶å¸¸ä½¿ç”¨ assert tensor.size() == (N, D, H, W)ä½œä¸ºè°ƒè¯•æ‰‹æ®µï¼Œç¡®ä¿å¼ é‡ç»´åº¦å’Œä½ è®¾æƒ³ä¸­ä¸€è‡´ã€‚</li><li>é™¤äº†æ ‡è®° y å¤–ï¼Œå°½é‡å°‘ä½¿ç”¨ä¸€ç»´å¼ é‡ï¼Œä½¿ç”¨ n*1çš„äºŒç»´å¼ é‡ä»£æ›¿ï¼Œå¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸€ç»´å¼ é‡è®¡ç®—ç»“æœã€‚</li><li>ç»Ÿè®¡ä»£ç å„éƒ¨åˆ†è€—æ—¶</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> torch<span class="token punctuation">.</span>autograd<span class="token punctuation">.</span>profiler<span class="token punctuation">.</span>profile<span class="token punctuation">(</span>enabled<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> use_cuda<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">as</span> profile<span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">print</span><span class="token punctuation">(</span>profile<span class="token punctuation">)</span><span class="token comment"># æˆ–è€…åœ¨å‘½ä»¤è¡Œè¿è¡Œ</span>python <span class="token operator">-</span>m torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>bottleneck main<span class="token punctuation">.</span>py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>ä½¿ç”¨TorchSnooperæ¥è°ƒè¯•PyTorchä»£ç ï¼Œç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨ printå‡ºæ¥æ¯ä¸€è¡Œçš„æ‰§è¡Œç»“æœçš„ tensorçš„å½¢çŠ¶ã€æ•°æ®ç±»å‹ã€è®¾å¤‡ã€æ˜¯å¦éœ€è¦æ¢¯åº¦çš„ä¿¡æ¯ã€‚</li></ul><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pip install torchsnooper</span><span class="token keyword">import</span> torchsnooper<span class="token comment"># å¯¹äºå‡½æ•°ï¼Œä½¿ç”¨ä¿®é¥°å™¨</span><span class="token decorator annotation punctuation">@torchsnooper<span class="token punctuation">.</span>snoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å¦‚æœä¸æ˜¯å‡½æ•°ï¼Œä½¿ç”¨ with è¯­å¥æ¥æ¿€æ´» TorchSnooperï¼ŒæŠŠè®­ç»ƒçš„é‚£ä¸ªå¾ªç¯è£…è¿› with è¯­å¥ä¸­å»ã€‚</span><span class="token keyword">with</span> torchsnooper<span class="token punctuation">.</span>snoop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>åŸæœ¬çš„ä»£ç </li></ul><p>https://github.com/zasdfgbnm/TorchSnooper</p><ul><li>æ¨¡å‹å¯è§£é‡Šæ€§ï¼Œä½¿ç”¨captumåº“</li></ul><p>https://captum.ai/</p><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><p>1.https://zhuanlan.zhihu.com/p/59205847</p><p>2.<ahref="https://pytorch.org/tutorials/">PyTorchå®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹</a></p><p>3.https://pytorch.org/docs/stable/notes/faq.html</p><p>4.https://github.com/szagoruyko/pytorchviz</p><p>5.https://github.com/sksq96/pytorch-summary</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PID æ§åˆ¶åœ¨åŒ»å­¦éº»é†‰è¿‡ç¨‹è¡€å‹æ§åˆ¶ä¸­çš„åº”ç”¨</title>
    <link href="/2022/05/04/pid/"/>
    <url>/2022/05/04/pid/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="8d9551c54b0a3ea5395ab601d35193ee5851edd699f0f5621acf8252be4bd37f">786545e84501692c1080963bf451b3f69dd705f39c926779085b2f273176cdcdf451af237adf33265bd3eab4ed758400d31cfb6b400d50ebf0b1f9d7a9d05bd4ab5bd56d613d64a2a924038ffc1d9ffc2c4402136d556e2ed91b8bacc8c2cac9f218e91060bd4ee1744f4f2da80d044d0c0ccf3b45585357c66e88a8f9d31b49a1781532b2c770a33cec2065875bc35406dadc364c8fc7ef71aa25273208208dab1cbcd03fd44c92a1bf713775010608069398d2bb693110f5a72442bc02dfea0e0251264693c76aba60777ef8390949ce81548ae0960336e7f159e5f255292e39e5dc684a7a7254310f830b1ab5134d82f1b2ab4cdd65dd5be9680d164da0c9478a1b99a73412795cdab55aa311c8cb843af4283e063d3016372068c422bb1a133ba7d431386cedb7c08e23f7f16f17a91aba2d3dbf949f1b6a8c8b9436448e7021bc921b76a2fcac61a6b61c831f2d065696cd848c47e526eaa797d28d2e9c3ab9e9927995e14ab837e6168e6996d893ae4ae7136ddb644475400a08695a2ec26fc995e0e0c1b8dd886541092788c316031a9d2f81d2266fed0993632ef2e264f797a77ce632c5a1c0834bd996ad7407dd525f684faec786f21b35a1b482d50ff4c2414db035327930c5f0d8b7870c928d44f964c9b1355e1990968f6a6f8f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
    <tags>
      
      <tag>è‡ªåŠ¨æ§åˆ¶åŸç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æ</title>
    <link href="/2022/05/01/net3/"/>
    <url>/2022/05/01/net3/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šç½‘ç»œæŠ“åŒ…ä¸åè®®åˆ†æå®éªŒ</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/wall.png" /></p><embed src="./problem.pdf" width="100%" height="750" type="application/pdf"><embed src="./wireshark.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“åŸç† Exercises 3&amp;4</title>
    <link href="/2022/04/29/data3/"/>
    <url>/2022/04/29/data3/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Database System Concepts Exercises of Chapter 5&amp;6</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003143556.png" /></p><h1 id="database-system-concepts-exercises-of-chapter-56">DatabaseSystem Concepts Exercises of Chapter 5&amp;6</h1><p><strong>Exercise 5.8</strong> Consider the bank database of Figure<strong>5.25</strong>. Write an sQL trigger to carryout the followingaction: On <strong>delete</strong> of an account, for each owner oftheaccount, check if the owner has any remaining accounts, and if shedoesnot, delete her from the <em>depositor</em> relation.</p><p>branch(branch_name, branch_city, assets)</p><p>customer ( customer_name, customer_street, customer_city )</p><p>loan( loan_number, branch_name, amount)</p><p>borrower ( customer_name, loan_number )</p><p>account ( account_number, branch_name, balance )</p><p>depositor ( customer_name, account_number )</p><p><strong>Figure 5.25</strong></p><p><strong>My answer:</strong></p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">trigger</span> <span class="token keyword">check</span><span class="token operator">-</span><span class="token keyword">delete</span><span class="token operator">-</span><span class="token keyword">trigger</span> <span class="token keyword">after</span> <span class="token keyword">delete</span> <span class="token keyword">on</span> account referencing old <span class="token keyword">row</span> <span class="token keyword">as</span> orow<span class="token keyword">for each row</span><span class="token keyword">delete</span> <span class="token keyword">from</span> depositor<span class="token keyword">where</span> depositor<span class="token punctuation">.</span>customer_name <span class="token operator">not</span> <span class="token operator">in</span>   <span class="token punctuation">(</span> <span class="token keyword">select</span> customer_name <span class="token keyword">from</span> depositor     <span class="token keyword">where</span> account_number <span class="token operator">&lt;></span> orow<span class="token punctuation">.</span>account_number <span class="token punctuation">)</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>Exercise</strong> <strong>5.15</strong> Consider an employeedatabase with two relations employee (<spanclass="math inline">\(\underline{employee\_name}\)</span>, street, city)works (<span class="math inline">\(\underline{employee\_name}\)</span>,company_name, salary) where the primary keys are underlined. Write aquery to find companies whose employees earn a higher salary, onaverage, than the average salary at "First Bank Corporation". a. UsingSQL functions as appropriate. b. Without using SQL functions.</p><p><strong>My answer:</strong></p><ol type="a"><li></li></ol><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">function</span> avg_salary<span class="token punctuation">(</span>cname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">integer</span>     <span class="token keyword">declare</span> result <span class="token keyword">integer</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">into</span> result<span class="token keyword">from</span> works<span class="token keyword">where</span> works<span class="token punctuation">.</span>company<span class="token punctuation">.</span>name <span class="token operator">=</span> cname<span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">where</span> avg_salary<span class="token punctuation">(</span>company_name<span class="token punctuation">)</span> <span class="token operator">></span> avg_salary<span class="token punctuation">(</span>â€œ<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="a"><li></li></ol><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> company_name<span class="token keyword">from</span> works<span class="token keyword">group</span> <span class="token keyword">by</span> company_name<span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> works<span class="token keyword">where</span> company_name<span class="token operator">=</span>â€<span class="token keyword">First</span> Bank Corporationâ€<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr /><p><strong>Exercise 6.1</strong> Write the following queries inrelational algebra, using the university schema. <strong>a</strong>.Find the titles of courses in the Comp. Sci. department that have 3credits. <strong>b</strong>. Find the IDs of all students who weretaught by an instructor named Einstein; make sure there are noduplicates in the result. <strong>c</strong>. Find the highest salary ofany instructor. <strong>d</strong>. Find all instructors earning thehighest salary (there may be more than one with the same salary).</p><p><strong>My answer:</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220429003507835.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>conda/linux/gitå¸¸ç”¨å‘½ä»¤â€œç¬”è®°â€</title>
    <link href="/2022/04/28/code/"/>
    <url>/2022/04/28/code/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯æ¬¡å¿˜äº†éƒ½å¾—æœï¼Œè®°å½•ä¸€ä¸‹</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428094832340.png" /></p><span id="more"></span><h1 id="anacondapython">Anaconda&amp;python</h1><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220428093957780.png" /></p><p><strong>pipå®‰è£…ï¼ˆtensorflow-gpuä¸ºä¾‹ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>condaå®‰è£…</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  install tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>pip3å®‰è£…ï¼ˆæŒ‡å®šç‰ˆæœ¬å·åªéœ€åœ¨å‘½ä»¤æœ«å°¾æ·»åŠ ==1.12.0ç‰ˆæœ¬å·ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip3  install tensorflow-gpu&#x3D;&#x3D;1.12.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>ä½¿ç”¨æ¸…åé•œåƒä¸‹è½½</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install tensorflow-gpu&#x3D;&#x3D;1.10 -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŒ‡å®šç›®å½•å®‰è£…</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pip install -t D:\ProgramData\Anaconda3\Lib\site-packages torch-1.0.1-cp36-cp36m-win_amd64.whl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>å¸è½½å®‰è£…ï¼ˆpip3åªéœ€å°†condaæ¢æˆpipï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda  uninstall tensorflow-gpu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆcondaä¸ºä¾‹ï¼‰</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda create -n py36 python&#x3D;3.6  #py36è™šæ‹Ÿç¯å¢ƒçš„åå­—  python&#x3D;3.6  pythonç‰ˆæœ¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda remove -n py36 --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda activate py36<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹æ‰€æœ‰åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">conda env list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>ç”¨virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">VENV_DIR</span><span class="token operator">=</span>venvpip <span class="token function">install</span> virtualenvvirtualenv <span class="token variable">$VENV_DIR</span><span class="token builtin class-name">source</span> <span class="token variable">$VENV_DIR</span>/bin/activatedeactivate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>nohupé€å…¥åå°è¿è¡Œ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nohup</span> python train.py <span class="token operator">></span>nohup <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>      <span class="token comment">#train.pyè¿è¡Œçš„æ–‡ä»¶  nohupç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>CUDAæŒ‡å®šGPU</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0</span> <span class="token function">nohup</span> python train.py  <span class="token operator">></span> nohup.log <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å¯¼å‡ºrequirements.txt</p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 -m pip freeze <span class="token operator">></span> requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">nvidia-smi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æŸ¥çœ‹è¿›ç¨‹å·</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ps</span> aux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><strong>æ ¹æ®è¿›ç¨‹å·æ€æ­»è¿›ç¨‹</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">kill</span> -9 è¿›ç¨‹å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/200301122312741.jpg" /></p><h1 id="linux">linux</h1><p>linuxä¸åƒWindows åˆ†äº†ç›˜ï¼Œå®ƒæ ¹ç›®å½•ä¸‹æœ‰å¦‚ä¸‹å¸¸ç”¨æ–‡ä»¶å¤¹:</p><p><em>home</em> ---------- ç”¨æˆ·çš„å®¶</p><p><em>root</em> ---------- è¶…çº§ç®¡ç†å‘˜rootçš„å®¶</p><p><em>etc</em> ---------- å­˜æ”¾é…ç½®æ–‡ä»¶</p><p><em>usr</em> ---------- å­˜æ”¾å…±äº«èµ„æº</p><h2 id="cdå‘½ä»¤">1ã€cdå‘½ä»¤:</h2><p><strong>â‘ ã€è¿›å…¥æŸä¸€ä¸ªç›®å½•</strong> <code>cd ç›®å½•å</code></p><p><strong>â‘¡ã€è¿›å…¥å¤šçº§ç›®å½•</strong> <code>cd ç›®å½•å/ç›®å½•å</code></p><p><strong>â‘¢ã€è¿”å›ä¸Šä¸€çº§ç›®å½•</strong> <code>cd ..</code></p><p><strong>â‘£ã€è¿”å›æ ¹ç›®å½•</strong> <code>cd /</code></p><p><strong>â‘¤ã€è¿”å›æ ¹ç›®å½•ä¸‹çš„æŸä¸€ä¸ªç›®å½•</strong><code>cd /ç›®å½•å</code></p><p><strong>â‘¥ã€å›å®¶</strong> <code>cd ~</code></p><h2 id="åˆ›å»ºåˆ é™¤ç›®å½•">2ã€åˆ›å»ºã€åˆ é™¤ç›®å½•:</h2><p><strong>â‘ ã€åˆ›å»ºç›®å½•</strong> <code>mkdir ç›®å½•å</code></p><p><strong>â‘¡ã€åˆ›å»ºå¤šçº§ç›®å½•</strong> <code>mkdir -p a/b/c</code></p><p><strong>â‘¢ã€åˆ é™¤ç›®å½•(åªèƒ½åˆ é™¤ç©ºç›®å½•)</strong><code>rmdir ç›®å½•å</code></p><p><strong>â‘£ã€åˆ é™¤ç›®å½•(å¯åˆ é™¤éç©ºç›®å½•ï¼Œå¸¦è¯¢é—®)</strong><code>rm -r</code></p><p><strong>â‘¤ã€åˆ é™¤ç›®å½•(ä¸å¸¦è¯¢é—®ï¼Œè°¨æ…ä½¿ç”¨)</strong><code>rm -rf</code></p><h2 id="å¯¹æ–‡ä»¶çš„æ“ä½œ">3ã€å¯¹æ–‡ä»¶çš„æ“ä½œ:</h2><p><strong>â‘ ã€åˆ›å»ºç©ºç™½æ–‡ä»¶</strong> <code>touch æ–‡ä»¶å</code></p><p><strong>â‘¡ã€å¤åˆ¶æ–‡ä»¶</strong></p><p><code>cp a.txt b.txt</code> <em>è¡¨ç¤ºå¤åˆ¶aæ–‡ä»¶å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><code>cp a.txt dir/b.txt</code><em>è¡¨ç¤ºæŠŠaå¤åˆ¶åˆ°diræ–‡ä»¶å¤¹ä¸‹å¹¶é‡å‘½åä¸ºbã€‚</em></p><p><strong>â‘¢ã€ç§»åŠ¨æ–‡ä»¶</strong> <code>mv a.txt dir/b.txt</code><em>æŠŠa.txtç§»åŠ¨åˆ°dirç›®å½•ä¸‹å¹¶é‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘£ã€é‡å‘½åæ–‡ä»¶</strong> <code>mv a.txt b.txt</code><em>æŠŠa.txté‡å‘½åä¸ºb.txtã€‚</em></p><p><strong>â‘¤ã€åˆ é™¤æ–‡ä»¶</strong></p><p><code>rm æ–‡ä»¶å</code> <em>å¸¦è¯¢é—®çš„åˆ é™¤</em></p><p><code>rm -f æ–‡ä»¶å</code> <em>ä¸å¸¦è¯¢é—®çš„åˆ é™¤ã€‚</em></p><p><strong>â‘¥ã€æµè§ˆæ–‡ä»¶</strong></p><p><code>cat æ–‡ä»¶å</code> <em>æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰å†…å®¹</em></p><p><code>more æ–‡ä»¶å</code><em>åˆ†é¡µæ˜¾ç¤ºï¼Œç©ºæ ¼é”®ä¸‹ä¸€é¡µï¼Œå›è½¦é”®ä¸‹ä¸€è¡Œã€‚</em></p><p><code>less æ–‡ä»¶å</code><em>åˆ†é¡µæ˜¾ç¤ºï¼Œpgupä¸Šä¸€é¡µï¼Œpgdnä¸‹ä¸€é¡µã€‚</em></p><p><code>tail -5 a.txt</code> <em>æ˜¾ç¤ºa.txtæ–‡ä»¶çš„æœ€å5è¡Œã€‚</em></p><p><code>tail -f æ–‡ä»¶å</code> <em>åŠ¨æ€çš„æŸ¥çœ‹ã€‚</em></p><h2 id="æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶">4ã€æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶:</h2><p><strong>â‘ ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°</strong> <code>ls</code></p><p><strong>â‘¡ã€æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åç§°(åŒ…æ‹¬éšè—çš„)</strong><code>ls -a</code></p><p><strong>â‘¢ã€æŸ¥çœ‹æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(æœ€å¸¸ç”¨)</strong><code>ll</code></p><p><strong>â‘£ã€å‹å¥½çš„æ˜¾ç¤º</strong> <code>ll -h</code><em>æ¯”å¦‚æ˜¾ç¤ºçš„æ–‡ä»¶å¤§å°æ˜¯kbè€Œä¸æ˜¯å­—èŠ‚ã€‚</em></p><h2 id="taræ‰“åŒ…å‘½ä»¤">5ã€taræ‰“åŒ…å‘½ä»¤:</h2><p><strong>â‘ ã€å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…æˆhaha.tar</strong><code>tar -cvf haha.tar ./*</code></p><p><strong>â‘¡ã€å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©æˆhaha.tar</strong><code>tar -zcvf haha.tar.gz ./*</code></p><p><strong>â‘¢ã€å°†haha.tarè§£å‹åˆ°å½“å‰ç›®å½•</strong><code>tar -xvf haha.tar</code></p><p><strong>â‘£ã€å°†haha.tarè§£å‹åˆ°bç›®å½•</strong><code>tar -xvf haha.tar -C b</code> <em>æ³¨æ„Cæ˜¯å¤§å†™çš„ï¼</em></p><h2 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤">6ã€å…¶ä»–å¸¸ç”¨å‘½ä»¤:</h2><p><strong>â‘ ã€grepå‘½ä»¤</strong></p><p><code>grep category a.txt</code><em>è¡¨ç¤ºåœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²æ‰€åœ¨çš„è¡Œï¼Œå‰ææ˜¯æ‰“å¼€äº†a.txtæ–‡ä»¶ã€‚</em></p><p><code>grep category a.txt -A2</code><em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„å‰ä¸¤è¡Œã€‚</em></p><p><code>grep category a.txt -B2</code><em>åœ¨a.txtä¸­æŸ¥æ‰¾categoryå­—ç¬¦ä¸²çš„åä¸¤è¡Œã€‚</em></p><p><strong>â‘¡ã€æŸ¥çœ‹å½“å‰ç›®å½•</strong> <code>pwd</code></p><p><strong>â‘¢ã€wgetä¸‹è½½å‘½ä»¤</strong> <code>wget www.baidu.com</code><em>ä¸‹è½½ç™¾åº¦é¦–é¡µ</em></p><h2 id="vivimç¼–è¾‘å™¨">7ã€vi/vimç¼–è¾‘å™¨:</h2><p><strong>â‘ ã€ç¼–è¾‘å™¨æœ‰ä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯:</strong><strong>å‘½ä»¤è¡Œæ¨¡å¼:</strong>æ­¤æ¨¡å¼æ— æ³•ç¼–è¾‘æ–‡ä»¶ï¼Œ<code>yy</code>å¤åˆ¶è¡Œï¼Œ<code>p</code>ç²˜è´´ï¼Œ<code>dd</code>åˆ é™¤è¡Œï¼ŒæŒ‰å¦‚ä¸‹é”®éƒ½å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼:</p><p><code>i</code> å½“å‰ä½ç½®å‰æ’å…¥;</p><p><code>I</code> å½“å‰è¡Œè¡Œé¦–æ’å…¥;</p><p><code>a</code> å½“å‰ä½ç½®åæ’å…¥;</p><p><code>A</code> å½“å‰è¡Œè¡Œå°¾æ’å…¥;</p><p><code>o</code> å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œ;</p><p><code>O</code> å½“å‰çš„ä¹‹å‰æ’å…¥ä¸€è¡Œ</p><p><strong>æ’å…¥æ¨¡å¼:</strong>æ­¤æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚æŒ‰<code>esc</code>é€€å‡ºæ’å…¥æ¨¡å¼ï¼Œå›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚<strong>åº•è¡Œæ¨¡å¼:</strong>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æŒ‰<code>:</code>ï¼Œå³å¯è¿›å…¥åº•è¡Œæ¨¡å¼ã€‚åº•è¡Œæ¨¡å¼æœ‰å¦‚ä¸‹å¸¸ç”¨å‘½ä»¤:</p><p><code>q</code> ä¸ä¿å­˜é€€å‡º;</p><p><code>qï¼</code> ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º;</p><p><code>wq</code> ä¿å­˜é€€å‡º</p><h2 id="ç®¡é“">8ã€ç®¡é“:</h2><p><strong>ç®¡é“:<code>|</code>ï¼Œå°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚ä¾‹å¦‚:</strong><strong>åœ¨ <code>ip addr</code>çš„è¾“å‡ºç»“æœä¸­æŸ¥æ‰¾<code>192.168</code>å­—ç¬¦ä¸²:</strong><code>ip addr | grep 192.168</code></p><h2 id="ç³»ç»Ÿç®¡ç†å‘½ä»¤">9ã€ç³»ç»Ÿç®¡ç†å‘½ä»¤:</h2><p><strong>â‘ ã€æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´</strong> <code>date</code> æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´<code>date -s "2018-05-15 22:22:22"</code>å°†ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸ºå¼•å·é‡Œé¢çš„æ—¶é—´</p><p><strong>â‘¡ã€æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</strong> <code>df</code> æŸ¥çœ‹ç£ç›˜ä¿¡æ¯<code>df -h</code> å‹å¥½åœ°å±•ç¤ºç£ç›˜ä¿¡æ¯</p><p><strong>â‘¢ã€æ¸…å±</strong> <code>clear</code>æˆ–è€…æŒ‰<code>ctr L</code></p><p><strong>â‘£ã€è¿›ç¨‹</strong> <code>ps -ef</code>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹<code>ps -ef | grep ssh</code>æŸ¥æ‰¾sshè¿›ç¨‹</p><p><strong>â‘¤ã€æ€æ‰è¿›ç¨‹</strong> <code>kill 9527</code>æ€æ‰9527å·è¿›ç¨‹<code>kill -9 9527</code> å¼ºåˆ¶æ€æ‰9527å·è¿›ç¨‹</p><p><strong>â‘¥ã€æŸ¥çœ‹ç½‘ç»œç«¯å£</strong><code>netstat -an | grep 3306</code>æŸ¥çœ‹3306ç«¯å£å ç”¨æƒ…å†µ</p><p><strong>â‘¦ã€pingå‘½ä»¤</strong><code>ping xx.xx.xxx</code>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/bg2015120901.png" /></p><h1 id="git">GIT</h1><p>ä¸‹é¢æ˜¯å¸¸ç”¨ Git å‘½ä»¤æ¸…å•ã€‚å‡ ä¸ªä¸“ç”¨åè¯çš„è¯‘åå¦‚ä¸‹ã€‚</p><blockquote><ul><li>Workspaceï¼šå·¥ä½œåŒº</li><li>Index / Stageï¼šæš‚å­˜åŒº</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰</li><li>Remoteï¼šè¿œç¨‹ä»“åº“</li></ul></blockquote><h2 id="ä¸€æ–°å»ºä»£ç åº“">ä¸€ã€æ–°å»ºä»£ç åº“</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span>$ <span class="token function">git</span> init<span class="token comment"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span>$ <span class="token function">git</span> init <span class="token punctuation">[</span>project-name<span class="token punctuation">]</span><span class="token comment"># ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span>$ <span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="äºŒé…ç½®">äºŒã€é…ç½®</h2><p>Gitçš„è®¾ç½®æ–‡ä»¶ä¸º<code>.gitconfig</code>ï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚</p><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span>$ <span class="token function">git</span> config --list<span class="token comment"># ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span>$ <span class="token function">git</span> config -e <span class="token punctuation">[</span>--global<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.name <span class="token string">"[name]"</span>$ <span class="token function">git</span> config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.email <span class="token string">"[email address]"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¸‰å¢åŠ åˆ é™¤æ–‡ä»¶">ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>dir<span class="token punctuation">]</span><span class="token comment"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token comment"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span><span class="token comment"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span>$ <span class="token function">git</span> <span class="token function">add</span> -p<span class="token comment"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span class="token comment"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span>$ <span class="token function">git</span> <span class="token function">rm</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span>$ <span class="token function">git</span> <span class="token function">mv</span> <span class="token punctuation">[</span>file-original<span class="token punctuation">]</span> <span class="token punctuation">[</span>file-renamed<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å››ä»£ç æäº¤">å››ã€ä»£ç æäº¤</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>. -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span>$ <span class="token function">git</span> commit -a<span class="token comment"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span>$ <span class="token function">git</span> commit -v<span class="token comment"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span><span class="token comment"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span>$ <span class="token function">git</span> commit --amend -m <span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token comment"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span>$ <span class="token function">git</span> commit --amend <span class="token punctuation">[</span>file1<span class="token punctuation">]</span> <span class="token punctuation">[</span>file2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="äº”åˆ†æ”¯">äº”ã€åˆ†æ”¯</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span>$ <span class="token function">git</span> branch<span class="token comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -r<span class="token comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> branch -a<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span>$ <span class="token function">git</span> branch <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span>$ <span class="token function">git</span> branch --track <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span>$ <span class="token function">git</span> checkout -<span class="token comment"># å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span>$ <span class="token function">git</span> branch --set-upstream <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span class="token comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> merge <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> cherry-pick <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤åˆ†æ”¯</span>$ <span class="token function">git</span> branch -d <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span>$ <span class="token function">git</span> push origin --delete <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span>$ <span class="token function">git</span> branch -dr <span class="token punctuation">[</span>remote/branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å…­æ ‡ç­¾">å…­ã€æ ‡ç­¾</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰tag</span>$ <span class="token function">git</span> tag<span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span>$ <span class="token function">git</span> tag <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤æœ¬åœ°tag</span>$ <span class="token function">git</span> tag -d <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤è¿œç¨‹tag</span>$ <span class="token function">git</span> push origin :refs/tags/<span class="token punctuation">[</span>tagName<span class="token punctuation">]</span><span class="token comment"># æŸ¥çœ‹tagä¿¡æ¯</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æŒ‡å®štag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># æäº¤æ‰€æœ‰tag</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --tags<span class="token comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span>$ <span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¸ƒæŸ¥çœ‹ä¿¡æ¯">ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> status<span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span>$ <span class="token function">git</span> log<span class="token comment"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span>$ <span class="token function">git</span> log --stat<span class="token comment"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span>$ <span class="token function">git</span> log -S <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --pretty<span class="token operator">=</span>format:%s<span class="token comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span>$ <span class="token function">git</span> log <span class="token punctuation">[</span>tag<span class="token punctuation">]</span> HEAD --grep feature<span class="token comment"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span>$ <span class="token function">git</span> log --follow <span class="token punctuation">[</span>file<span class="token punctuation">]</span>$ <span class="token function">git</span> whatchanged <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span>$ <span class="token function">git</span> log -p <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span>$ <span class="token function">git</span> log -5 --pretty --oneline<span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span>$ <span class="token function">git</span> shortlog -sn<span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span>$ <span class="token function">git</span> blame <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span><span class="token comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> HEAD<span class="token comment"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span>$ <span class="token function">git</span> <span class="token function">diff</span> <span class="token punctuation">[</span>first-branch<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span class="token punctuation">[</span>second-branch<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span>$ <span class="token function">git</span> <span class="token function">diff</span> --shortstat <span class="token string">"@&#123;0 day ago&#125;"</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span>$ <span class="token function">git</span> show --name-only <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span>$ <span class="token function">git</span> show <span class="token punctuation">[</span>commit<span class="token punctuation">]</span>:<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span>$ <span class="token function">git</span> reflog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="å…«è¿œç¨‹åŒæ­¥">å…«ã€è¿œç¨‹åŒæ­¥</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span>$ <span class="token function">git</span> fetch <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> remote -v<span class="token comment"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span>$ <span class="token function">git</span> remote show <span class="token punctuation">[</span>remote<span class="token punctuation">]</span><span class="token comment"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span>$ <span class="token function">git</span> remote <span class="token function">add</span> <span class="token punctuation">[</span>shortname<span class="token punctuation">]</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token comment"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span>$ <span class="token function">git</span> pull <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --force<span class="token comment"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span>$ <span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="ä¹æ’¤é”€">ä¹ã€æ’¤é”€</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token punctuation">[</span>commit<span class="token punctuation">]</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span>$ <span class="token function">git</span> checkout <span class="token builtin class-name">.</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token comment"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span>$ <span class="token function">git</span> reset --hard<span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span>$ <span class="token function">git</span> reset --hard <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span>$ <span class="token function">git</span> reset --keep <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span><span class="token comment"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span>$ <span class="token function">git</span> revert <span class="token punctuation">[</span>commit<span class="token punctuation">]</span><span class="token comment"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span>$ <span class="token function">git</span> stash$ <span class="token function">git</span> stash pop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><h2 id="åå…¶ä»–">åã€å…¶ä»–</h2><blockquote><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span>$ <span class="token function">git</span> archive<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></blockquote><p>ä¸€ä¸ªå¸¸ç”¨çš„å®ä¾‹</p><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> remote <span class="token function">add</span> origin xxx<span class="token punctuation">(</span>å¤åˆ¶çš„SSHé“¾æ¥<span class="token punctuation">)</span><span class="token function">git</span> branch -m master main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token function">git</span> commit -m <span class="token string">"æ³¨é‡Š"</span> <span class="token function">git</span> pull --rebase origin main<span class="token function">git</span> push origin main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>ç»ˆç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€ä¹‹å»ºæ¨¡ä¸æ§åˆ¶</title>
    <link href="/2022/04/25/auto1/"/>
    <url>/2022/04/25/auto1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è‡ªåŠ¨é©¾é©¶æŠ€æœ¯åŸºç¡€çš„å»ºæ¨¡ä¸æ§åˆ¶ä½œä¸š</p><span id="more"></span><p>æ¦‚å¿µé¢˜ï¼ˆ18åˆ†ï¼‰</p><ol type="1"><li>è‡ªåŠ¨é©¾é©¶ä¸ºäº†å‡ºè‰²åœ°å®Œæˆé©¾é©¶ä»»åŠ¡ï¼Œå¯åˆ†ä¸ºå“ªå››å¤§æ¨¡å—ï¼Ÿï¼ˆ4åˆ†ï¼‰</li><li>ç³»ç»Ÿå»ºæ¨¡ä¸€èˆ¬åˆ†å“ªä¸¤ç§å»ºæ¨¡æ–¹å¼ï¼Ÿï¼ˆ2åˆ†ï¼‰</li><li>è¯·å†™å‡ºé«˜é€Ÿè½¬å‘è½¦è¾†æ¨¡å‹çš„ç®€åŒ–æ¨ªå‘è¯¯å·®æ¨¡å‹ï¼ˆå³å››ä¸ªçŠ¶æ€ä¸ºè¯¯å·®ï¼‰ï¼ˆ4åˆ†ï¼‰</li><li>äºŒæ¬¡å‹æ€§èƒ½æŒ‡æ ‡å‡½æ•°ä¸€èˆ¬åŒ…å«å“ªä¸‰é¡¹ä¼˜åŒ–é¡¹ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>çº¿æ€§äºŒæ¬¡é—®é¢˜ä¸‰ç§é‡è¦å½¢å¼åˆ†åˆ«æ˜¯ï¼Ÿï¼ˆ3åˆ†ï¼‰</li><li>KalmanFilterï¼ˆLQEï¼‰å¦‚ä½•é€šè¿‡LQRæ±‚å¾—ï¼Œè¯·å†™å‡ºmatlabå…³é”®ä»£ç ï¼Œå³ï¼šxxx=lqr(xxx)ï¼ˆ2åˆ†ï¼‰</li></ol><p>ç¼–ç¨‹å®è·µé¢˜ï¼ˆ12åˆ†ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image002.png" /></p><p>ç»™å®šä¸€ä¸ªåŒè´¨ç³»ç»Ÿ: m<sub>1</sub> =2, m<sub>2</sub>=1, å¼¹ç°§ç³»æ•° k=5,é˜»å°¼Ïƒ=0.1, è´¨é‡å—ä¸åœ°é¢çš„æ»‘åŠ¨é˜»å°¼ Î´=0.1 (ä¸é€Ÿåº¦æœ‰æˆæ­£æ¯”)ã€‚åˆå§‹æ—¶åˆ»m<sub>1</sub> è´¨é‡å—å¤„äº x=0 çš„ä½ç½®, ä¸¤è´¨é‡å—è·ç¦»ä¸º 0 ã€‚ç°åœ¨m<sub>2</sub> å¤„ä½œç”¨ä¸€å¤–åŠ› F æ‹–åŠ¨ç³»ç»Ÿä½¿ m<sub>1</sub> ä¸ m<sub>2</sub>è´¨é‡å—å‡å¤„äº x=5 çš„ä½ç½®ã€‚</p><ol type="1"><li>å¯¹ç³»ç»Ÿå»ºæ¨¡ï¼ˆç³»ç»Ÿå¯ä»¥ç›´æ¥æµ‹é‡ä¸¤ä¸ªç‰©ä½“çš„ä½ç½®ï¼‰</li><li>åˆ¤æ–­ç³»ç»Ÿå¯æ§æ€§ä¸å¯è§‚</li><li>ç»“åˆç»™å®šçš„simulinkå’Œè„šæœ¬æ–‡ä»¶ï¼Œè®¾è®¡å®ç°ä¸Šè¿°ç³»ç»Ÿçš„LQGæ§åˆ¶å™¨å¹¶ç»˜åˆ¶é—­ç¯æ§åˆ¶æ€§èƒ½æ›²çº¿</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/clip_image020.jpg" /></p><embed src="./auto1.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>è‡ªåŠ¨é©¾é©¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cognitive Mapping and Planning for Visual Navigation</title>
    <link href="/2022/04/24/CMP/"/>
    <url>/2022/04/24/CMP/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¤çŸ¥ç§‘å­¦åŸºç¡€è¯¾ç¨‹è®¾è®¡æŠ¥å‘Š</p><span id="more"></span><p>å¼€æ”¾æ€§é¢˜ç›®ï¼Œç»“åˆè§†è¯­è¨€ã€è¯­éŸ³è¯†åˆ«ã€æœºå™¨äººå¹³å°ï¼Œé‡‡ç”¨Webotsï¼Œæ„å»ºä¸€ä¸ªå•/å¤šæ™ºèƒ½ä½“çš„è®¤çŸ¥å¯¼èˆªã€è®¤çŸ¥è§„åˆ’ã€è®¤çŸ¥æ§åˆ¶ä»¿çœŸç®—ä¾‹ï¼Œé‡Œé¢å¯ä»¥ç”¨å·²æœ‰çš„å„ç§ä¼ æ„Ÿå™¨ç»„ä»¶ã€æœºå™¨äººæ¨¡å‹ï¼ŒåŸºäºå‰æœŸæ‰€è®²ç®€å•çš„è®¤çŸ¥æ™ºèƒ½çŸ¥è¯†ç‚¹åšä»¿çœŸè¯•éªŒï¼Œç®—æ³•å¯ä»¥ä»githubä¸Šå¼€æºä¸‹è½½ä½¿ç”¨ã€‚é¼“åŠ±å¤§å®¶é€‰æ‹©æ­¤é¢˜ç›®å¼€å±•ä¸€äº›å°è¯•éªŒï¼Œå¯ä»¥æé—®å®ç°çš„æ–¹å¼æ–¹æ³•ã€‚åŒæ—¶æäº¤ä»¿çœŸå®ç°çš„è®¾è®¡å’Œè¯•éªŒç ”ä¹ æŠ¥å‘Šã€‚çªå‡ºè®¤çŸ¥æ™ºèƒ½åº”ç”¨çš„å…³é”®è¦ç‚¹ï¼Œè¿›è¡Œè¯¦ç»†é˜è¿°è¯´æ˜ã€‚</p><embed src="./CMP.pdf" width="100%" height="750" type="application/pdf"><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220424225934056.png" /></p><p>ã€1ã€‘è®ºæ–‡åœ°å€ï¼š https://arxiv.org/abs/1702.03920 ã€2ã€‘ä»£ç ï¼šhttps://github.com/tensorflow/models/tree/archive/research/cognitive_mapping_and_planningã€3ã€‘è®ºæ–‡Slideï¼šhttps://sites.google.com/view/cognitive-mapping-and-planning/?authuser=1ã€4ã€‘ä½œè€…ä¸»é¡µï¼š https://people.eecs.berkeley.edu/~sgupta/ã€5ã€‘ä½œè€…ä¸»é¡µï¼š https://people.eecs.berkeley.edu/~svlevine/</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ— äººç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºå¥—æ¥å­—çš„ç½‘ç»œç¨‹åºè®¾è®¡</title>
    <link href="/2022/04/19/net2/"/>
    <url>/2022/04/19/net2/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®¡ç½‘ä½œä¸šï¼šå¥—æ¥å­—ç¼–ç¨‹å®éªŒ</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220419191104235.png" /></p><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1webæœåŠ¡å™¨">å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š1ï¼šWebæœåŠ¡å™¨</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ Pythonä¸­TCPè¿æ¥çš„å¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼šå¦‚ä½•åˆ›å»ºå¥—æ¥å­—ï¼Œå°†å…¶ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€å’Œç«¯å£ï¼Œä»¥åŠå‘é€å’Œæ¥æ”¶HTTPæ•°æ®åŒ…ã€‚æ‚¨è¿˜å°†å­¦ä¹ ä¸€äº›HTTPé¦–éƒ¨æ ¼å¼çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>æ‚¨å°†å¼€å‘ä¸€ä¸ªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚çš„WebæœåŠ¡å™¨ã€‚æ‚¨çš„WebæœåŠ¡å™¨åº”è¯¥æ¥å—å¹¶è§£æHTTPè¯·æ±‚ï¼Œç„¶åä»æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿè·å–æ‰€è¯·æ±‚çš„æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªç”±å“åº”æ–‡ä»¶ç»„æˆçš„HTTPå“åº”æ¶ˆæ¯ï¼Œå‰é¢æ˜¯é¦–éƒ¨è¡Œï¼Œç„¶åå°†å“åº”ç›´æ¥å‘é€ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœè¯·æ±‚çš„æ–‡ä»¶ä¸å­˜åœ¨äºæœåŠ¡å™¨ä¸­ï¼Œåˆ™æœåŠ¡å™¨åº”è¯¥å‘å®¢æˆ·ç«¯å‘é€â€œ404Not Foundâ€å·®é”™æŠ¥æ–‡ã€‚</p><h3 id="ä»£ç ">ä»£ç </h3><p>åœ¨æ–‡ä»¶ä¸‹é¢ä½ ä¼šæ‰¾åˆ°WebæœåŠ¡å™¨çš„ä»£ç æ¡†æ¶ã€‚æ‚¨éœ€è¦å¡«å†™è¿™ä¸ªä»£ç ã€‚è€Œä¸”éœ€è¦åœ¨æ ‡æœ‰#Fillin start å’Œ # Fill inendçš„åœ°æ–¹å¡«å†™ä»£ç ã€‚å¦å¤–ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½å¯èƒ½éœ€è¦ä¸æ­¢ä¸€è¡Œä»£ç ã€‚</p><h3 id="è¿è¡ŒæœåŠ¡å™¨">è¿è¡ŒæœåŠ¡å™¨</h3><p>å°†HTMLæ–‡ä»¶ï¼ˆä¾‹å¦‚HelloWorld.htmlï¼‰æ”¾åœ¨æœåŠ¡å™¨æ‰€åœ¨çš„ç›®å½•ä¸­ã€‚è¿è¡ŒæœåŠ¡å™¨ç¨‹åºã€‚ç¡®è®¤è¿è¡ŒæœåŠ¡å™¨çš„ä¸»æœºçš„IPåœ°å€ï¼ˆä¾‹å¦‚128.238.251.26ï¼‰ã€‚ä»å¦ä¸€ä¸ªä¸»æœºï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶æä¾›ç›¸åº”çš„URLã€‚ä¾‹å¦‚ï¼š</p><p>http://128.238.251.26:6789/HelloWorld.html</p><p>â€œHelloWorld.htmlâ€æ˜¯æ‚¨æ”¾åœ¨æœåŠ¡å™¨ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚è¿˜è¦æ³¨æ„ä½¿ç”¨å†’å·åçš„ç«¯å£å·ã€‚æ‚¨éœ€è¦ä½¿ç”¨æœåŠ¡å™¨ä»£ç ä¸­ä½¿ç”¨çš„ç«¯å£å·æ¥æ›¿æ¢æ­¤ç«¯å£å·ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç«¯å£å·6789.æµè§ˆå™¨åº”è¯¥æ˜¾ç¤ºHelloWorld.htmlçš„å†…å®¹ã€‚å¦‚æœçœç•¥â€œ:6789â€ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨é»˜è®¤ç«¯å£80ï¼Œåªæœ‰å½“æ‚¨çš„æœåŠ¡å™¨æ­£åœ¨ç«¯å£80ç›‘å¬æ—¶ï¼Œæ‰ä¼šä»æœåŠ¡å™¨è·å–ç½‘é¡µã€‚</p><p>ç„¶åç”¨å®¢æˆ·ç«¯å°è¯•è·å–æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ä½ åº”è¯¥ä¼šå¾—åˆ°ä¸€ä¸ªâ€œ404 NotFoundâ€æ¶ˆæ¯ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹">éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„æœåŠ¡å™¨ä»£ç ï¼Œä»¥åŠå®¢æˆ·ç«¯æµè§ˆå™¨çš„å±å¹•æˆªå›¾ï¼Œç”¨äºéªŒè¯æ‚¨æ˜¯å¦ä»æœåŠ¡å™¨å®é™…æ¥æ”¶åˆ°HTMLæ–‡ä»¶å†…å®¹ã€‚</p><h3 id="webæœåŠ¡å™¨çš„pythonä»£ç æ¡†æ¶">WebæœåŠ¡å™¨çš„Pythonä»£ç æ¡†æ¶</h3><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#import socket module</span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">)</span> <span class="token comment">#Prepare a sever socket </span><span class="token comment">#Fill in start </span><span class="token comment">#Fill in end </span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>       <span class="token comment">#Establish the connection  </span>    <span class="token keyword">print</span> <span class="token string">'Ready to serve...'</span>       connectionSocket<span class="token punctuation">,</span> addr <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>             message <span class="token operator">=</span>   <span class="token comment">#Fill in start  #Fill in end</span>        filename <span class="token operator">=</span> message<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>                              f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        outputdata <span class="token operator">=</span> <span class="token comment">#Fill in start  #Fill in end</span>        <span class="token comment">#Send one HTTP header line into socket     </span>        <span class="token comment">#Fill in start     </span>        <span class="token comment">#Fill in end  </span>        <span class="token comment">#Send the content of the requested file to the client</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>outputdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            connectionSocket<span class="token punctuation">.</span>send<span class="token punctuation">(</span>outputdata<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        connectionSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> IOError<span class="token punctuation">:</span>        <span class="token comment">#Send response message for file not found</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end</span>        <span class="token comment">#Close client socket</span>        <span class="token comment">#Fill in start</span>        <span class="token comment">#Fill in end         </span>    serverSocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¯é€‰ç»ƒä¹ ">å¯é€‰ç»ƒä¹ </h3><ol type="1"><li>ç›®å‰ï¼Œè¿™ä¸ªWebæœåŠ¡å™¨ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚ã€‚è¯·å®ç°ä¸€ä¸ªèƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚çš„å¤šçº¿ç¨‹æœåŠ¡å™¨ã€‚ä½¿ç”¨çº¿ç¨‹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œåœ¨å›ºå®šç«¯å£ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ã€‚å½“ä»å®¢æˆ·ç«¯æ”¶åˆ°TCPè¿æ¥è¯·æ±‚æ—¶ï¼Œå®ƒå°†é€šè¿‡å¦ä¸€ä¸ªç«¯å£å»ºç«‹TCPè¿æ¥ï¼Œå¹¶åœ¨å¦å¤–çš„å•ç‹¬çº¿ç¨‹ä¸­ä¸ºå®¢æˆ·ç«¯è¯·æ±‚æä¾›æœåŠ¡ã€‚è¿™æ ·åœ¨æ¯ä¸ªè¯·æ±‚/å“åº”å¯¹çš„ç‹¬ç«‹çº¿ç¨‹ä¸­å°†æœ‰ä¸€ä¸ªç‹¬ç«‹çš„TCPè¿æ¥ã€‚</li><li>ä¸ä½¿ç”¨æµè§ˆå™¨ï¼Œç¼–å†™è‡ªå·±çš„HTTPå®¢æˆ·ç«¯æ¥æµ‹è¯•ä½ çš„æœåŠ¡å™¨ã€‚æ‚¨çš„å®¢æˆ·ç«¯å°†ä½¿ç”¨ä¸€ä¸ªTCPè¿æ¥ç”¨äºè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡å™¨å“åº”æ˜¾ç¤ºå‡ºæ¥ã€‚æ‚¨å¯ä»¥å‡å®šå‘é€çš„HTTPè¯·æ±‚å°†ä½¿ç”¨GETæ–¹æ³•ã€‚å®¢æˆ·ç«¯åº”ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šæœåŠ¡å™¨IPåœ°å€æˆ–ä¸»æœºåï¼ŒæœåŠ¡å™¨æ­£åœ¨ç›‘å¬çš„ç«¯å£ï¼Œä»¥åŠè¢«è¯·æ±‚å¯¹è±¡åœ¨æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ã€‚</li></ol><h1 id="å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2udppingç¨‹åº">å¥—æ¥å­—ç¼–ç¨‹ä½œä¸š2ï¼šUDPpingç¨‹åº</h1><p>åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä½¿ç”¨Pythonè¿›è¡ŒUDPå¥—æ¥å­—ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ã€‚æ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨UDPå¥—æ¥å­—å‘é€å’Œæ¥æ”¶æ•°æ®æŠ¥ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®é€‚å½“çš„å¥—æ¥å­—è¶…æ—¶ã€‚åœ¨å®éªŒä¸­ï¼Œæ‚¨å°†ç†Ÿæ‚‰Pingåº”ç”¨ç¨‹åºåŠå…¶åœ¨è®¡ç®—ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚ä¸¢åŒ…ç‡ï¼‰ä¸­çš„ä½œç”¨ã€‚</p><p>æ‚¨é¦–å…ˆéœ€è¦ç ”ç©¶ä¸€ä¸ªç”¨Pythonç¼–å†™çš„ç®€å•çš„pingæœåŠ¡å™¨ç¨‹åºï¼Œå¹¶å®ç°å¯¹åº”çš„å®¢æˆ·ç«¯ç¨‹åºã€‚è¿™äº›ç¨‹åºæä¾›çš„åŠŸèƒ½ç±»ä¼¼äºç°ä»£æ“ä½œç³»ç»Ÿä¸­å¯ç”¨çš„æ ‡å‡†pingç¨‹åºåŠŸèƒ½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨æ›´ç®€å•çš„UDPåè®®ï¼Œè€Œä¸æ˜¯æ ‡å‡†äº’è”ç½‘æ§åˆ¶æ¶ˆæ¯åè®®ï¼ˆICMPï¼‰æ¥è¿›è¡Œé€šä¿¡ã€‚pingåè®®å…è®¸å®¢æˆ·ç«¯æœºå™¨å‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¿œç¨‹æœºå™¨ï¼Œå¹¶ä½¿è¿œç¨‹æœºå™¨å°†æ•°æ®åŒ…è¿”å›åˆ°å®¢æˆ·ï¼ˆç§°ä¸ºå›æ˜¾ï¼‰çš„æ“ä½œã€‚å¦å¤–ï¼Œpingåè®®å…è®¸ä¸»æœºè®¡ç®—å®ƒåˆ°å…¶ä»–æœºå™¨çš„å¾€è¿”æ—¶é—´ã€‚</p><p>ä»¥ä¸‹æ˜¯PingæœåŠ¡å™¨ç¨‹åºçš„å®Œæ•´ä»£ç ã€‚ä½ çš„ä»»åŠ¡æ˜¯å†™å‡ºPingå®¢æˆ·ç«¯ç¨‹åºã€‚</p><h3 id="æœåŠ¡å™¨ä»£ç ">æœåŠ¡å™¨ä»£ç </h3><p>ä»¥ä¸‹ä»£ç å®Œæ•´å®ç°äº†ä¸€ä¸ªpingæœåŠ¡å™¨ã€‚æ‚¨éœ€è¦åœ¨è¿è¡Œå®¢æˆ·ç«¯ç¨‹åºä¹‹å‰ç¼–è¯‘å¹¶è¿è¡Œæ­¤ä»£ç ã€‚<em>è€Œä¸”æ‚¨ä¸éœ€è¦ä¿®æ”¹æ­¤ä»£ç ã€‚</em></p><p>åœ¨è¿™ä¸ªæœåŠ¡å™¨ä»£ç ä¸­ï¼Œ30ï¼…çš„å®¢æˆ·ç«¯çš„æ•°æ®åŒ…ä¼šè¢«æ¨¡æ‹Ÿä¸¢å¤±ã€‚ä½ åº”è¯¥ä»”ç»†ç ”ç©¶è¿™ä¸ªä»£ç ï¼Œå®ƒå°†å¸®åŠ©ä½ ç¼–å†™pingå®¢æˆ·ç«¯ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># UDPPingerServer.py </span><span class="token comment"># We will need the following module to generate randomized lost packets import random </span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">import</span> random<span class="token comment"># Create a UDP socket  </span><span class="token comment"># Notice the use of SOCK_DGRAM for UDP packets </span>serverSocket <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_DGRAM<span class="token punctuation">)</span> <span class="token comment"># Assign IP address and port number to socket </span>serverSocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>   <span class="token comment"># Generate random number in the range of 0 to 10 </span>rand <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>   <span class="token comment"># Receive the client packet along with the address it is coming from  </span>message<span class="token punctuation">,</span> address <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token comment"># Capitalize the message from the client   </span>message <span class="token operator">=</span> message<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># If rand is less is than 4, we consider the packet lost and do not respond   </span><span class="token keyword">if</span> rand <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">:</span>     <span class="token keyword">continue</span>   <span class="token comment"># Otherwise, the server responds     </span>serverSocket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>message<span class="token punctuation">,</span> address<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æœåŠ¡å™¨ç¨‹åºåœ¨ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ç›‘å¬åˆ°æ¥çš„UDPæ•°æ®åŒ…ã€‚å½“æ•°æ®åŒ…åˆ°è¾¾æ—¶ï¼Œå¦‚æœç”Ÿæˆä¸€ä¸ªéšæœºæ•´æ•°å¤§äºæˆ–ç­‰äº4ï¼Œåˆ™æœåŠ¡å™¨å°†æ•°å­—è½¬ä¸ºå¤§å†™å¹¶å°†å…¶å‘é€å›å®¢æˆ·ç«¯ã€‚</p><h3 id="æ•°æ®åŒ…ä¸¢å¤±">æ•°æ®åŒ…ä¸¢å¤±</h3><p>UDPä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸å¯é çš„ä¼ è¾“æœåŠ¡ã€‚æ¶ˆæ¯å¯èƒ½å› ä¸ºè·¯ç”±å™¨é˜Ÿåˆ—æº¢å‡ºï¼Œç¡¬ä»¶é”™è¯¯æˆ–å…¶ä»–åŸå› ï¼Œè€Œåœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚ä½†ç”±äºåœ¨å†…ç½‘ä¸­å¾ˆä¸¢åŒ…ç”šè‡³ä¸ä¸¢åŒ…ï¼Œæ‰€ä»¥åœ¨æœ¬å®éªŒå®¤çš„æœåŠ¡å™¨ç¨‹åºæ·»åŠ äººä¸ºæŸå¤±æ¥æ¨¡æ‹Ÿç½‘ç»œä¸¢åŒ…çš„å½±å“ã€‚æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªéšæœºæ•´æ•°ï¼Œç”±å®ƒç¡®å®šä¼ å…¥çš„æ•°æ®åŒ…æ˜¯å¦ä¸¢å¤±ã€‚</p><h3 id="å®¢æˆ·ç«¯ä»£ç ">å®¢æˆ·ç«¯ä»£ç </h3><p>æ‚¨éœ€è¦å®ç°ä»¥ä¸‹å®¢æˆ·ç«¯ç¨‹åºã€‚</p><p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€10æ¬¡pingã€‚å› ä¸ºUDPæ˜¯ä¸å¯é çš„åè®®ï¼Œæ‰€ä»¥ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®åŒ…å¯èƒ½åœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯ä¸èƒ½æ— é™æœŸåœ°ç­‰å¾…pingæ¶ˆæ¯çš„å›å¤ã€‚å®¢æˆ·ç­‰å¾…æœåŠ¡å™¨å›ç­”çš„æ—¶é—´è‡³å¤šä¸ºä¸€ç§’ï¼Œå¦‚æœåœ¨ä¸€ç§’å†…æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥å‡å®šæ•°æ®åŒ…åœ¨ç½‘ç»œä¼ è¾“æœŸé—´ä¸¢å¤±ã€‚æ‚¨éœ€è¦æŸ¥æ‰¾Pythonæ–‡æ¡£ï¼Œä»¥äº†è§£å¦‚ä½•åœ¨æ•°æ®æŠ¥å¥—æ¥å­—ä¸Šè®¾ç½®è¶…æ—¶å€¼ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæ‚¨çš„å®¢æˆ·ç«¯ç¨‹åºåº”è¯¥</p><ol type="1"><li>ä½¿ç”¨UDPå‘é€pingæ¶ˆæ¯ï¼ˆæ³¨æ„ï¼šä¸åŒäºTCPï¼Œæ‚¨ä¸éœ€è¦é¦–å…ˆå»ºç«‹è¿æ¥ï¼Œå› ä¸ºUDPæ˜¯æ— è¿æ¥åè®®ã€‚ï¼‰</li><li>ä»æœåŠ¡å™¨è¾“å‡ºå“åº”æ¶ˆæ¯</li><li>å¦‚æœä»æœåŠ¡å™¨å—åˆ°å“åº”ï¼Œåˆ™è®¡ç®—å¹¶è¾“å‡ºæ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶å»¶ï¼ˆRTTï¼‰ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œ</li><li>å¦åˆ™è¾“å‡ºâ€œè¯·æ±‚è¶…æ—¶â€</li></ol><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ‚¨åº”è¯¥å…ˆåœ¨è®¡ç®—æœºä¸Šè¿è¡Œ<code>UDPPingerServer.py</code>ï¼Œå¹¶é€šè¿‡å‘<code>localhost</code>ï¼ˆæˆ–127.0.0.1ï¼‰å‘é€æ•°æ®åŒ…æ¥æµ‹è¯•å®¢æˆ·ç«¯ã€‚è°ƒè¯•å®Œæˆä»£ç åï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°pingæœåŠ¡å™¨å’Œpingå®¢æˆ·ç«¯åœ¨ä¸åŒæœºå™¨ä¸Šé€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚</p><h3 id="æ¶ˆæ¯æ ¼å¼">æ¶ˆæ¯æ ¼å¼</h3><p>æœ¬å®éªŒä¸­çš„pingæ¶ˆæ¯æ ¼å¼ä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼ã€‚å®¢æˆ·ç«¯æ¶ˆæ¯åªæœ‰ä¸€è¡Œï¼Œç”±ä»¥ä¸‹æ ¼å¼çš„ASCIIå­—ç¬¦ç»„æˆï¼š</p><blockquote><p>Ping <em>sequence_number time</em></p></blockquote><p>å…¶ä¸­<em>sequence_number</em>ä»1å¼€å§‹ï¼Œä¸€ç›´åˆ°10ï¼Œå…±10æ¡æ¶ˆæ¯ï¼Œè€Œ<em>time</em>åˆ™æ˜¯å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯æ—¶çš„æ—¶é—´ã€‚</p><h3 id="éœ€è¦ä¸Šäº¤çš„å†…å®¹-1">éœ€è¦ä¸Šäº¤çš„å†…å®¹</h3><p>æ‚¨éœ€è¦ä¸Šäº¤å®Œæ•´çš„å®¢æˆ·ç«¯ä»£ç å’Œå±å¹•æˆªå›¾ï¼Œä»¥éªŒè¯æ‚¨çš„pingç¨‹åºæ˜¯å¦æŒ‰éœ€æ±‚è¿è¡Œã€‚</p><h3 id="å¯é€‰ç»ƒä¹ -1">å¯é€‰ç»ƒä¹ </h3><ol type="1"><li>ç›®å‰ï¼Œç¨‹åºè®¡ç®—æ¯ä¸ªæ•°æ®åŒ…çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼Œå¹¶å•ç‹¬æ‰“å°å‡ºæ¥ã€‚è¯·æŒ‰ç…§æ ‡å‡†pingç¨‹åºçš„æ¨¡å¼ä¿®æ”¹ã€‚æ‚¨éœ€è¦åœ¨å®¢æˆ·ç«¯æ¯æ¬¡pingåæ˜¾ç¤ºæœ€å°ï¼Œæœ€å¤§å’Œå¹³å‡RTTã€‚å¦å¤–ï¼Œè¿˜éœ€è®¡ç®—ä¸¢åŒ…ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰ã€‚</li><li>UDP Pingçš„å¦ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨æ˜¯UDPHeartbeatã€‚å¿ƒè·³å¯ç”¨äºæ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦å·²å¯åŠ¨å¹¶è¿è¡Œï¼Œå¹¶æŠ¥å‘Šå•å‘ä¸¢åŒ…ã€‚å®¢æˆ·ç«¯åœ¨UDPæ•°æ®åŒ…ä¸­å°†ä¸€ä¸ªåºåˆ—å·å’Œå½“å‰æ—¶é—´æˆ³å‘é€ç»™æ­£åœ¨ç›‘å¬å®¢æˆ·ç«¯å¿ƒè·³çš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œè®¡ç®—æ—¶å·®ï¼ŒæŠ¥å‘Šä¸¢åŒ…ï¼ˆè‹¥å‘ç”Ÿï¼‰ã€‚å¦‚æœå¿ƒè·³æ•°æ®åŒ…åœ¨æŒ‡å®šçš„ä¸€æ®µæ—¶é—´å†…ä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå·²ç»åœæ­¢ã€‚å®ç°UDPHeartbeatï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼‰ã€‚æ‚¨éœ€è¦ä¿®æ”¹ç»™å®šçš„UDPPingerServer.pyå’Œæ‚¨è‡ªå·±çš„UDPpingå®¢æˆ·ç«¯ã€‚</li></ol><p><strong>ä»¥ä¸Šå†…å®¹æ¥è‡ªã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶å‘ä¸‹æ–¹æ³•ã€‹å®˜æ–¹æ–‡æ¡£ï¼Œä¸æˆ‘çš„ä½œä¸šæœ‰éƒ¨åˆ†ä¸åŒï¼Œè¯¦è§pdfã€‚</strong></p><p><strong>ä¸ªäººå®éªŒæŠ¥å‘Š</strong></p><embed src="./Socket.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦</title>
    <link href="/2022/03/30/robot4/"/>
    <url>/2022/03/30/robot4/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/gVyodA.jpg" /></p><h1id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦">æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä¸€é˜¶è¿åŠ¨å­¦ä¸é™åŠ›å­¦</h1><p>ä¸€ã€è®¡ç®—/è§£ç­”é¢˜, è¯·å†™å‡ºè§£é¢˜è¿‡ç¨‹ (30 åˆ†)ã€‚</p><ol type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRP æœºå™¨äºº (å³è®²ä¹‰ä¾‹ 3 ), æ±‚ (10åˆ†):</li></ol><ol type="a"><li><p>å†™å‡ºå„å…³èŠ‚ç›¸å¯¹ç©ºé—´åæ ‡ç³» <spanclass="math inline">\(\{s\}\)</span> çš„æ—‹é‡åæ ‡ã€‚æ±‚è§£å½“ <spanclass="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦; æ‰‹ç»˜æ­¤æ—¶çš„æœºå™¨äºº, æ ‡æ³¨ <spanclass="math inline">\(\{s\}\)</span> ç³»å’Œ <spanclass="math inline">\(\{b\}\)</span> ç³», æ±‚è§£æ­¤æ—¶çš„ç©ºé—´é›…å…‹æ¯” <spanclass="math inline">\(J_{s}\)</span>;</p></li><li><p>å†™å‡ºå„å…³èŠ‚ç›¸å¯¹æœ«ç«¯åæ ‡ç³» <spanclass="math inline">\(\{b\}\)</span> çš„æ—‹é‡åæ ‡ã€‚æ±‚è§£å½“ <spanclass="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦, ç¡®è®¤ä¸ a) ä¸­ç»“æœç›¸åŒ;æ±‚è§£æ­¤æ—¶çš„ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span>ã€‚</p></li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002641939.png" /></p><ol type="a"><li></li></ol><p>æ­¤æ—¶çš„æœºå™¨äººå¦‚å›¾æ‰€ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002652483.png" /></p><p>åˆå§‹ä½å½¢<strong>M</strong>ï¼š</p><p><span class="math display">\[M=\left[\begin{array}{cccc}-1 &amp; 0 &amp; 0 &amp; 0  \\0 &amp; 0 &amp; 1 &amp; 3  \\0 &amp; 1 &amp; 0 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{s\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{S}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,1) &amp; (0, 0,0) \\\hline 2 &amp; (1,0,0) &amp; (0, 2,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline\end{array}\\\]</span></p><p>æ•…å½“<span class="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦<strong>PoE</strong>ä¸ç©ºé—´é›…å…‹æ¯” <spanclass="math inline">\(J_{s}\)</span>ï¼š</p><p>$$ T=\</p><p>J_{s}()=$$</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> T <span class="token operator">=</span> <span class="token function">FKinSpace</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> Slist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>T <span class="token operator">=</span> M<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">1</span>    T <span class="token operator">=</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> T<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> Js <span class="token operator">=</span> <span class="token function">JacobianSpace</span><span class="token punctuation">(</span>Slist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>Js <span class="token operator">=</span> Slist<span class="token punctuation">;</span>T <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token function">length</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span>    T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Js</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Adjoint</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Slist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="a"><li></li></ol><p>åˆå§‹ä½å½¢<strong>M</strong>ï¼š</p><p><span class="math display">\[M=\left[\begin{array}{cccc}-1 &amp; 0 &amp; 0 &amp; 0  \\0 &amp; 0 &amp; 1 &amp; 3  \\0 &amp; 1 &amp; 0 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{b\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{B}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,1,0) &amp; (3, 0,0) \\\hline 2 &amp; (-1,0,0) &amp; (0, 3,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 0,1) \\\hline\end{array}\\\]</span></p><p>æ•…å½“<span class="math inline">\(\theta=\left(90^{\circ}, 90^{\circ},1\right)\)</span> æ—¶çš„æ­£å‘è¿åŠ¨å­¦<strong>PoE</strong>ä¸ç‰©ä½“é›…å…‹æ¯” <spanclass="math inline">\(J_{b}\)</span>ï¼š</p><p><span class="math display">\[T=\left[\begin{array}{cccc}0 &amp; 0 &amp; -1 &amp; -3 \\-1 &amp; 0 &amp; 0 &amp; 0\\0 &amp; 1 &amp; 0 &amp; 2\\0 &amp; 0 &amp; 0 &amp; 1\\\end{array}\right]\\(ä¸aä¸­ç»“æœç›¸åŒ)\\J_{b}(\theta)=\left[\begin{array}{ccc}0 &amp; -1 &amp; 0 \\0 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 \\0 &amp; 4 &amp; 0 \\0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> T <span class="token operator">=</span> <span class="token function">FKinBody</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> Blist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>T <span class="token operator">=</span> M<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token function">size</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span>    T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> Jb <span class="token operator">=</span> <span class="token function">JacobianBody</span><span class="token punctuation">(</span>Blist<span class="token punctuation">,</span> thetalist<span class="token punctuation">)</span>Jb <span class="token operator">=</span> Blist<span class="token punctuation">;</span>T <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token function">length</span><span class="token punctuation">(</span>thetalist<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">1</span>       T <span class="token operator">=</span> T <span class="token operator">*</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span><span class="token function">VecTose3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">*</span> <span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">thetalist</span><span class="token punctuation">(</span><span class="token number">i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Jb</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Adjoint</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Blist</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRRP ç©ºé—´å¼€é“¾æœºå™¨äºº, <spanclass="math inline">\(p\)</span> ä¸º<spanclass="math inline">\(\{b\}\)</span> ç³»åŸç‚¹ç›¸å¯¹äº <spanclass="math inline">\(\{s\}\)</span> ç³»çš„åæ ‡, æ±‚ (10 åˆ†):</li></ol><ol type="a"><li>è¯•æ±‚å½“ <span class="math inline">\(\theta=(0,0, \pi / 2, L)\)</span>æ—¶çš„ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}(\theta)\)</span>;</li><li>è¯•æ±‚å½“ <span class="math inline">\(\theta=(0,0, \pi / 2, L)\)</span>ä¸” <span class="math inline">\(\dot{\theta}=(1,1,1,1)\)</span> æ—¶çš„<span class="math inline">\(\dot{p}\)</span>ã€‚</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002705450.png" /></p><ol type="a"><li></li></ol><p>ç›¸å¯¹ç©ºé—´åæ ‡ç³» <span class="math inline">\(\{b\}\)</span>çš„æ—‹é‡åæ ‡ä¸ºï¼š</p><p><span class="math display">\[\mathcal{B}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,1) &amp; (-L, 0,0) \\\hline 2 &amp; (1,0,0) &amp; (0, 0,L) \\\hline 3 &amp; (0,0,1)  &amp; (0, 0,0) \\\hline 4 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline\end{array}\\\]</span></p><p>ä½¿ç”¨JacobianBody(Blist, thetalist)è®¡ç®—å¾—ï¼Œå½“ <spanclass="math inline">\(\theta=(0,0, \pi / 2, L)\)</span> æ—¶çš„ç‰©ä½“é›…å…‹æ¯”<span class="math inline">\(J_{b}(\theta)\)</span>ï¼š</p><p><span class="math display">\[J_{b}(\theta)=\left[\begin{array}{cccC}0 &amp; 0 &amp; 0 &amp;0\\0 &amp; -1 &amp; 0 &amp;0\\1 &amp; 0 &amp; 1 &amp;0\\-L &amp; 0 &amp; -L&amp;0 \\L &amp; 0 &amp; 0 &amp;1\\0 &amp; L &amp; 0&amp;0\end{array}\right]\]</span></p><ol start="2" type="a"><li></li></ol><p>å½“ <spanclass="math inline">\(\dot{\theta}=(1,1,1,1)\)</span>æ—¶ï¼š</p><p><span class="math display">\[\mathcal{V}_{b}=J_{b}(\theta) \dot{\theta}=\left[\begin{array}{c}\omega_{b} \\v_{b}\end{array}\right]=\left[\begin{array}{c}0\\-1\\2\\-2L\\L+1\\L\end{array}\right]\\\because R_{s b}=\left[\begin{array}{rrc}0 &amp; -1 &amp; 0 \\1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1\end{array}\right] \\\therefore\dot{p}=R_{s b} v_{b}=\left[\begin{array}{c}-L-1 \\-2 L \\L\end{array}\right]\]</span></p><ol start="3" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ PRPRRR ç©ºé—´å¼€é“¾æœºå™¨äºº,æ­¤æ—¶åŸºåæ ‡ç³»åŸç‚¹ä¸æœ«ç«¯åæ ‡ç³»åŸç‚¹ä¹‹é—´è·ç¦»ä¸º <spanclass="math inline">\(L\)</span>, æ±‚ (10 åˆ†):</li></ol><ol type="a"><li><p>ç©ºé—´é›…å…‹æ¯” <span class="math inline">\(J_{S}\)</span>çš„å‰ä¸‰åˆ—;</p></li><li><p>ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span>çš„åä¸¤åˆ—;</p></li><li><p>åˆå§‹ä½å½¢æ—¶çš„ <spanclass="math inline">\(J_{S}(0)\)</span>;</p></li><li><p>åˆå§‹ä½å½¢æ—¶, è‹¥åœ¨æœ«ç«¯åæ ‡ç³»çš„ <spanclass="math inline">\(-\hat{z}_{b}\)</span> æ–¹å‘äº§ç”Ÿ <spanclass="math inline">\(100 \mathrm{~N}\)</span> çš„åŠ›,éœ€è¦å…³èŠ‚æä¾›å¤šå°‘åŠ›æˆ–åŠ›çŸ©? <imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330002722057.png" /></p></li><li></li></ol><p>ç©ºé—´é›…å…‹æ¯” <span class="math inline">\(J_{S}\)</span> çš„å‰ä¸‰åˆ—ï¼š</p><p><span class="math display">\[\begin{aligned}&amp;\mathcal{V}_{s 1}(\theta): \quad \omega_{s1}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 1}=\left[\begin{array}{l}0 \\0 \\1\end{array}\right] \\&amp;\mathcal{V}_{s 2}(\theta): \quad \omega_{s2}=\left[\begin{array}{l}0 \\0 \\1\end{array}\right], q_{2}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 2}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right] \\&amp;\mathcal{V}_{s 3}(\theta): \quad \omega_{s3}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{s 3}=e^{\hat{z} \theta_{2}}\left[\begin{array}{l}0 \\1 \\0\end{array}\right]=\left[\begin{array}{c}-\sin \theta_{2} \\\cos \theta_{2} \\0\end{array}\right]\end{aligned}\]</span></p><ol start="2" type="a"><li></li></ol><p>ç‰©ä½“é›…å…‹æ¯” <span class="math inline">\(J_{b}\)</span> çš„åä¸¤åˆ—ï¼š</p><p><span class="math display">\[\begin{aligned}&amp;\mathcal{V}_{b 6}(\theta): \quad \omega_{b6}=\left[\begin{array}{l}1 \\0 \\0\end{array}\right], q_{6}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{b 6}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right] \\&amp;\mathcal{V}_{b 5}(\theta): \quad \omega_{b5}=e^{\hat{x}\left(-\theta_{6}\right)}\left[\begin{array}{l}0 \\0 \\1\end{array}\right]=\left[\begin{array}{c}0 \\\sin \theta_{6} \\\cos \theta_{6}\end{array}\right], q_{5}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right], v_{b 5}=\left[\begin{array}{l}0 \\0 \\0\end{array}\right]\end{aligned}\]</span></p><ol start="3" type="a"><li></li></ol><p>åˆå§‹ä½å½¢æ—¶Î¸=0ï¼Œæ•…$ J_{S}(0)$ï¼š</p><p><span class="math display">\[\because \mathcal{S}_{i}ï¼š~\begin{array}{|c||c|c|}\hline i &amp; \omega_{i}  &amp; v_{i} \\\hline \hline 1 &amp; (0,0,0) &amp; (0, 0,1) \\\hline 2 &amp; (0,0,1) &amp; (0,0,0) \\\hline 3 &amp; (0,0,0)  &amp; (0, 1,0) \\\hline 4 &amp; (0,1,0) &amp; (0, 0,0) \\\hline 5 &amp; (0,0,1)  &amp; (L, 0,0) \\\hline 6 &amp; (1,0,0) &amp; (0, 0,-L) \\\hline\end{array}\\\therefore J_{s}(0)=\left[\begin{array}{cccccc}0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 0 &amp; L &amp; 0 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -L\end{array}\right]\]</span></p><ol start="4" type="a"><li></li></ol><p><span class="math display">\[\begin{aligned}&amp;\because r_{s b}=\left[\begin{array}{l}0 \\L \\0\end{array}\right], f_{b}=\left[\begin{array}{c}0 \\0 \\-100\end{array}\right]\\&amp;\therefore\mathcal{F}_{s}=\left[\begin{array}{c}m_{s} \\f_{s}\end{array}\right]=\left[\begin{array}{c}r_{s b} \times f_{b} \\f_{b}\end{array}\right]=\left[\begin{array}{c}-100 L \\0 \\0 \\0 \\0 \\-100\end{array}\right]\\&amp;\therefore \tau=J_{s}^{T}(0) \mathcal{F}_{s}\\&amp;=\left[\begin{array}{cccccc}0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1 &amp; L &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -L\end{array}\right]\left[\begin{array}{c}-100 L \\0 \\0 \\0 \\0 \\-100\end{array}\right]=\left[\begin{array}{c}-100 \\0 \\0 \\0 \\0 \\0\end{array}\right]\end{aligned}\]</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ— äººæœºè‡ªä¸»å¯¼èˆª</title>
    <link href="/2022/03/28/UAV/"/>
    <url>/2022/03/28/UAV/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ— äººç³»ç»Ÿå¯¼è®ºè¯¾ç¨‹è®¾è®¡æŠ¥å‘Š</p><span id="more"></span><embed src="./UAV.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>æ— äººç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Visual Synthesis Pre-training for NUWA</title>
    <link href="/2022/03/28/NUWA/"/>
    <url>/2022/03/28/NUWA/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åŸºäºæ·±åº¦ç”Ÿæˆæ¨¡å‹çš„å¤šæ¨¡æ€è§†è§‰åˆæˆ</p><span id="more"></span><embed src="./NUWA.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>äººå·¥æ™ºèƒ½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ åœ¨æ–°å† è‚ºç‚è¾…åŠ©è¯Šæ–­ä¸­çš„åº”ç”¨</title>
    <link href="/2022/03/28/AI/"/>
    <url>/2022/03/28/AI/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç»¼è¿°è®ºæ–‡</p><span id="more"></span><embed src="./COVID-19.pdf" width="100%" height="750" type="application/pdf">]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨&amp;æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨</title>
    <link href="/2022/03/24/graph/"/>
    <url>/2022/03/24/graph/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ¬è¿è‡ªgithub.com/OUCMachineLearning/OUCML</p><span id="more"></span><h1 id="æœºå™¨æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨">æœºå™¨&amp;æ·±åº¦å­¦ä¹ ä»£ç é€ŸæŸ¥è¡¨</h1><h3 id="ç¥ç»ç½‘ç»œ">ç¥ç»ç½‘ç»œ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220324225648930.png" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/%E7%BD%91%E7%BB%9C.png" /></p><h3 id="çº¿æ€§ä»£æ•°">çº¿æ€§ä»£æ•°</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/liner.jpg" /></p><h3 id="pythonåŸºç¡€">pythonåŸºç¡€</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sci.jpg" /></p><h3 id="scipyç§‘å­¦è®¡ç®—">scipyç§‘å­¦è®¡ç®—</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sci.png" /></p><h3 id="spark">spark</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/spark.jpeg" /></p><h2 id="æ•°æ®ä¿å­˜åŠå¯è§†åŒ–">æ•°æ®ä¿å­˜åŠå¯è§†åŒ–</h2><h3 id="numpy">numpy</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/np.png" /></p><h3 id="pandas">pandas</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/pd.png" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/df.jpeg" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/df2.jpeg" /></p><h3 id="bokeh">bokeh</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/bokeh.jpg" /></p><h2 id="ç”»å›¾">ç”»å›¾</h2><h3 id="matplotlib">matplotlib</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/matplot.png" /></p><h3 id="ggplot">ggplot</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/data%20vis.jpeg" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/gg.jpeg" /></p><h2 id="æœºå™¨å­¦ä¹ ">æœºå™¨å­¦ä¹ </h2><h3 id="sklearn">sklearn</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sk.jpg" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/scikit.png" /></p><h3 id="keras">keras</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/keras.jpeg" /></p><h3 id="tensorflow">tensorflow</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/TF.png" /></p><h2 id="ç®—æ³•">ç®—æ³•</h2><h3 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/datastruct.png" /></p><h3 id="å¤æ‚åº¦">å¤æ‚åº¦</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/O.png" /></p><h3 id="æ’åºç®—æ³•">æ’åºç®—æ³•</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/sort.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æ­£å‘è¿åŠ¨å­¦</title>
    <link href="/2022/03/24/robot3/"/>
    <url>/2022/03/24/robot3/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220324223524468.png" /></p><h1 id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯æ­£å‘è¿åŠ¨å­¦">æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”æ­£å‘è¿åŠ¨å­¦</h1><ol type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ PRRRRR ç©ºé—´å¼€é“¾æœºå™¨äºº,è¯•ç¡®å®šæœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span> ã€åœ¨ <spanclass="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ Si ã€$ åœ¨ ${b}ç³»æè¿°çš„èºæ—‹è½´ Bi ï¼ˆå¦‚è®²ä¹‰é‚£æ ·åˆ—è¡¨å³å¯)ã€‚</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220323164358687.png" /></p><p><strong>è§£å¾—ï¼š</strong></p><p>ç›¸å¯¹åŸºåæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span> :</p><p><span class="math display">\[T(\theta)=e^{\left[\mathcal{S}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{S}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{S}_{n}\right] \theta_{n}} M\]</span></p><p>ç›¸å¯¹æœ«ç«¯åæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span>:</p><p><span class="math display">\[T(\theta)=M e^{\left[\mathcal{B}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{B}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{B}_{n}\right] \theta_{n}}\]</span></p><p>æœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span>ï¼š</p><p><span class="math display">\[\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; L_1+L_2+L_3+L_4 \\0 &amp; 0 &amp; 1 &amp; h \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>åœ¨ <span class="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ $_{i}$ï¼š</p><p><span class="math display">\[[\mathcal{S}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{S}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline\hline 1 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0) \\\hline 2 &amp; (0,0,1) &amp; (0, L_1,0)&amp; (L_1, 0,0) \\\hline 3 &amp; (-1,0,0) &amp; (0, L_1,h)&amp; (0, -h,L_1) \\\hline 4 &amp; (-1,0,0) &amp; (0,L_1+L_2,h)&amp; (0, -h,L_1+L_2) \\\hline 5 &amp; (-1,0,0) &amp; (0,L_1+L_2+L_3,h)&amp; (0, -h,L_1+L_2+L_3)\\\hline 6 &amp; (0,1,0) &amp; (0,0,h) &amp; (-h, 0,1)\\\hline\end{array}\]</span></p><p>åœ¨ <span class="math inline">\(\{b\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ <spanclass="math inline">\(\mathcal{B}_{i}\)</span>ï¼š</p><p><span class="math display">\[[\mathcal{B}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{B}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline\hline 1 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0) \\\hline 2 &amp; (0,0,1) &amp; (0, -L_2-L_3-L_4,0)&amp; (-L_2-L_3-L_4,0,0) \\\hline 3 &amp; (-1,0,0) &amp; (0, -L_2-L_3-L_4,0)&amp; (0,0,-L_2-L_3-L_4) \\\hline 4 &amp; (-1,0,0) &amp; (0,-L_3-L_4,0)&amp; (0, 0,-L_3-L_4) \\\hline 5 &amp; (-1,0,0) &amp; (0,-L_4,0)&amp; (0, 0,-L_4) \\\hline 6 &amp; (0,1,0) &amp; (0,0,0) &amp; (0, 0,0)\\\hline\end{array}\]</span></p><ol start="2" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRRRPR ç©ºé—´å¼€é“¾æœºå™¨äºº,è¯•ç¡®å®šæœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span> ã€åœ¨ <spanclass="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ Si ã€$ åœ¨ ${b}ç³»æè¿°çš„èºæ—‹è½´ Bi ï¼ˆå¦‚è®²ä¹‰é‚£æ ·åˆ—è¡¨å³å¯)ã€‚ <imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220323164443717.png" /></li></ol><p><strong>è§£å¾—ï¼š</strong></p><p>ç›¸å¯¹åŸºåæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span> :</p><p><span class="math display">\[T(\theta)=e^{\left[\mathcal{S}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{S}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{S}_{n}\right] \theta_{n}} M\]</span></p><p>ç›¸å¯¹æœ«ç«¯åæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span>:</p><p><span class="math display">\[T(\theta)=M e^{\left[\mathcal{B}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{B}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{B}_{n}\right] \theta_{n}}\]</span></p><p>æœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span>ï¼š</p><p><span class="math display">\[\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; L_1 \\0 &amp; 1 &amp; 0 &amp; L_3+L_4 \\0 &amp; 0 &amp; 1 &amp; -L_5-L_6 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>åœ¨ <span class="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ $_{i}$ï¼š</p><p><span class="math display">\[[\mathcal{S}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{S}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline \hline 1 &amp; (1,0,0) &amp; (0, 0,0)&amp; (0, 0,0) \\\hline 2 &amp; (0,0,-1) &amp; (L_1,0,0)&amp; (0, L_1,0) \\\hline 3 &amp; (0,1,0) &amp; (L_1,0,L_2)&amp; (-L_2, 0,L_1) \\\hline 4 &amp; (1,0,0) &amp; (0,L_3,0)&amp; (0, 0,-L_3) \\\hline 5 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0)\\\hline 6 &amp; (0,1,0) &amp; (L_1,0,-L_5) &amp; (L_5, 0,-L_1) \\\hline\end{array}\]</span></p><p>åœ¨ <span class="math inline">\(\{b\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ <spanclass="math inline">\(\mathcal{B}_{i}\)</span>ï¼š</p><p><span class="math display">\[[\mathcal{B}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{B}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline \hline 1 &amp; (1,0,0) &amp; (0, -L_3-L_4,L_5+L_6)&amp; (0,L_5+L_6,L_3+L_4) \\\hline 2 &amp; (0,0,-1) &amp; (0, -L_3-L_4,0)&amp; (L_3+L_4, 0,0) \\\hline 3 &amp; (0,1,0) &amp; (0,0,L_2+L_5+L_6)&amp; (-L_2-L_5-L_6, 0,0)\\\hline 4 &amp; (1,0,0) &amp; (0,-L_4,L_5+L_6)&amp; (0, L_5+L_6,L_4) \\\hline 5 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0)\\\hline 6 &amp; (0,1,0) &amp; (0,0,L_6) &amp; (-L_6, 0,0) \\\hline\end{array}\]</span></p><ol start="3" type="1"><li>å¦‚ä¸‹å›¾æ‰€ç¤ºæœ‰ä¸€å¤„äºåˆå§‹ä½å½¢çš„ RRRPRR ç©ºé—´å¼€é“¾æœºå™¨äºº,è¯•ç¡®å®šæœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span> ã€åœ¨ <spanclass="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ Si ã€$ åœ¨ ${b}ç³»æè¿°çš„èºæ—‹è½´ Bi ï¼ˆå¦‚è®²ä¹‰é‚£æ ·åˆ—è¡¨å³å¯)ã€‚</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220323164454698.png" /></p><p><strong>è§£å¾—ï¼š</strong></p><p>ç›¸å¯¹åŸºåæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span> :</p><p><span class="math display">\[T(\theta)=e^{\left[\mathcal{S}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{S}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{S}_{n}\right] \theta_{n}} M\]</span></p><p>ç›¸å¯¹æœ«ç«¯åæ ‡ç³»çš„<span class="math inline">\(\mathrm{PoE}\)</span>:</p><p><span class="math display">\[T(\theta)=M e^{\left[\mathcal{B}_{1}\right] \theta_{1}} \cdotse^{\left[\mathcal{B}_{n-1}\right] \theta_{n-1}}e^{\left[\mathcal{B}_{n}\right] \theta_{n}}\]</span></p><p>æœ«ç«¯åˆå§‹ä½å½¢ <span class="math inline">\(M\)</span>ï¼š</p><p><span class="math display">\[\left[\begin{array}{cccc}-1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; 4 \\0 &amp; 0 &amp; -1 &amp; 1 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>åœ¨ <span class="math inline">\(\{0\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ $_{i}$ï¼š</p><p><span class="math display">\[[\mathcal{S}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{S}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline \hline 1 &amp; (0,0,1) &amp; (0, 0,0)&amp; (0, 0,0) \\\hline 2 &amp; (1,0,0) &amp; (0,0,2)&amp; (0, 2,0) \\\hline 3 &amp; (1,0,0) &amp; (0,1,2)&amp; (0, 2,-1) \\\hline 4 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0) \\\hline 5 &amp; (0, \frac{\sqrt{2}}{2} , \frac{\sqrt{2}}{2} ) &amp;(0,3,2) &amp; (\frac{\sqrt{2}}{2}, 0,0)\\\hline 6 &amp; (0,0,-1) &amp; (0,4,0)&amp; (-4, 0,0) \\\hline\end{array}\]</span></p><p>åœ¨ <span class="math inline">\(\{b\}\)</span> ç³»æè¿°çš„èºæ—‹è½´ <spanclass="math inline">\(\mathcal{B}_{i}\)</span>ï¼š</p><p><span class="math display">\[[\mathcal{B}]=\left[\begin{array}{cc}{[\omega]} &amp; v \\0 &amp; 0\end{array}\right] \in \operatorname{se}(3) \longrightarrow\mathcal{B}=\left[\begin{array}{c}\omega \\v\end{array}\right] \in \mathbb{R}^{6}\]</span></p><p><span class="math display">\[\because v_i=-\omega_{i} \times q_i \\\begin{array}{|c||c|c|c|}\hline i &amp; \omega_{i} &amp; q_i &amp; v_{i} \\\hline \hline 1 &amp; (0,0,-1) &amp; (0, -4,0)&amp; (4, 0,0) \\\hline 2 &amp; (-1,0,0) &amp; (0,-4,-1)&amp; (0, 1,-4) \\\hline 3 &amp; (-1,0,0) &amp; (0,-3,-1)&amp; (0, 1,-3) \\\hline 4 &amp; (0,0,0) &amp; NULL &amp; (0, 1,0) \\\hline 5 &amp; (0, \frac{\sqrt{2}}{2} , -\frac{\sqrt{2}}{2} ) &amp;(0,-1,-1) &amp; (\sqrt{2}, 0,0)\\\hline 6 &amp; (0,0,1) &amp; (0,0,0)&amp; (0, 0,0) \\\hline\end{array}\]</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“åŸç† Exercises 2</title>
    <link href="/2022/03/23/data2/"/>
    <url>/2022/03/23/data2/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Database System Concepts Exercises of Chapter 3</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220323230708879.png" /></p><h1 id="database-system-concepts-exercises-of-chapter-3">Database SystemConcepts Exercises of Chapter 3</h1><p><strong>Exercises 3.9</strong> Consider the employee database ofFigure <span class="math inline">\(3.20\)</span>, where the primary keysare underlined. Give an expression in SQL for each of the followingqueries.</p><ol type="a"><li><p>Find the names and cities of residence of all employees who workfor "First Bank Corporation".</p></li><li><p>Find the names, street addresses, and cities of residence of allemployees who work for "First Bank Corporation" and earn more than <spanclass="math inline">\(\$ 10,000\)</span>.</p></li><li><p>Find all employees in the database who do not work for "FirstBank Corporation".</p></li><li><p>Find all employees in the database who earn more than eachemployee of "Small Bank Corporation".</p></li><li><p>Assume that the companies may be located in several cities. Findall companies located in every city in which "Small Bank Corporation" islocated.</p></li><li><p>Find the company that has the most employees.</p></li><li><p>Find those companies whose employees earn a higher salary, onaverage, than the average salary at "First Bank Corporation".</p></li></ol><p><span class="math display">\[employee (\underline{employee\_name}, street, city)\\works (\underline{employee\_name}, company\_name, salary)\\company (\underline{company\_name}, city)\\manages ( \underline{ employee\_name, } manager\_name )\\Figure~~3.20~~Employee~~database~~for~~Exercises~~3.9\]</span></p><p><strong>My answerï¼š</strong></p><ol type="a"><li></li></ol><p><strong>select</strong> e.employee_name, city <strong>from</strong>employee <strong>as</strong> e, works <strong>as</strong> w<strong>where</strong> w.company_name <spanclass="math inline">\(=\)</span> 'First Bank Corporation'<strong>and</strong> w.employee_name <spanclass="math inline">\(=\)</span> e.employee_name</p><ol start="2" type="a"><li></li></ol><p><strong>select</strong> * <strong>from</strong> employee<strong>where</strong> employee_name <strong>in</strong>(<strong>select</strong> employee_name <strong>from</strong> works<strong>where</strong> company_name = 'First Bank Corporation'<strong>and</strong> salary <spanclass="math inline">\(&gt;10000\)</span> )</p><ol start="3" type="a"><li></li></ol><p><strong>select</strong> employee_name <strong>from</strong> works<strong>where</strong> company_name <spanclass="math inline">\(\neq\)</span> 'First Bank Corporation'</p><ol start="4" type="a"><li></li></ol><p><strong>select</strong> employee_name <strong>from</strong> works<strong>where</strong> salary <span class="math inline">\(&gt;\)</span><strong>all</strong> (<strong>select</strong> salary<strong>from</strong> works <strong>where</strong> company_name <spanclass="math inline">\(=\)</span> 'Small Bank Corporation')</p><ol start="5" type="a"><li></li></ol><p><strong>select</strong> S.company_name <strong>from</strong> company<strong>as</strong> <span class="math inline">\(S\)</span><strong>where</strong> <strong>not exists</strong>((<strong>select</strong> city <strong>from</strong> company<strong>where</strong> company_name <spanclass="math inline">\(=\)</span> 'Small Bank Corporation')<strong>except</strong> (<strong>select</strong> city<strong>from</strong> company <strong>as</strong> <spanclass="math inline">\(T\)</span> <strong>where</strong> S.company_name<span class="math inline">\(=\)</span> T.company_name ) )</p><ol start="6" type="a"><li></li></ol><p><strong>select</strong> company_name <strong>from</strong> works<strong>group by</strong> company_name <strong>having count</strong>(<strong>distinct</strong> employee_name) <spanclass="math inline">\(&gt;=\)</span> <strong>all</strong>(<strong>select</strong> <strong>count</strong>(<strong>distinct</strong> employee_name) <strong>from</strong> works<strong>group by</strong> company_name)</p><ol start="7" type="a"><li></li></ol><p><strong>select</strong> company_name <strong>from</strong> works<strong>group by</strong> company_name <strong>having</strong><strong>avg</strong> (salary) <span class="math inline">\(&gt;\)</span>(<strong>select</strong> <strong>avg</strong> (salary)<strong>from</strong> works <strong>where</strong> company_name <spanclass="math inline">\(=\)</span> 'First Bank Corporation')</p><p><strong>Exercises 3.8</strong> Consider the bank database of Figure<span class="math inline">\(3.19\)</span>, where the primary keys areunderlined. Construct the following SQL queries for this relationaldatabase.</p><ol type="a"><li><p>Find all customers of the bank who have an account but not aloan.</p></li><li><p>Find the names of all customers who live on the same street andin the same city as "Smith".</p></li><li><p>Find the names of all branches with customers who have an accountin the bank and who live in "Harrison".</p></li></ol><p><span class="math display">\[branch(\underline{branch\_name}, branch\_city, assets)\\customer (\underline{customer\_name}, customer\_street,customer\_city)\\ loan (\underline{loan\_numbe}r, branch\_name,amount)\\borrower (\underline{customer\_name}, \underline{loan\_number})\\account (\underline{account\_number}, branch\_name, balance)\\depositor (\underline{customer\_name}, \underline{account\_number})\\Figure~~3.19~~Banking~~database~~for~~Exercises~~3.8~~and~~3.15\]</span></p><p><strong>My answer:</strong></p><ol type="a"><li></li></ol><p><strong>select</strong> customer_name <strong>from</strong> depositor<strong>except</strong> (<strong>select</strong> customer_name<strong>from</strong> borrower)</p><ol start="2" type="a"><li></li></ol><p><strong>select</strong> F.customer_name <strong>from</strong>customer <strong>as</strong> <span class="math inline">\(F\)</span> joincustomer <strong>as</strong> <span class="math inline">\(S\)</span>using(customer_street, customer_city) <strong>where</strong>S.customer_name <span class="math inline">\(=\)</span> 'Smith'</p><ol start="3" type="a"><li></li></ol><p><strong>select</strong> <strong>distinct</strong> branch_name<strong>from</strong> account <strong>natural join</strong> depositor<strong>natural join</strong> customer <strong>where</strong>customer_city = 'Harrison'</p><p><strong>Exercises 3.15</strong> Consider the bank database of Figure3.19, where the primary keys are underlined. Construct the following SQLqueries for this relational database. a. Find all customers who have anaccount at all the branches located in "Brooklyn". b. Find out the totalsum of all loan amounts in the bank. c. Find the names of all branchesthat have assets greater than those of at least one branch located in"Brooklyn".</p><p><strong>My answer:</strong></p><ol type="a"><li></li></ol><p><strong>select</strong> <strong>distinct</strong> S.customer_name</p><p><strong>from</strong> depositor <strong>as</strong> S</p><p><strong>where</strong> <strong>not exists(</strong></p><p>(<strong>select</strong> branch_name</p><p><strong>from</strong> branch</p><p><strong>where</strong> branch_city = 'Brooklyn')</p><p><strong>except</strong></p><p>(<strong>select</strong> R.branch_name</p><p><strong>from</strong> depositor <strong>as</strong> T, account<strong>as</strong> R</p><p><strong>where</strong> T.account_number = R.account_number</p><p><strong>and</strong> S.customer_name = T.customer_name))</p><ol start="2" type="a"><li></li></ol><p><strong>select</strong> <strong>sum</strong>(amount)<strong>as</strong> sum_loan</p><p><strong>from</strong> loan</p><ol start="3" type="a"><li></li></ol><p><strong>select</strong> branch_name</p><p><strong>from</strong> branch</p><p><strong>where</strong> assets ï¼<strong>some</strong></p><p>(<strong>select</strong> assets</p><p><strong>from</strong> branch</p><p><strong>where</strong> branch_city = 'Brooklyn')</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”åˆšä½“è¿åŠ¨</title>
    <link href="/2022/03/21/robot2/"/>
    <url>/2022/03/21/robot2/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/A2.jpg" /></p><h1id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ç¬¬ä¸‰ç« åˆšä½“è¿åŠ¨">æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ç¬¬ä¸‰ç« â€”â€”åˆšä½“è¿åŠ¨</h1><ol type="1"><li><span class="math display">\[å·²çŸ¥ä¸€å›ºå®šçš„ç©ºé—´åæ ‡ç³» \{s\} åŠå…¶ \hat{x}_{s} ã€ \hat{y}_{s} ã€\hat{z}_{s}è½´åæ ‡, åæ ‡ç³» \{a\} çš„ \hat{x}_{a}è½´æ²¿ (0,0,1) æ–¹å‘,\\\hat{y}_{a} è½´æ²¿ (-1,0,0) æ–¹å‘; åæ ‡ç³» \{b\} çš„ \hat{x}_{b} è½´æ²¿ (1,0,0)æ–¹å‘, \hat{y}_{b} è½´æ²¿ (0,0,-1)æ–¹å‘ã€‚\]</span></li></ol><p><strong>a)</strong> æ‰‹ç»˜ 3 ä¸ªåæ ‡ç³», æ³¨æ„ç”»åœ¨ä¸åŒä½ç½®ä»¥ä¾¿åŒºåˆ†ã€‚</p><p><span class="math display">\[ç”±å³æ‰‹å®šåˆ™å¯çŸ¥ï¼Œåæ ‡ç³» \{a\} çš„ \hat{z}_{a} è½´æ²¿ (0,-1,0) æ–¹å‘ï¼Œåæ ‡ç³»\{b\} çš„ \hat{z}_{b} è½´æ²¿ (0,1,0) æ–¹å‘ã€‚ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220320155656111.png" /></p><p><strong>b)</strong></p><p><span class="math display">\[è®¡ç®—æ—‹è½¬çŸ©é˜µ R_{s a} å’Œ R_{s b}\]</span></p><p>ã€‚</p><p><span class="math display">\[\begin{aligned}R_{sa} &amp;=\left[\begin{array}{lll}0 &amp; -1 &amp; 0 \\0 &amp; 0 &amp; -1 \\1 &amp; 0 &amp; 0\end{array}\right] \\R_{sb} &amp;=\left[\begin{array}{ccc}1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1 \\0 &amp; -1 &amp; 0\end{array}\right]\end{aligned}\]</span></p><p><strong>c)</strong></p><p><span class="math display">\[å·²çŸ¥ R_{s b}, åœ¨ä¸ä½¿ç”¨é€†çŸ©é˜µçš„æƒ…å†µä¸‹è®¡ç®— R_{s b}^{-1},å¹¶éªŒè¯åæ ‡ç³»ç”»çš„æ˜¯å¦æ­£ç¡®ã€‚\]</span></p><p>ç”±æ—‹è½¬çŸ©é˜µçš„æ€§è´¨å¾—<span class="math inline">\(R^{-1}=R^T\)</span></p><p><span class="math display">\[\begin{aligned}R_{sb}^{-1}=R^T_{sb} &amp;=\left[\begin{array}{ccc}1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; -1 \\0 &amp; 1 &amp; 0\end{array}\right]\end{aligned}\]</span></p><p>å¯çŸ¥åæ ‡ç³»ç»˜ç”»æ­£ç¡®ã€‚</p><p><strong>d)</strong></p><p><span class="math display">\[å·²çŸ¥ R_{s a} å’Œ R_{s b}, è®¡ç®— R_{a b}, å¹¶éªŒè¯åæ ‡ç³»ç”»çš„æ˜¯å¦æ­£ç¡®ã€‚\]</span></p><p><span class="math display">\[\begin{aligned}R_{as}=R_{sa}^{-1}=R^T_{sa} &amp;=\left[\begin{array}{ccc}0 &amp; 0 &amp; 1 \\-1 &amp; 0 &amp; 0 \\0 &amp; -1 &amp; 0\end{array}\right]\end{aligned}\]</span></p><p><span class="math display">\[\begin{aligned}R_{ab}=R_{as}R_{sb} &amp;=\left[\begin{array}{ccc}0 &amp; -1 &amp; 0 \\-1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; -1\end{array}\right]\end{aligned}\]</span></p><p>å¯çŸ¥åæ ‡ç³»ç»˜ç”»æ­£ç¡®ã€‚</p><p><strong>e)</strong></p><p><span class="math display">\[å°† R=R_{s b} ä½œä¸ºå˜æ¢ç®—å­, è¡¨ç¤ºç»• \hat{x} è½´è½¬åŠ¨ -90^{\circ} ã€‚è®¡ç®—R_{1}=R_{s a} R ä¸ R_{2}=R R_{s a}, å¹¶å›ç­”æ–°å§¿æ€ R_{1} ä¸ R_{2}åˆ†åˆ«å¯¹åº”çš„æ˜¯ R_{s a} ç»•å“ªä¸ªåæ ‡ç³»çš„ \hat{x} è½´è½¬åŠ¨å¾—åˆ°çš„ç»“æœ?\]</span></p><p><span class="math display">\[\begin{aligned}R_{1}=R_{sa}R &amp;=\left[\begin{array}{ccc}0 &amp; 0 &amp; -1 \\0 &amp; 1 &amp; 0 \\1 &amp; 0 &amp; 0\end{array}\right]\end{aligned}\]</span></p><p><span class="math display">\[\begin{aligned}R_{2}=RR_{sa} &amp;=\left[\begin{array}{ccc}0 &amp; -1 &amp; 0 \\1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1\end{array}\right]\end{aligned}\]</span></p><p><span class="math display">\[R_1è¡¨ç¤ºç»•åæ ‡ç³» \{a\} çš„ \hat{x}_{a} è½´ï¼ŒR_2è¡¨ç¤ºç»•åæ ‡ç³» \{s\} çš„\hat{x}_{s} è½´ã€‚\]</span></p><p><strong>f)</strong></p><p><span class="math display">\[åˆ©ç”¨ R_{s b} å°†ç‚¹ p_{b}=(1,2,3) ä» \{b\} ç³»å˜æ¢åˆ° \{s\} ç³»ã€‚\]</span></p><p><span class="math display">\[p_{s}=R_{sb}p_{b}=(1,3,-2)\]</span></p><p><strong>g)</strong></p><p><span class="math display">\[å·²çŸ¥ \{s\} ç³»ä¸­ä¸€ç‚¹ p_{s}=(1,2,3), è®¡ç®— p^{\prime}=R_{s b} p_{s} å’Œp^{\prime \prime}=R_{s b}^{T} p_{s} ã€‚æ¯ä¸€æ¨å¯¼è¿‡ç¨‹å‡å¯ä»¥è§£é‡Šä¸ºåæ ‡å˜æ¢(æ— é¡»ç§»åŠ¨ç‚¹çš„ä½ç½®) æˆ–ç§»åŠ¨ç‚¹çš„ä½ç½® (æ— é¡»æ”¹å˜åæ ‡ç³»)ã€‚\]</span></p><p><span class="math display">\[p^{\prime}=R_{s b} p_{s}=(1,3,-2)ï¼šå…¶å‡ ä½•æ„ä¹‰ä¸ºç§»åŠ¨ç‚¹çš„ä½ç½®ï¼Œå°†å‘é‡p_sç»•\hat{x} è½´è½¬åŠ¨ -90^{\circ}  (æ— é¡»æ”¹å˜åæ ‡ç³»)ã€‚\]</span></p><p><span class="math display">\[p^{\prime \prime}=R_{s b}^{T} p_{s}=(1,-3,2)ï¼šå…¶å‡ ä½•æ„ä¹‰ä¸ºåæ ‡å˜æ¢ï¼Œå°†\{s\} ç³»ä¸­ä¸€ç‚¹ p_{s}å˜æ¢åˆ° \{b\} ç³» (æ— é¡»ç§»åŠ¨ç‚¹çš„ä½ç½®) ã€‚\]</span></p><p><strong>h)</strong>å·²çŸ¥ <span class="math inline">\(\{s\}\)</span>ç³»ä¸­çš„è§’é€Ÿåº¦ <span class="math inline">\(\omega_{s}=(3,2,1)\)</span>,è®¡ç®—å…¶åœ¨ <span class="math inline">\(\{a\}\)</span> ç³»ä¸­çš„è¡¨ç¤ºã€‚</p><p><span class="math display">\[\omega_{a}=R_{as}\omega_s=(1,-3,-2)\]</span></p><p><strong>i)</strong> è®¡ç®— <span class="math inline">\(R_{s a}\)</span>çš„çŸ©é˜µå¯¹æ•° <span class="math inline">\([\widehat{\omega}]\theta\)</span>, å¹¶æå–å…¶ä¸­çš„å…ƒç´ : å•ä½è§’é€Ÿåº¦ <spanclass="math inline">\(\widehat{\omega}\)</span> å’Œè½¬åŠ¨é‡ <spanclass="math inline">\(\theta\)</span> (å¯ä»¥åˆ©ç”¨ç¼–ç¨‹æ‰‹æ®µ)ã€‚</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°ï¼š</p><p>MatrixLog3ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> so3mat <span class="token operator">=</span> <span class="token function">MatrixLog3</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>acosinput <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">trace</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">if</span> acosinput <span class="token operator">>=</span> <span class="token number">1</span>    so3mat <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">elseif</span> acosinput <span class="token operator">&lt;=</span> <span class="token operator">-</span><span class="token number">1</span>    <span class="token keyword">if</span> <span class="token operator">~</span><span class="token function">NearZero</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        omg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">...</span>              <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">elseif</span> <span class="token operator">~</span><span class="token function">NearZero</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        omg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">...</span>              <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        omg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">...</span>              <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">end</span>    so3mat <span class="token operator">=</span> <span class="token function">VecToso3</span><span class="token punctuation">(</span><span class="token keyword">pi</span> <span class="token operator">*</span> omg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>theta <span class="token operator">=</span> <span class="token function">acos</span><span class="token punctuation">(</span>acosinput<span class="token punctuation">)</span><span class="token punctuation">;</span>       so3mat <span class="token operator">=</span> theta <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>R <span class="token operator">-</span> R<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>so3ToVecï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> omg <span class="token operator">=</span> <span class="token function">so3ToVec</span><span class="token punctuation">(</span>so3mat<span class="token punctuation">)</span>omg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">so3mat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">so3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">so3mat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>AxisAng3ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>omghat<span class="token punctuation">,</span> theta<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">AxisAng3</span><span class="token punctuation">(</span>expc3<span class="token punctuation">)</span>theta <span class="token operator">=</span> <span class="token function">norm</span><span class="token punctuation">(</span>expc3<span class="token punctuation">)</span><span class="token punctuation">;</span>omghat <span class="token operator">=</span> expc3 <span class="token operator">/</span> theta<span class="token punctuation">;</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>è§£å¾—ï¼š</p><p><span class="math display">\[[\widehat{\omega}] \theta = \left[\begin{array}{ccc}0 &amp; -1.2092 &amp; -1.2092 \\1.2092 &amp; 0 &amp; -1.2092 \\1.2092 &amp; 1.2092 &amp; 0\end{array}\right]\]</span></p><p>å•ä½è§’é€Ÿåº¦ <spanclass="math inline">\(\widehat{\omega}=(0.5774,-0.5774,0.5774)\)</span>å’Œè½¬åŠ¨é‡ <span class="math inline">\(\theta=2.0944\)</span></p><p><strong>j)</strong> è®¡ç®—ä¸è½¬åŠ¨ <spanclass="math inline">\(\widehat{\omega} \theta=(1,2,0)\)</span>çš„æŒ‡æ•°åæ ‡å¯¹åº”çš„çŸ©é˜µæŒ‡æ•°ã€‚</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°ï¼š</p><p>VecToso3ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> so3mat <span class="token operator">=</span> <span class="token function">VecToso3</span><span class="token punctuation">(</span>omg<span class="token punctuation">)</span>so3mat <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">-</span><span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">omg</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>MatrixExp3ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span>  R <span class="token operator">=</span> <span class="token function">MatrixExp3</span><span class="token punctuation">(</span>so3mat<span class="token punctuation">)</span>omgtheta <span class="token operator">=</span> <span class="token function">so3ToVec</span><span class="token punctuation">(</span>so3mat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token function">NearZero</span><span class="token punctuation">(</span><span class="token function">norm</span><span class="token punctuation">(</span>omgtheta<span class="token punctuation">)</span><span class="token punctuation">)</span>    R <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>    <span class="token punctuation">[</span>omghat<span class="token punctuation">,</span> theta<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">AxisAng3</span><span class="token punctuation">(</span>omgtheta<span class="token punctuation">)</span><span class="token punctuation">;</span>    omgmat <span class="token operator">=</span> so3mat <span class="token operator">/</span> theta<span class="token punctuation">;</span>    R <span class="token operator">=</span> <span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token operator">*</span> omgmat <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> omgmat <span class="token operator">*</span> omgmat<span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><span class="math display">\[\begin{aligned}R &amp;=\left[\begin{array}{ccc}-0.2938 &amp; 0.6469 &amp; 0.7037 \\0.6469 &amp; 0.6765 &amp; -0.3518 \\-0.7037 &amp; 0.3518 &amp; -0.6173\end{array}\right]\end{aligned}\]</span></p><p>2.é¢˜å¹²å¦‚ 1 , å¹¶ä¸” <span class="math inline">\(\{a\}\)</span>ç³»åŸç‚¹ç›¸å¯¹ <span class="math inline">\(\{s\}\)</span> ç³»çš„åæ ‡ä¸º <spanclass="math inline">\((3,0,0),\{b\}\)</span> ç³»åŸç‚¹ç›¸å¯¹ <spanclass="math inline">\(\{s\}\)</span> ç³»çš„åæ ‡ä¸º <spanclass="math inline">\((0,2,0)\)</span>ã€‚</p><p><strong>a)</strong> æ‰‹ç»˜ 3 ä¸ªåæ ‡ç³», æ³¨æ„å®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹ä½ç½®å…³ç³»ã€‚</p><p>å›¾ä¸­<spanclass="math inline">\(\{s\}\)</span>ç³»çš„ä¸‰ä¸ªåæ ‡è½´é•¿åº¦å‡ä¸ºå•ä½é•¿åº¦ï¼Œä»¥æ­¤ç»˜å¾—ç»“æœå¦‚ä¸‹ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220320160304205.png" /></p><p><strong>b)</strong></p><p><span class="math display">\[è®¡ç®—é½æ¬¡å˜æ¢çŸ©é˜µ T_{s a} å’Œ T_{s b} ã€‚\]</span></p><p><span class="math display">\[\because T=\left[\begin{array}{cc}R &amp; p \\0 &amp; 1\end{array}\right]\\\therefore T_{sa}=\left[\begin{array}{cccc}0 &amp; -1 &amp; 0 &amp; 3 \\0 &amp; 0 &amp; -1 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\\T_{sb}=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 1 &amp; 2 \\0 &amp; -1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p><strong>c)</strong></p><p><span class="math display">\[å·²çŸ¥ T_{s b}, åœ¨ä¸ä½¿ç”¨é€†çŸ©é˜µçš„æƒ…å†µä¸‹è®¡ç®— T_{s b}^{-1},å¹¶éªŒè¯åæ ‡ç³»ç”»çš„æ˜¯å¦æ­£ç¡®ã€‚\]</span></p><p><span class="math display">\[\because T^{-1}=\left[\begin{array}{cc}R &amp; p \\0 &amp; 1\end{array}\right]^{-1}=\left[\begin{array}{cc}R^{\mathrm{T}} &amp; -R^{\mathrm{T}} p \\0 &amp; 1\end{array}\right]\\\therefore T_{sb}^{-1}=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; -1 &amp; 0 \\0 &amp; 1 &amp; 0 &amp; -2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>å¯çŸ¥åæ ‡ç³»ç»˜ç”»æ­£ç¡®ã€‚</p><p><strong>d)</strong></p><p><span class="math display">\[å·²çŸ¥ T_{s a} å’Œ T_{s b}, è®¡ç®— T_{a b}, å¹¶éªŒè¯åæ ‡ç³»ç”»çš„æ˜¯å¦æ­£ç¡®ã€‚\]</span></p><p><span class="math display">\[\because T_{as}=T_{sa}^{-1}=\left[\begin{array}{cccc}0 &amp; 0 &amp; 1 &amp; 0 \\-1 &amp; 0 &amp; 0 &amp; 3 \\0 &amp; -1 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\\\therefore T_{ab}=T_{as}T_{sb}=\left[\begin{array}{cccc}0 &amp; -1 &amp; 0 &amp; 0 \\-1 &amp; 0 &amp; 0 &amp; 3 \\0 &amp; 0 &amp; -1 &amp; -2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p>å¯çŸ¥åæ ‡ç³»ç»˜ç”»æ­£ç¡®ã€‚</p><p><strong>e)</strong></p><p><span class="math display">\[å°† T=T_{s b} ä½œä¸ºå˜æ¢ç®—å­, è¡¨ç¤ºç»•\hat{x}è½´è½¬åŠ¨-90^{\circ} ä¸æ²¿ \hat{y}ç§»åŠ¨ 2 ä¸ªå•ä½ã€‚è®¡ç®—T_{1}= T_{s a} T ä¸ T_{2}=T T_{s a}, å¹¶å›ç­”æ–°å§¿æ€T_{1} ä¸ T_{2} åˆ†åˆ«å¯¹åº”çš„æ˜¯ T_{s a} ç»•å“ªä¸ªåæ ‡ç³»çš„å˜æ¢å¾—åˆ°çš„ç»“æœ?\]</span></p><p><span class="math display">\[T_{1}=T_{sa}T=\left[\begin{array}{cccc}0 &amp; 0 &amp; -1 &amp; 1 \\0 &amp; 1 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]ï¼Œç›¸å¯¹ \{a\}ç³»å˜æ¢å¾—åˆ°çš„ç»“æœï¼Œè¡¨ç¤ºç»•\hat{x}_{a}è½´è½¬åŠ¨-90^{\circ} ä¸æ²¿ \hat{x} ç§»åŠ¨ 2ä¸ªå•ä½ã€‚\]</span></p><p><span class="math display">\[T_{2}=TT_{sa}=\left[\begin{array}{cccc}0 &amp; -1 &amp; 0 &amp; 3 \\1 &amp; 0 &amp; 0 &amp; 2 \\0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]ï¼Œç›¸å¯¹ \{s\}ç³»å˜æ¢å¾—åˆ°çš„ç»“æœï¼Œè¡¨ç¤ºç»•\hat{x}_{s}è½´è½¬åŠ¨-90^{\circ} ä¸æ²¿ \hat{x} ç§»åŠ¨ 3ä¸ªå•ä½ï¼Œæ²¿ \hat{y} ç§»åŠ¨ 2 ä¸ªå•ä½ã€‚\]</span></p><p><strong>f)</strong></p><p><span class="math display">\[åˆ©ç”¨ T_{s b} å°†ç‚¹ p_{b}=(1,2,3) ä» \{b\} ç³»å˜æ¢åˆ° \{s\} ç³»ã€‚\]</span></p><p><span class="math display">\[p_{s}=T_{sb}p_{b}=(1,5,-2)\]</span></p><p><strong>k)</strong></p><p><span class="math display">\[å·²çŸ¥ \{s\} ç³»ä¸­ä¸€ç‚¹ p_{s}=(1,2,3), è®¡ç®— p^{\prime}=T_{s b} p_{s} å’Œp^{\prime \prime}=T_{s b}^{-1} p_{s} ã€‚æ¯ä¸€æ¨å¯¼è¿‡ç¨‹å‡å¯ä»¥è§£é‡Šä¸ºåæ ‡å˜æ¢(æ— é¡»ç§»åŠ¨ç‚¹çš„ä½ç½®) æˆ–ç§»åŠ¨ç‚¹çš„ä½ç½® (æ— é¡»æ”¹å˜åæ ‡ç³»)ã€‚\]</span></p><p><span class="math display">\[p^{\prime}=T_{s b} p_{s}=(1,5,-2)ï¼šå…¶å‡ ä½•æ„ä¹‰ä¸ºç§»åŠ¨ç‚¹çš„ä½ç½®ï¼›\]</span></p><p><span class="math display">\[p^{\prime \prime}=T_{s b}^{-1} p_{s}=(1,-3,0)ï¼šå…¶å‡ ä½•æ„ä¹‰ä¸ºåæ ‡å˜æ¢ã€‚\]</span></p><p><strong>g)</strong>å·²çŸ¥ <span class="math inline">\(\{s\}\)</span>ç³»ä¸­çš„æ—‹é‡ <spanclass="math inline">\(\mathcal{V}=(3,2,1,-1,-2,-3)\)</span>, è®¡ç®—å…¶åœ¨<span class="math inline">\(\{a\}\)</span> ç³»ä¸­çš„è¡¨ç¤ºã€‚</p><p><span class="math display">\[\mathcal{V}_{a}=\left[\begin{array}{c}\omega_{a} \\v_{a}\end{array}\right]=\left[\begin{array}{cc}R^{\mathrm{T}} &amp; 0 \\-R^{\mathrm{T}}[p] &amp; R^{\mathrm{T}}\end{array}\right]\left[\begin{array}{c}\omega_{s} \\v_{s}\end{array}\right]=\left[\mathrm{Ad}_{T_{a s}}\right] \mathcal{V}_{s}\\\because \left[\mathrm{Ad}_{T}\right]=\left[\begin{array}{cc}R &amp; 0 \\{[p] R} &amp; R\end{array}\right] \in \mathbb{R}^{6 \times 6} \\\therefore \mathcal{V}_{a}=(1,-3,-2,-9,1,-1)\]</span></p><p><strong>h)</strong> è®¡ç®— <span class="math inline">\(T_{s a}\)</span>çš„çŸ©é˜µå¯¹æ•° <span class="math inline">\([\delta] \theta\)</span>,å¹¶æå–å…¶ä¸­çš„å…ƒç´ : å•ä½èºæ—‹è½´ <spanclass="math inline">\(\mathcal{S}\)</span> å’Œè½¬åŠ¨é‡ <spanclass="math inline">\(\theta\)</span> ã€‚</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°ï¼š</p><p>MatrixLog6ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> expmat <span class="token operator">=</span> <span class="token function">MatrixLog6</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">[</span>R<span class="token punctuation">,</span> p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">TransToRp</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>omgmat <span class="token operator">=</span> <span class="token function">MatrixLog3</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token function">isequal</span><span class="token punctuation">(</span>omgmat<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    expmat <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">else</span>    theta <span class="token operator">=</span> <span class="token function">acos</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">trace</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     expmat <span class="token operator">=</span> <span class="token punctuation">[</span>omgmat<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> omgmat <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">...</span>                      <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> theta <span class="token operator">-</span> <span class="token function">cot</span><span class="token punctuation">(</span>theta <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">...</span>                        <span class="token operator">*</span> omgmat <span class="token operator">*</span> omgmat <span class="token operator">/</span> theta<span class="token punctuation">)</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>              <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>se3ToVecï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> V <span class="token operator">=</span> <span class="token function">se3ToVec</span><span class="token punctuation">(</span>se3mat<span class="token punctuation">)</span>V <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>AxisAng6ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>S<span class="token punctuation">,</span> theta<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">AxisAng6</span><span class="token punctuation">(</span>expc6<span class="token punctuation">)</span>theta <span class="token operator">=</span> <span class="token function">norm</span><span class="token punctuation">(</span><span class="token function">expc6</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token function">NearZero</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span>    theta <span class="token operator">=</span> <span class="token function">norm</span><span class="token punctuation">(</span><span class="token function">expc6</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span>S <span class="token operator">=</span> expc6 <span class="token operator">/</span> theta<span class="token punctuation">;</span>    <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>è§£å¾—ï¼š</p><p><span class="math display">\[[\delta] \theta=\left[\begin{array}{cccc}0 &amp; -1.2092 &amp; -1.2092 &amp; 2.2092 \\1.2092 &amp; 0 &amp; -1.2092 &amp; -2.2092 \\1.2092 &amp; 1.2092 &amp; 0 &amp; -1.4184 \\0 &amp; 0 &amp; 0 &amp; 0\end{array}\right]\]</span></p><p>å•ä½èºæ—‹è½´ <spanclass="math inline">\(\mathcal{S}=(0.5774,-0.5774,0.5774,1.0548,-1.0548,-0.6772)\)</span>å’Œè½¬åŠ¨é‡ <span class="math inline">\(\theta=2.0944\)</span></p><p><strong>i)</strong> è®¡ç®—ä¸è½¬åŠ¨ <spanclass="math inline">\(\mathcal{S} \theta=(0,1,2,3,0,0)\)</span>çš„æŒ‡æ•°åæ ‡å¯¹åº”çš„çŸ©é˜µæŒ‡æ•°ã€‚</p><p>ä½¿ç”¨åˆ°çš„å‡½æ•°ï¼š</p><p>VecTose3ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> se3mat <span class="token operator">=</span> <span class="token function">VecTose3</span><span class="token punctuation">(</span>V<span class="token punctuation">)</span>se3mat <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">VecToso3</span><span class="token punctuation">(</span><span class="token function">V</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>MatrixExp6ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token keyword">function</span> T <span class="token operator">=</span> <span class="token function">MatrixExp6</span><span class="token punctuation">(</span>se3mat<span class="token punctuation">)</span>omgtheta <span class="token operator">=</span> <span class="token function">so3ToVec</span><span class="token punctuation">(</span><span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token function">NearZero</span><span class="token punctuation">(</span><span class="token function">norm</span><span class="token punctuation">(</span>omgtheta<span class="token punctuation">)</span><span class="token punctuation">)</span>    T <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">else</span>    <span class="token punctuation">[</span>omghat<span class="token punctuation">,</span> theta<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">AxisAng3</span><span class="token punctuation">(</span>omgtheta<span class="token punctuation">)</span><span class="token punctuation">;</span>    omgmat <span class="token operator">=</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> theta<span class="token punctuation">;</span>     T <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">MatrixExp3</span><span class="token punctuation">(</span><span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">...</span>         <span class="token punctuation">(</span><span class="token function">eye</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> theta <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> omgmat <span class="token punctuation">...</span>          <span class="token operator">+</span> <span class="token punctuation">(</span>theta <span class="token operator">-</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> omgmat <span class="token operator">*</span> omgmat<span class="token punctuation">)</span> <span class="token punctuation">...</span>            <span class="token operator">*</span> <span class="token function">se3mat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">/</span> theta<span class="token punctuation">;</span>         <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><span class="math display">\[\begin{aligned}T &amp;=\left[\begin{array}{cccc}-0.6173 &amp; -0.7037 &amp; 0.3518 &amp; 1.0555 \\0.7037 &amp; -0.2938 &amp; 0.6469 &amp; 1.9407 \\-0.3518 &amp; 0.6469 &amp; 0.6765 &amp; -0.9704 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\end{aligned}\]</span></p><p>3.ç›®å‰å·¥ä¸šæœºå™¨äººé¢†åŸŸç»å¸¸éœ€è¦å®šä¹‰ 4 ç§åæ ‡ç³»: å‚è€ƒåæ ‡ç³» <spanclass="math inline">\(\{a\}\)</span>, æœ«ç«¯æˆ–å·¥å…·åæ ‡ç³» <spanclass="math inline">\(\{b\}\)</span> ã€å›¾åƒåæ ‡ç³» <spanclass="math inline">\(\{c\}\)</span> ã€ä»¶åæ ‡ç³» <spanclass="math inline">\(\{d\}\)</span>, å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314230530164.png" /></p><p><strong>a)</strong></p><p><span class="math display">\[åŸºäºå›¾ä¸­æ‰€ç»™å°ºå¯¸, ç¡®å®š T_{a d} å’Œ T_{c d} ã€‚\]</span></p><p><span class="math display">\[T_{ad}=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -1 \\0 &amp; 1 &amp; 0 &amp; 1 \\0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p><span class="math display">\[T_{cd}=\left[\begin{array}{cccc}0 &amp; 1 &amp; 0 &amp; 0 \\1 &amp; 0 &amp; 0 &amp; 0 \\0 &amp; 0 &amp; -1 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p><strong>b)</strong></p><p><span class="math display">\[è‹¥T_{bc}=[1~~0~~0~~4ï¼›0~~1 ~~0~~0ï¼›0~~0~~1~~0ï¼›0~~0~~0~~1],æ±‚T_{ab}ã€‚\]</span></p><p><span class="math display">\[T_{ab}=T_{ac}T_{cb}=T_{ad}T_{dc}T_{bc}^{-1}=T_{ad}T_{cd}^{-1}T_{bc}^{-1}\\=\left[\begin{array}{cccc}0 &amp; 1 &amp; 0 &amp; -1 \\1 &amp; 0 &amp; 0 &amp; -3 \\0 &amp; 0 &amp; -1 &amp; 2 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><p><imgsrc="https://cdn.mathpix.com/cropped/2022_03_20_515d600b91de346f2453g-1.jpg?height=1510&amp;width=1069&amp;top_left_y=122&amp;top_left_x=108" /></p><p><imgsrc="https://cdn.mathpix.com/cropped/2022_03_20_515d600b91de346f2453g-2.jpg?height=556&amp;width=999&amp;top_left_y=598&amp;top_left_x=116" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220322133139136.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220322133103015.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“åŸç† Exercises 1</title>
    <link href="/2022/03/17/data1/"/>
    <url>/2022/03/17/data1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Database System Concepts Exercises of Chapter 2</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/photo-1613068687893-5e85b4638b56" /></p><h1 id="database-system-concepts-exercises-of-chapter-2">Database SystemConcepts Exercises of Chapter 2</h1><p><strong>Exercise 2.1</strong> Consider the relational database ofFigure 2.14,</p><p>Employee( person_name, street, city) Works (person_name,company_name, salary) Company(company_name, city) <strong>Figure2.14</strong></p><p>What are the appropriate primary keys?</p><p><strong>My answer:</strong></p><p><span class="math inline">\(employee (\underline{person-name},street, city)\)</span></p><p>$works (, company-name, salary) $</p><p><span class="math inline">\(company (\underline{company-name},city)\)</span></p><p><strong>Exercise</strong> <strong>2.7</strong> Consider therelational database of Figure 2.14. Given an expression in therelational algebra to express each of the following queries:</p><p>a.Find the names of all employees who live in city â€œMiamiâ€</p><p>b.Find the names of all employees whose salary is greater than$100,000.</p><p>c.Find the names of all employees who live in â€œMiamiâ€ and whosesalary is greater than $100,000.</p><p><strong>My answer:</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220318132151932.png" /></p><p><strong>Exercise</strong> <strong>2.9</strong> Consider the bankdatabase of Figure 2.15.</p><p>branch(branch_name, branch_city, assets) customer(customer_name,customer_street, customer_city) loan(loan_number, branch_name, amount)borrower(customer_name, loan_number) account(account_number,loan_number) depositor(customer_name, account_number) <strong>Figure2.15</strong></p><ol type="a"><li><p>What are the appropriate primary keys?</p></li><li><p>Given your choice of primary keys, identify appropriate foreignkeys. Assume that branch names and customer names uniquely identifybranches and customers, but loans and accounts can be associated withmore than one customer.</p></li></ol><p><strong>My answer:</strong></p><p>The primary keys are marked with an <spanclass="math inline">\(\underline{underline}\)</span>, and the foreignkeys are marked with a <spanclass="math inline">\(\overline{overline}\)</span>.</p><p><span class="math inline">\(branch(\underline{branch-name},branch-city, assets)\)</span></p><p><span class="math inline">\(customer(\underline{customer-name},customer-street, customer-city)\)</span></p><p><span class="math inline">\(loan(\underline{loan-number},\overline{branch-name}, amount)\)</span></p><p><spanclass="math inline">\(borrower(\overline{\underline{customer-name}},\overline{loan-number})\)</span></p><p><span class="math inline">\(account(\underline{account-number},loan-number)\)</span></p><p><spanclass="math inline">\(depositor(\overline{\underline{customer-name}},\overline{account-number})\)</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘</title>
    <link href="/2022/03/14/net1/"/>
    <url>/2022/03/14/net1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç¬¬ä¸€ç« è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘å°ç»“</p><span id="more"></span><h2id="ç®€è¿°é¢å‘è¿æ¥å’Œæ— è¿æ¥ä¸¤ç§æœåŠ¡çš„ç‰¹ç‚¹">1.<strong>ç®€è¿°é¢å‘è¿æ¥å’Œæ— è¿æ¥ä¸¤ç§æœåŠ¡çš„ç‰¹ç‚¹ã€‚</strong></h2><p>é¢å‘è¿æ¥æœåŠ¡ï¼šè´¨é‡å¯é ï¼Œç¡®ä¿ä»å‘é€æ–¹å‘å‡ºçš„æ•°æ®æœ€ç»ˆæŒ‰é¡ºåºå®Œæ•´åœ°äº¤ä»˜ç»™æ¥æ”¶æ–¹ã€‚</p><p>æ— è¿æ¥æœåŠ¡ï¼šè´¨é‡ä¸å¯é ï¼Œä¸èƒ½å¯¹æœ€ç»ˆäº¤ä»˜ä½œä»»ä½•ä¿è¯ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220313164646441.png" /></p><p><strong>é¢å‘è¿æ¥æœåŠ¡</strong>(connection-oriented)</p><p>é¢å‘è¿æ¥æœåŠ¡å…·æœ‰<strong>å¯é çš„æ•°æ®ä¼ é€ï¼Œæµæ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶</strong>ä¸‰ä¸ªç‰¹æ€§ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><p>1ã€é¢å‘è¿æ¥çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹å¿…é¡»ç»è¿‡å»ºç«‹è¿æ¥ã€è¿æ¥ç»´æŠ¤å’Œé‡Šæ”¾è¿æ¥çš„3ä¸ªè¿‡ç¨‹ï¼›</p><p>2ã€æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œå„åˆ†ç»„ä¸éœ€è¦æºå¸¦ç›®çš„åœ°å€ã€‚</p><p>é¢å‘è¿æ¥æ•°æ®ä¼ è¾“çš„æ”¶å‘æ•°æ®é¡ºåºä¸å˜ï¼Œå› æ­¤ä¼ è¾“çš„å¯é æ€§å¥½ï¼Œä½†åè®®å¤æ‚ï¼Œé€šä¿¡æ•ˆç‡ä¸é«˜ã€‚</p><p><strong>æ— è¿æ¥æœåŠ¡</strong>(connectionless)</p><p>ä¸¤ä¸ªå®ä½“ä¹‹é—´çš„é€šä¿¡<strong>ä¸éœ€è¦å…ˆå»ºç«‹å¥½è¿æ¥</strong>ã€‚æ˜¯ä¸€ç§ä¸å¯é çš„æœåŠ¡ã€‚è¿™ç§æœåŠ¡å¸¸è¢«æè¿°ä¸ºâ€œå°½æœ€å¤§åŠªåŠ›äº¤ä»˜â€(besteffort delivery)æˆ–â€œå°½åŠ›è€Œä¸ºâ€ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><p>1ã€æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½æºå¸¦å®Œæ•´çš„ç›®çš„åœ°å€ï¼Œå„åˆ†ç»„åœ¨ç³»ç»Ÿä¸­æ˜¯ç‹¬ç«‹ä¼ é€çš„ã€‚å› æ­¤ï¼Œæ— è¿æ¥ä¸­çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸éœ€è¦ç»è¿‡3ä¸ªè¿‡ç¨‹ï¼›</p><p>2ã€ç”±äºæ— è¿æ¥å‘é€çš„ä¸åŒçš„åˆ†ç»„ï¼Œå¯èƒ½ç»å†ä¸åŒè·¯å¾„åˆ°ç›®çš„ä¸»æœºï¼Œæ‰€ä»¥å…ˆå‘é€çš„ä¸ä¸€å®šå…ˆåˆ°ï¼Œå› æ­¤æ— è¿æ¥çš„æ•°æ®åˆ†ç»„ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œç›®çš„ä¸»æœºæ¥æ”¶çš„æ•°æ®åˆ†ç»„å¯èƒ½å‡ºç°ä¹±åºã€é‡å¤ä¸ä¸¢å¤±çš„ç°è±¡ã€‚</p><p>æ— è¿æ¥çš„å¯é æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œä½†å› å…¶çœå»è®¸å¤šä¿å¾æœºåˆ¶ï¼Œå› æ­¤é€šä¿¡åè®®ç›¸å¯¹ç®€å•ï¼Œé€šä¿¡æ•ˆç‡è¾ƒé«˜ã€‚</p><h2id="ä»€ä¹ˆæ˜¯å¤šè·¯å¤ç”¨å¸¸åˆ†ä¸ºå“ªä¸¤ç§ç±»å‹">2.<strong>ä»€ä¹ˆæ˜¯å¤šè·¯å¤ç”¨ï¼Ÿå¸¸åˆ†ä¸ºå“ªä¸¤ç§ç±»å‹ã€‚</strong></h2><p>å¤šè·¯å¤ç”¨æ˜¯æŒ‡åœ¨ä¸€æ¡ä¼ è¾“é“¾è·¯ä¸ŠåŒæ—¶å»ºç«‹å¤šæ¡è¿æ¥ï¼Œåˆ†åˆ«ä¼ è¾“æ•°æ®ã€‚</p><p>å¸¸åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š</p><p><strong>é¢‘åˆ†å¤šè·¯å¤ç”¨FDM(frequency-divisionmultiplexing)</strong>ï¼šé“¾è·¯çš„é¢‘è°±ç”±è·¨è¶Šé“¾è·¯åˆ›å»ºçš„è¿æ¥æ‰€å…±äº«ï¼ŒæŒ‰é¢‘ç‡åˆ’åˆ†è‹¥å¹²é¢‘æ®µï¼Œæ¯ä¸ªé¢‘æ®µä¸“ç”¨äºä¸€ä¸ªè¿æ¥ã€‚</p><p><strong>æ—¶åˆ†å¤šè·¯å¤ç”¨TDM (time-division multiplexing)</strong>ï¼šæ—¶é—´åˆ’åˆ†ä¸ºå›ºå®šåŒºé—´çš„å¸§ï¼Œæ¯å¸§å†åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™ï¼Œæ¯ä¸€ä¸ªæ—¶éš™ä¸“ç”¨äºä¸€ä¸ªè¿æ¥ï¼Œç”¨äºä¼ è¾“æ•°æ®ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314223649714.png" /></p><h2id="ç®€è¿°ç”µè·¯äº¤æ¢å’Œåˆ†ç»„äº¤æ¢ç‰¹ç‚¹åŠå·¥ä½œè¿‡ç¨‹">3.<strong>ç®€è¿°ç”µè·¯äº¤æ¢å’Œåˆ†ç»„äº¤æ¢ç‰¹ç‚¹åŠå·¥ä½œè¿‡ç¨‹ã€‚</strong></h2><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ol type="1"><li><strong>ç”µè·¯äº¤æ¢ (circuit switching)</strong>é¢„ç•™ç«¯åˆ°ç«¯èµ„æºï¼šç«¯ç³»ç»Ÿä¹‹é—´é€šä¿¡è·¯å¾„ä¸Šæ‰€éœ€è¦çš„èµ„æº(ç¼“å­˜ï¼Œé“¾è·¯å¸¦å®½)ï¼Œå»ºç«‹è¿æ¥ï¼› å‘é€æ–¹ä»¥æ’å®šé€Ÿç‡å‘æ¥æ”¶æ–¹ä¼ é€æ•°æ®ã€‚å¦‚ï¼Œç”µè¯ç½‘ç»œã€‚</li><li><strong>åˆ†ç»„äº¤æ¢(packet switching)</strong> ä¸éœ€è¦èµ„æºé¢„ç•™ï¼›æŒ‰éœ€ä½¿ç”¨èµ„æºï¼Œå¯èƒ½è¦æ’é˜Ÿç­‰å¾…ï¼ŒåŒæ—¶æœ‰å…¶å®ƒåˆ†ç»„å‘é€ã€‚ å¦‚ï¼Œå› ç‰¹ç½‘ã€‚</li></ol><p><strong>å·¥ä½œè¿‡ç¨‹ï¼š</strong></p><ol type="1"><li><p>ç”µè·¯äº¤æ¢ï¼š</p><p>åœ¨ä¸¤å°ä¸»æœºAã€Bä¹‹é—´åˆ›å»ºä¸€æ¡ä¸“ç”¨çš„ç«¯åˆ°ç«¯è¿æ¥ï¼Œåˆ†åˆ«å ç”¨æ¯æ¡é“¾è·¯ä¸­çš„ä¸€æ¡ç”µè·¯ï¼›</p><p>è¯¥è¿æ¥è·å¾—é“¾è·¯å¸¦å®½çš„1/nï¼Œè¿›è¡Œé€šä¿¡ã€‚</p></li><li><p>åˆ†ç»„äº¤æ¢ï¼š</p><p>æºç«¯å°†æŠ¥æ–‡åˆ’åˆ†ä¸ºè¾ƒå°çš„æ•°æ®å—ï¼ˆåˆ†ç»„packetï¼‰ï¼›</p><p>æ¯ä¸ªåˆ†ç»„é€šè¿‡ä¸€ç³»åˆ—é“¾è·¯å’Œåˆ†ç»„äº¤æ¢æœºä¼ é€ï¼Œç›´åˆ°ç›®çš„ç«¯</p><p>ç›®çš„ç«¯æ¢å¤åŸæŠ¥æ–‡ã€‚</p></li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314220812885.png" /></p><h2id="ä»€ä¹ˆæ˜¯åè®®åˆ†å±‚çš„æœåŠ¡æ¨¡å‹">4.<strong>ä»€ä¹ˆæ˜¯åè®®ï¼Ÿåˆ†å±‚çš„æœåŠ¡æ¨¡å‹ï¼Ÿ</strong></h2><p><strong>åè®®</strong>ï¼šæ§åˆ¶ç½‘ç»œä¸­ä¿¡æ¯çš„å‘é€å’Œæ¥æ”¶ã€‚å®šä¹‰äº†é€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢æŠ¥æ–‡çš„æ ¼å¼å’Œæ¬¡åºï¼Œä»¥åŠåœ¨æŠ¥æ–‡ä¼ è¾“å’Œ/æˆ–æ¥æ”¶æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314223735346.png" /></p><p><strong>åˆ†å±‚çš„æœåŠ¡æ¨¡å‹</strong>ï¼šä¸Šå±‚è°ƒç”¨ä¸‹å±‚çš„æœåŠ¡ï¼Œä¸‹å±‚ä¸ºä¸Šå±‚æä¾›æœåŠ¡ã€‚</p><p>é€šè¿‡ç¬¬nå±‚æœ¬èº«æ‰§è¡ŒæŸäº›åŠ¨ä½œï¼Œæˆ–å†ä½¿ç”¨å…¶ç›¸é‚»ä¸‹å±‚ï¼ˆç¬¬n-1å±‚ï¼‰çš„æœåŠ¡ï¼Œæ¥å®Œæˆå‘å…¶ä¸Šå±‚ï¼ˆç¬¬n+1å±‚ï¼‰æä¾›çš„æœåŠ¡ã€‚</p><h2id="ç®€è¿°åˆ†å±‚çš„ç‰¹ç‚¹å’Œåˆ†å±‚åæ•°æ®çš„ä¼ é€’è¿‡ç¨‹">5.<strong>ç®€è¿°åˆ†å±‚çš„ç‰¹ç‚¹å’Œåˆ†å±‚åæ•°æ®çš„ä¼ é€’è¿‡ç¨‹ã€‚</strong></h2><p><strong>åˆ†å±‚ç‰¹ç‚¹ï¼š</strong></p><ul><li>æ¯å±‚åŠŸèƒ½ç‹¬ç«‹ï¼›</li><li>æ¯ä¸¤ä¸ªç›¸é‚»å±‚ä¹‹é—´æœ‰ä¸€é€»è¾‘æ¥å£ï¼Œå¯äº¤æ¢ä¿¡æ¯ï¼›</li><li>ä¸Šä¸€å±‚å»ºç«‹åœ¨ä¸‹ä¸€å±‚åŸºç¡€ä¸Šï¼Œä¸Šä¸€å±‚å¯è°ƒç”¨ä¸‹ä¸€å±‚çš„æœåŠ¡ï¼Œä¸‹ä¸€å±‚ä¸ºä¸Šä¸€å±‚æä¾›æœåŠ¡ã€‚</li></ul><p><strong>åˆ†å±‚åæ•°æ®çš„ä¼ é€’è¿‡ç¨‹</strong>ï¼šä¸»æœºï¼ˆç«¯ç³»ç»Ÿï¼‰é—´æ•°æ®ä¼ é€å®é™…ä¸Šå¹¶ä¸æ˜¯åœ¨å¯¹ç­‰å±‚é—´ç›´æ¥è¿›è¡Œï¼Œè€Œæ˜¯é€šè¿‡ç›¸é‚»å±‚é—´çš„ä¼ é€’åˆä½œå®Œæˆã€‚</p><p>å‘é€æ–¹ï¼šå°†ç”¨æˆ·æ•°æ®ç”±é«˜å±‚å‘ä½å±‚é€å±‚ä¼ é€’ï¼Œæ¯ç»è¿‡ä¸€å±‚ï¼ŒåŠ ä¸Šè¯¥å±‚çš„æ§åˆ¶ä¿¡æ¯ï¼Œç›´åˆ°æœ€ä½å±‚ï¼ˆç‰©ç†å±‚ï¼‰ï¼Œç„¶åç›´æ¥é€šè¿‡ç‰©ç†åª’ä½“ä¼ è¾“åˆ°ç›®çš„æ–¹ã€‚ï¼ˆé€å±‚å°è£…ï¼‰</p><p>æ¥æ”¶æ–¹ï¼šå°†æ”¶åˆ°çš„æ•°æ®ç”±ä½å±‚å‘é«˜å±‚é€å±‚ä¼ é€’ï¼Œæ¯ç»è¿‡ä¸€å±‚ï¼Œå»æ‰è¯¥å±‚çš„æ§åˆ¶ä¿¡æ¯ï¼Œç›´åˆ°æœ€é«˜å±‚ï¼Œæ¢å¤ä¸ºç”¨æˆ·æ•°æ®ã€‚ï¼ˆé€å±‚è§£å°ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314222653398.png" /></p><h2id="å› ç‰¹ç½‘åˆ†å±‚æ¨¡å‹åŠå„å±‚åŠŸèƒ½">6.<strong>å› ç‰¹ç½‘åˆ†å±‚æ¨¡å‹åŠå„å±‚åŠŸèƒ½ã€‚</strong></h2><p>å› ç‰¹ç½‘çš„åè®®æ ˆç”±5ä¸ªå±‚æ¬¡ç»„æˆï¼šç‰©ç†å±‚ã€é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€è¿è¾“å±‚å’Œåº”ç”¨å±‚ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220314222941459.png" /></p><ol type="1"><li>åº”ç”¨å±‚ï¼šæä¾›å„ç§ç½‘ç»œåº”ç”¨ã€‚ä¼ è¾“åº”ç”¨æŠ¥æ–‡ã€‚ FTPã€ SMTPã€ HTTP</li><li>è¿è¾“å±‚ï¼šåœ¨åº”ç”¨ç¨‹åºçš„å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¹‹é—´æä¾›ä¼ è¾“åº”ç”¨å±‚æŠ¥æ–‡æœåŠ¡ã€‚ä¼ è¾“æŠ¥æ–‡æ®µã€‚TCPã€ UDP</li><li>ç½‘ç»œå±‚ï¼šä¸»æœºå’Œä¸»æœºä¹‹é—´ä¼ è¾“ç½‘ç»œå±‚åˆ†ç»„ï¼ˆæ•°æ®æŠ¥ï¼‰ã€‚ IPåè®®ã€é€‰è·¯åè®®</li><li>é“¾è·¯å±‚ï¼š åœ¨é‚»è¿‘å•å…ƒä¹‹é—´ä¼ è¾“æ•°æ®ï¼ˆå¸§ ï¼‰ã€‚ PPPã€ä»¥å¤ªç½‘</li><li>ç‰©ç†å±‚ï¼šåœ¨èŠ‚ç‚¹ä¹‹é—´ä¼ è¾“æ¯”ç‰¹æµã€‚ ä¼ è¾“åª’ä½“</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä½å½¢ç©ºé—´</title>
    <link href="/2022/03/02/robot1/"/>
    <url>/2022/03/02/robot1/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½œä¸šè®°å½•</p><span id="more"></span><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220302214614790.png" /></p><h1 id="æ™ºèƒ½æœºå™¨äººæŠ€æœ¯ä½å½¢ç©ºé—´">æ™ºèƒ½æœºå™¨äººæŠ€æœ¯â€”â€”ä½å½¢ç©ºé—´</h1><p>ä¸€ã€é€‰æ‹©/å¡«ç©ºé¢˜ï¼ˆ10 åˆ†ï¼‰ã€‚</p><ol type="1"><li>æœºå™¨äººçš„è‡ªç”±åº¦æ˜¯ (<strong>D</strong>) ? A. æœºå™¨äººä¸Šç‚¹çš„æ•°é‡ B.æœºå™¨äººå…³èŠ‚æ•°é‡ C. ç»„æˆæœºå™¨äººçš„åˆšä½“çš„æ•°é‡ D. ç»„æˆæœºå™¨äººçš„åˆšä½“çš„æ•°é‡,å‡å»åˆšä½“é—´ç‹¬ç«‹çº¦æŸçš„æ•°é‡</li><li>äºŒç»´å¹³é¢åˆšä½“çš„è‡ªç”±åº¦ä¸º (<strong>3</strong>) ï¼›ä¸‰ç»´ç©ºé—´åˆšä½“çš„è‡ªç”±åº¦ä¸º (<strong>6</strong>) ã€‚</li><li>æ ¹æ®è¯¾å ‚ä¸Šæ¨ç®—ä¸‰ç»´ç©ºé—´å†…åˆšä½“è‡ªç”±åº¦çš„æ–¹æ³•,æ¨ç®—å‡ºå››ç»´ç©ºé—´ä¸­åˆšä½“çš„è‡ªç”±åº¦ (<strong>10</strong>)ã€æœ‰å…³è§’åº¦çš„è‡ªç”±åº¦(<strong>6</strong>)ã€æœ‰å…³å¹³ç§»ä½ç½®çš„è‡ªç”±åº¦ (<strong>4</strong>)ã€‚(å¦‚,ä¸‰ç»´ç©ºé—´ä¸­åˆ†åˆ«ä¸º <span class="math inline">\(6,3,3\)</span> )</li><li>å‡è®¾ä½ çš„æ‰‹è‡‚ï¼ˆä»è‚©è†€åˆ°æ‰‹æŒï¼‰, æœ‰ 7ä¸ªè‡ªç”±åº¦ã€‚ä½ å¦‚åŒä¸€ä½æœåŠ¡ç”Ÿä¸€æ ·æ°´å¹³ç«¯ç€é¤ç›˜,é˜²æ­¢æ´’å‡ºé…’æ°´ã€‚ä½ çš„æ‰‹è‡‚æ­¤æ—¶æœ‰å‡ ä¸ªè‡ªç”±åº¦ï¼š<strong>5</strong>ï¼Œè¿™ä¸ªä»»åŠ¡ç©ºé—´çš„è‡ªç”±åº¦æ˜¯ï¼š<strong>4</strong>ã€‚</li></ol><p>äºŒã€ç®€ç­”é¢˜, è¯·å†™å‡ºè§£é¢˜è¿‡ç¨‹ (10 åˆ†)ã€‚</p><ol type="1"><li><p>è€ƒè™‘ä¸¤ä¸ªåˆšä½“ä¹‹é—´çš„ä¸€ä¸ªå…³èŠ‚ã€‚æ¯ä¸ªåˆšä½“æœ‰ <spanclass="math inline">\(\mathrm{m}\)</span> ä¸ªè‡ªç”±åº¦ï¼ˆäºŒç»´ç©ºé—´åˆšä½“ <spanclass="math inline">\(m=3\)</span>, ä¸‰ç»´ç©ºé—´åˆšä½“ <spanclass="math inline">\(m=6\)</span> ), å¹¶ä¸”æ²¡æœ‰ä»»ä½•çº¦æŸã€‚å…³èŠ‚æœ‰ <spanclass="math inline">\(f\)</span> ä¸ªè‡ªç”±åº¦ï¼ˆæ—‹è½¬å…³èŠ‚ <spanclass="math inline">\(\mathrm{f}=1\)</span>, çƒå½¢å…³èŠ‚ <spanclass="math inline">\(\mathrm{f}=3\)</span> ç­‰)ã€‚è¯•é—®,ç”¨è¿™ä¸ªå…³èŠ‚å…³è”ä¸¤ä¸ªåˆšä½“, é‚£ä¹ˆå¼•å…¥äº†å¤šå°‘ä¸ªçº¦æŸï¼ˆä¸€ä¸ªåˆšä½“ç›¸å¯¹äºå¦ä¸€ä¸ª,ç”¨å­—æ¯è¡¨ç¤ºï¼‰?</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220302212205280.png" /></p><p><strong>è§£ï¼š<spanclass="math inline">\(è‡ªç”±åº¦f+å¹³é¢çº¦æŸc=å¹³é¢è‡ªç”±åº¦3ï¼Œè‡ªç”±åº¦fï¼‹ç©ºé—´çº¦æŸc=ç©ºé—´è‡ªç”±åº¦6\)</span></strong></p><p><strong>æ•…<spanclass="math inline">\(\pmb{c=-f+m}\)</span></strong></p></li><li><p>è€ƒè™‘ä¸€ä¸ªæœºæ„åŒ…å«äº† 3 ä¸ªä¸‰ç»´ç©ºé—´åˆšä½“ (è®°ä½, åŒ…æ‹¬åœ°é¢, æ‰€ä»¥ <spanclass="math inline">\(\mathrm{N}=4\)</span> ), å’Œ 4 ä¸ªå…³èŠ‚: 1 ä¸ªè½¬åŠ¨, 1ä¸ªå¹³ç§», ä¸€ä¸ªä¸‡å‘, ä¸€ä¸ªçƒå½¢ã€‚ä½¿ç”¨ Grubler å…¬å¼, è®¡ç®—æœºæ„çš„è‡ªç”±åº¦ã€‚</p><p><strong>è§£ï¼šè½¬åŠ¨å‰¯<spanclass="math inline">\(f_1=1\)</span>ï¼Œç§»åŠ¨å‰¯<spanclass="math inline">\(f_2=1\)</span>ï¼Œä¸‡å‘é“°<spanclass="math inline">\(f_3=2\)</span>ï¼Œçƒå½¢é“°<spanclass="math inline">\(f_4=3\)</span></strong></p><p><strong>åˆ<span class="math inline">\(\because N=4\)</span>ï¼Œ<spanclass="math inline">\(J=4\)</span>ï¼Œ<spanclass="math inline">\(m=6\)</span></strong></p><p><strong><span class="math inline">\(\therefore\pmb{dof=m(N-1-j)+\sum_{i=1}^Jf_i=6\times\left(4-1-4\right)+\left(1+1+2+3\right)=1}\)</span></strong></p></li><li><p>å¦‚ä¸‹å›¾çš„ SRS (çƒå½¢-è½¬åŠ¨-çƒå½¢) æœºæ„, æ­£åœ¨æŠ“å–ä¸€ä¸ªç‰©ä½“ã€‚è¯•é—®,å½“æœºæ„ç´§æ¡ç‰©ä½“æ—¶ (ç‰©ä½“ä¸æœºæ„ä¸­çš„æœºæ¢°è‡‚æœ€åä¸€æ®µæ²¡æœ‰ç›¸å¯¹è¿åŠ¨æ—¶),è‡ªç”±åº¦æ˜¯å¤šå°‘?</p></li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/2022_02_28_40f28045fe8caa2a438eg-1.jpg" /></p><p><strong>è§£ï¼šSpherical Jointå³ä¸ºçƒå½¢é“°<spanclass="math inline">\(f=3\)</span>ï¼Œå…±8ä¸ªï¼›Revolute Jointå³ä¸ºè½¬åŠ¨å‰¯<spanclass="math inline">\(f=1\)</span>ï¼Œå…±4ä¸ªï¼›</strong></p><p><strong>åˆ<span class="math inline">\(\because N=14\)</span>ï¼Œ<spanclass="math inline">\(J=16\)</span>ï¼Œ<spanclass="math inline">\(m=6\)</span></strong></p><p><span class="math inline">\(\therefore\pmb{dof=m(N-1-j)+\sum_{i=1}^Jf_i=6\times\left(14-1-16\right)+\left(3\times8+1\times4\right)=10}\)</span></p><ol start="4" type="1"><li><p>åŒä¸Šé¢˜, å¦‚æœç°åœ¨æœ‰ <span class="math inline">\(n\)</span>æ¡è¿™æ ·çš„æœºæ¢°è‡‚ (é¢˜ 3 ä¸­ <span class="math inline">\(n=4\)</span> ),æœºæ„çš„è‡ªç”±åº¦æ˜¯?</p><p><strong>åŒç†ï¼š<spanclass="math inline">\(\pmb{dof=m(N-1-j)+\sum_{i=1}^Jf_i=6\times\left(3n+2-1-4n\right)+\left(3\times2n+1\timesn\right)=n+6}\)</span></strong></p></li><li><p>åŒä¸Šé¢˜, å‡è®¾ <span class="math inline">\(n\)</span>æ¡æœºæ¢°è‡‚çš„è½¬åŠ¨å…³èŠ‚, è¢«æ›¿æ¢æˆäº†ä¸‡å‘å…³èŠ‚, æœºæ„çš„è‡ªç”±åº¦æ˜¯?</p><p><strong>åŒç†ï¼š<spanclass="math inline">\(\pmb{dof=m(N-1-j)+\sum_{i=1}^Jf_i=6\times\left(3n+2-1-4n\right)+\left(3\times2n+2\timesn\right)=2n+6}\)</span></strong></p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨äºº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022â€™summary</title>
    <link href="/2021/12/31/2022/"/>
    <url>/2021/12/31/2022/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231192304439.png" /></p><p>è¿™æ˜¯2021å¹´å‘çš„ç¬¬ä¸€æ¡æœ‹å‹åœˆé…å›¾ï¼Œé¡ºæ‰‹æ‹¿æ¥æ€»ç»“å§ã€‚</p><span id="more"></span><p>æ²¡æƒ³åˆ°æ›¾ç»ä¸€ä¸ªå› ä¸ºä¸æ€ä¹ˆä½¿ç”¨å¾®ä¿¡ï¼Œä¸æ€ä¹ˆçœ‹æœ‹å‹åœˆè€Œé¥±å—å›°æ‰°çš„äººä¼šç”¨çœ‹æœ‹å‹åœˆæ¥å›é¡¾è‡ªå·±çš„ä¸€æ•´å¹´ã€‚</p><p>æ¯•ç«Ÿæœ‰æ„Ÿè€Œå‘ï¼Œè¿™æ¬¡å°±ä¸çº ç»“æ’ç‰ˆç¾ä¸ç¾è§‚ã€ç»“æ„ä¸¥ä¸ä¸¥è°¨äº†ã€‚</p><h1id="å¤©æ—¶äººäº‹æ—¥ç›¸å‚¬å†¬è‡³é˜³ç”Ÿæ˜¥åˆæ¥">å¤©æ—¶äººäº‹æ—¥ç›¸å‚¬ï¼Œå†¬è‡³é˜³ç”Ÿæ˜¥åˆæ¥</h1><p>21çš„ä¸€æœˆåˆæˆ‘åº”è¯¥æœ‰åœ¨åŠªåŠ›å¤ä¹ å§ï¼Œå› ä¸ºä¸€æ•´ä¸ªå­¦æœŸçš„æ€ æƒ°ï¼Œå› ä¸ºå¯¹ä¸€ä¸ªä¼˜ç§€å¥³ç”Ÿçš„è¿½é€ã€‚å¤§å­¦è·Ÿé«˜ä¸­å·®åˆ«çœŸå¤§ï¼Œæ²¡æœ‰äººé€¼æˆ‘å†™å¿…åˆ·é¢˜äº†ï¼Œæ²¡æœ‰äººé€¼æˆ‘é¢å¤–è¡¥è¯¾äº†ï¼Œæ²¡æœ‰æ‰€è°“ç«ç®­ç­äº†ã€‚å¤§ä¸€ä¸Šè™½ç„¶å¤§éƒ¨åˆ†éƒ½åœ¨20å¹´è¿™ä¸ªåŒºé—´ï¼Œä½†æ˜¯ç»™æˆ‘çš„21å¹´çœŸæ˜¯å¥ å®šäº†ä¹±ä¸ƒå…«ç³Ÿçš„åŸºç¡€ã€‚</p><p>1æœˆ6å·é‚£å¤©å¼€å§‹å¬YOASOBIçš„æ­Œã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231193810905.png" /></p><p>æˆ‘çš„â€œå¥½å‹â€ä¸ºæˆ‘åšçš„å›¾ï¼Œå¯æƒœè¿™ä½å¥½å‹ä¸å†è”ç³»äº†ï¼Œå€’æ˜¯å›¾é‡Œçš„å†…å®¹å®ç°äº†ã€‚</p><p>æ”¾å‡å›å®¶äº†ï¼Œå›äº†ä¸€è¶Ÿåç¾ï¼Œå¯æƒœçœ‹åˆ°åç¾å¸å›½å›å¿†å½•çš„å…±äº«æ–‡æ¡£çš„æ—¶å€™æˆ‘è¿˜æ˜¯å†™ä¸å‡ºä¸œè¥¿æ¥ã€‚</p><h1id="é¸¿é›é•¿é£å…‰ä¸åº¦é±¼é¾™æ½œè·ƒæ°´æˆæ–‡">é¸¿é›é•¿é£å…‰ä¸åº¦ï¼Œé±¼é¾™æ½œè·ƒæ°´æˆæ–‡</h1><p>åœ¨äºŒæœˆç»ˆäºå’Œå¤§é¸Ÿè½¬è½¬è½¬é…’å§çš„å…„å¼Ÿä»¬ä¼šå¸ˆäº†ï¼Œ22å¹´çš„ç¾é£Ÿç‹å›½çš„å‹‡è€…ä¼ è¯´ç»§ç»­è¾‰ç…Œï¼å¯èƒ½è¿™æ˜¯ç›®å‰æˆ‘å”¯ä¸€æœŸå¾…çš„å¹´åº¦å›¢å»ºäº†å§ï¼Œä¸€ç¾¤æˆ‘å¯ä»¥æ— æ¡ä»¶ä¿¡ä»»çš„äººã€‚</p><p>è¿™ä¸ªæœˆé‡Œè·Ÿäº†å¥½å¤šäººå‡ºå»ç©ï¼Œå¤šå¹´æœªè§çš„ç«¥å¹´å¥½å‹ï¼Œå¸®æˆ‘å¾ˆå¤šçš„åŒä¹¡å¸ˆå…„ï¼Œå…³ç³»è¶…å¥½çš„é«˜ä¸­åŒå­¦Â·Â·Â·ï¼ˆè¯ç©·äº†ï¼Œå°±è¿™æ ·å§ï¼‰</p><p>åæ­£è¿‡äº†ä¸ªå¹´ï¼Œåˆå¼€å­¦äº†ï¼</p><p>ç”šè‡³ä¸è®°å¾—ä¸ºä»€ä¹ˆç•™ä¸‹è¿™æ®µæ„Ÿæ…¨ï¼š</p><p>å‡¡äº‹éƒ½æœ‰å®šæœŸã€‚å¤©ä¸‹ä¸‡ç‰©éƒ½æœ‰å®šæ—¶ï¼Œç”Ÿæœ‰æ—¶ï¼Œæ­»æœ‰æ—¶ï¼Œå“­æœ‰æ—¶ï¼Œç¬‘æœ‰æ—¶ï¼Œå¯»æ‰¾æœ‰æ—¶ï¼Œæ”¾æ‰‹æœ‰æ—¶ã€‚</p><p>å¥½æ¶ˆæ¯æ˜¯1204æ£‹ç‰Œä¸­å¿ƒåˆå…·é›å½¢ï¼Œä¸ºåæ¥çš„é‡‘ç¢§è¾‰ç…Œä½œäº†é“ºå«ã€‚</p><h1id="ç©ºé‡Œæµéœœä¸è§‰é£æ±€ä¸Šç™½æ²™çœ‹ä¸è§">ç©ºé‡Œæµéœœä¸è§‰é£ï¼Œæ±€ä¸Šç™½æ²™çœ‹ä¸è§</h1><p>ä¸‰æœˆé‡Œä¹°äº†æˆ‘çš„å®è´surfaceï¼Œé‚£æˆ‘è‚¯å®šå¼€å§‹å®¶æ•™äº†ï¼Œè™½ç„¶æˆ‘å¤©å¤©éª‚å®ƒç©4399éƒ½å¡ï¼Œä½†ç¡®å®ç»™æˆ‘å¸¦æ¥äº†æå¤§ä¾¿åˆ©ï¼Œä¸ç®¡å»å“ªéƒ½åªå¸¦ç€å¹³æ¿å¯æ¯”èƒŒç€æ¸¸æˆæœ¬çš„ä¹ æ­¦ä¹‹äººå¥½å¤šäº†ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231195659935.png" /></p><p>åœ¨è¿™ä¸ªæ—¶å€™å‚åŠ äº†å¤§åˆ›ï¼Œè™½ç„¶å¯èƒ½è‡ªå·±å®Œå…¨æ²¡æœ‰åšå‡ºä»€ä¹ˆä¸œè¥¿çš„èƒ½åŠ›æ¥ï¼Œä½†é‚£ä¸ªæ˜ŸæœŸè¿˜æ˜¯æŒºéœ‡æ’¼çš„ï¼ŒåŸæ¥ç§‘ç ”ç¦»æˆ‘å¹¶ä¸è¿œã€‚æ¯•ç«Ÿæˆ‘ä¹Ÿæ¢¦æƒ³æˆä¸ºæ‹‰æ ¼å¤šç§‘å­¦é™¢çš„â€œç–¯å­â€ã€‚</p><p>è¿™ä¸ªæœˆé‡Œè¿˜å‚åŠ äº†å‡ æ¬¡å›¢å»ºï¼Œæ–‡ä½“ç»„ã€æ™ºåã€å¾®è½¯ä¿±ä¹éƒ¨ï¼ˆè™½ç„¶æ”¹åäº†ï¼‰Â·Â·Â·å¤§ä¸€å‚åŠ çš„æ¯ä¸€ä¸ªç¤¾å›¢æˆ–ç»„ç»‡éƒ½è®©æˆ‘æ”¶è·äº†å¥½å¤šå¥½å¤šï¼ŒçŸ¥è¯†ä¹Ÿå¥½ï¼Œæœ‹å‹ä¹Ÿå¥½ï¼Œä¸ç¦æ„Ÿæ…¨ï¼Œè¿˜å¥½æˆ‘å‚åŠ äº†ã€‚</p><p>ä¸‰æœˆåå·é‚£å¤©è¿˜è®¤è¯†äº†ä¸€ä¸ªspecialçš„äººï¼Œæ„Ÿè°¢å¤§ç‰©ï¼Œç¼˜åˆ†çœŸå¥‡å¦™ã€‚</p><p>è™½ç„¶æˆ‘è²Œä¼¼æœ‰å¾ˆå¤šçš„æœ‹å‹ï¼Œä½†äº‹å®ä¸Šæˆ‘æ˜¯ä¸€ä¸ªå¾ˆå®³æ€•äº¤å‹çš„äººã€‚å®³æ€•æˆ‘çš„æ‰€ä½œæ‰€ä¸ºä¼šå¯¹å…¶ä»–äººçš„äººç”Ÿè½¨è¿¹é€ æˆå½±å“ï¼ˆç¡®å®æ€ªä¸­äºŒçš„ï¼‰ã€‚</p><p>ä¸è¿‡å¥½åœ¨å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯æ­£é¢å½±å“ï¼Œå¸Œæœ›æˆ‘çš„æœ‹å‹æ¯•ä¸šåï¼Œå°±ä¸šåï¼Œ10å¹´åï¼Œ50å¹´åè¿˜æ˜¯æˆ‘çš„æœ‹å‹ï¼Œåœ¨æˆ‘çš„è½¨è¿¹ç•™å¤šç‚¹ç—•è¿¹ã€‚</p><h1id="æ±Ÿæ°´æµæ˜¥å»æ¬²å°½æ±Ÿæ½­è½æœˆå¤è¥¿æ–œ">æ±Ÿæ°´æµæ˜¥å»æ¬²å°½ï¼Œæ±Ÿæ½­è½æœˆå¤è¥¿æ–œ</h1><p>å››æœˆé‡Œæˆ‘å¼€å§‹è¯»è¯—äº†ï¼è¯­æ–‡è€å¸ˆå¥¹çœ‹äº†è‚¯å®šå¾ˆæƒŠè®¶ï¼Œä¸ºä»€ä¹ˆè¯­æ–‡æˆç»©è¿™ä¹ˆå·®çš„æˆ‘å±…ç„¶è¿˜ä¼šå¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œæ„Ÿè°¢è€å¸ˆçš„æ»•ç‹é˜åºã€‚</p><p>è¿™ä¸ªæœˆé‡Œæˆ‘åº”è¯¥æœ‰å¥½å¥½åœ¨å†™pythonï¼Œmatlabï¼Œc++å’Œæ•°æ®ç»“æ„ä¸ç®—æ³•å§ï¼Œå­¦åŸºç¡€çš„ç¼–ç¨‹è¯­è¨€è®©äººå……æ»¡äº†æˆå°±æ„Ÿã€‚</p><p>è¿™ä¸ªæœˆæœ€ç‰¹æ®Šçš„äº‹åº”è¯¥æ˜¯è®¤è¯†äº†another specialpeopleï¼Œåˆšå¥½å‰åå·®äº†ä¸€ä¸ªæœˆã€‚</p><p>è™½ç„¶ç›®å‰æ˜¯æˆ‘ç”Ÿæ´»é‡Œæœ€é‡è¦çš„äººä»¬ï¼Œä½†æ˜¯çœŸçš„ç»™æˆ‘å¸¦æ¥äº†è®¸å¤šçš„â€ç—›è‹¦â€œï¼çƒ¦æ­»äº†ï¼å¸Œæœ›æ¥å¹´ä½ ä»¬å¯ä»¥ä¸è¦é‚£ä¹ˆå‚»ï¼Œä½†æ˜¯è¯·ç»§ç»­å‚»ä¹ä¸‹å»ã€‚</p><h1id="è°å®¶ä»Šå¤œæ‰èˆŸå­ä½•å¤„ç›¸æ€æ˜æœˆæ¥¼">è°å®¶ä»Šå¤œæ‰èˆŸå­ï¼Œä½•å¤„ç›¸æ€æ˜æœˆæ¥¼</h1><p>äº”æœˆEnderfga's blogå»ºç«™äº†ï¼è™½ç„¶äº§ç”Ÿäº†æ²¡å‡ ç¯‡é«˜è´¨é‡å†…å®¹ï¼Œä½†æ˜¯åæ­£æ˜¯æˆ‘çš„ï¼Œæˆ‘è¯´äº†ç®—ï¼</p><p>çœ‹èµ·æ¥è¿™ä¸ªæœˆé‡Œæˆ‘çš„æœ‹å‹åœˆå¤§éƒ¨åˆ†éƒ½æ˜¯åƒåƒå–å–ï¼Œå‚åŠ äº†ä¸€äº›å°æ¯”èµ›ï¼Œ</p><p>æ€»æ˜¯ä¼šäº§ç”Ÿä¸€äº›ï¼Œæˆ‘å­¦ä¼šäº†å¥½å¤šä¸œè¥¿~ç„¶åè¿‡äº†ä¸€æ®µæ—¶é—´å°±å‘ç°ï¼ŒåŸæ¥çš„è‡ªå·±å¥½å‚»ï¼Œè¿æ—¶é—´å¤æ‚åº¦éƒ½ä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œè¿flagéƒ½æ²¡æœ‰å¬è¯´è¿‡ã€‚</p><h1id="ç‰æˆ·å¸˜ä¸­å·ä¸å»æ£è¡£ç §ä¸Šæ‹‚è¿˜æ¥">ç‰æˆ·å¸˜ä¸­å·ä¸å»ï¼Œæ£è¡£ç §ä¸Šæ‹‚è¿˜æ¥</h1><p>è¿™ä¸ªæœˆæˆ‘ç”Ÿæ—¥äº†ï¼Œæ”¶åˆ°äº†å¥½å¤šå¥½å¤šç¤¼ç‰©å‘€ï¼Œè™½ç„¶æˆ‘è¿˜æ˜¯ä¼šè§‰å¾—ï¼ŒæŸä¸€å¤©ä¸ä¼šå’Œå®ƒçš„æ˜¨å¤©ä¸æ˜å¤©æœ‰æ‰€åŒºåˆ«ï¼Œä½†æ˜¯è¢«å¤§å®¶é‡è§†çš„ä¸€å¤©å°±å¦å½“åˆ«è®ºäº†ã€‚</p><p>è¿™ä¸ªæœˆè¿˜åœæ­¢å‰é¢è¯´çš„è¿½é€ï¼Œä¸è¿‡å³ä½¿è¿™æ ·è¿˜æ˜¯è¦å‘Šè¯‰è‡ªå·±ï¼šäººé—´ä¸€è¶Ÿï¼Œç§¯æå‘ä¸Šï¼</p><p>å­¦å¼Ÿå­¦å¦¹å‚åŠ äº†é«˜è€ƒï¼Œä»–ä»¬ä¿¡å¿ƒæ»¡æ»¡ï¼›è€Œæˆ‘è¿˜åœ¨ä¸ºä¸æŒ‚ç§‘åŠªåŠ›ã€‚</p><h1id="æ˜¥æ±Ÿæ½®æ°´è¿æµ·å¹³æµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿ">æ˜¥æ±Ÿæ½®æ°´è¿æµ·å¹³ï¼Œæµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿ</h1><p>æš‘å‡æ²¡æœ‰å›å®¶ï¼Œè®¤çœŸæ‰“å·¥çš„ä¸ƒæœˆã€‚</p><p>ä¸€å¤©12å°æ—¶çš„å®¶æ•™ï¼Œç»™æˆ‘æœªæ¥çš„ä½“é‡æ¿€å¢å¥ å®šäº†ç»æµåŸºç¡€ã€‚</p><p>æ€»æ˜¯ä¼šå›å¿†ä¸€ä¸‹äººï¼Œå³ä½¿ç‰©æ˜¯äººéã€‚</p><p>bç«™å‰ä¸€æ®µæ—¶é—´æ˜¯ä¸æ˜¯ç«äº†éšæœºæŒ‘æˆ˜æ¥ç€ï¼Ÿæˆ‘çš„ä¸ƒæœˆåä¸ƒå·æ—©çŸ¥é“åº”è¯¥æ‹æˆè§†é¢‘ï¼Œå…¨é æ·éª°å­éšæœºå‡ºå‘ï¼Œæ²¡æƒ³åˆ°æœ€åè¿˜èƒ½åˆ°å…³å±±æœˆç¾æœ¯é¦†ï¼Œè²èŠ±å±±å’Œæ·±åœ³æ¹¾ã€‚</p><h1id="æ–œæœˆæ²‰æ²‰è—æµ·é›¾ç¢£çŸ³æ½‡æ¹˜æ— é™è·¯">æ–œæœˆæ²‰æ²‰è—æµ·é›¾ï¼Œç¢£çŸ³æ½‡æ¹˜æ— é™è·¯</h1><p>æ•´ä¸ªå…«æœˆä¼°è®¡éƒ½åœ¨ä¸ºå¥¥è¿çƒ­è¡€æ²¸è…¾ï¼Œ16å¹´12å¹´08å¹´çš„æˆ‘éƒ½æ²¡æœ‰æ„Ÿå—åˆ°å¥¥è¿çš„é­…åŠ›ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231202939847.png" /></p><p>å½“ç„¶è¿˜æœ‰å¤§åƒå¤§å–è·Ÿå…„å¼Ÿä»¬çš„æ²™é›•ä½ ç”»æˆ‘çŒœã€‚</p><h1id="ä¸çŸ¥æ±Ÿæœˆå¾…ä½•äººä½†è§é•¿æ±Ÿé€æµæ°´">ä¸çŸ¥æ±Ÿæœˆå¾…ä½•äººï¼Œä½†è§é•¿æ±Ÿé€æµæ°´</h1><p>åˆå¼€å­¦å•¦Â·Â·Â·Â·</p><p>æˆ‘å˜æˆå­¦é•¿äº†ï¼Œè¿æ–°äº†å¥½å¤šå­¦å¼Ÿå­¦å¦¹ã€‚</p><p>è¿™ä¸ªæœˆæˆ‘ä¼°è®¡æœ‰ç‚¹æƒ³æ‹çˆ±äº†ï¼Œè½¬äº†å¾ˆå¤šæœ‰çš„æ²¡çš„ã€‚</p><p>æš‘å‡èµšé’±çš„å¿ƒæ„¿ï¼šè¯·æˆ‘çš„å¥½æœ‹å‹ä»¬åƒå¤§é¤</p><p>å¼€å§‹åœ¨è¿™ä¸ªæœˆä¸€æ­¥æ­¥å®ç°äº†ï¼ï¼ˆé’±åŒ…è‚‰ç–¼ï¼‰</p><h1 id="ç¦è¡—ç®«é¼“å¯’è½»å¤œæ°¸">ç¦è¡—ç®«é¼“ï¼Œå¯’è½»å¤œæ°¸</h1><p>å›½åº†çˆ±hanseräº”å‘¨å¹´çºªå¿µæ—¥ï¼</p><p>ç¬¬ä¸€æ¬¡è·Ÿæœ‹å‹ä»¬å‡ºå»æ—…æ¸¸çš„å›½åº†å‡æœŸï¼Œæœ‰ç¾å¥³ç¾é£Ÿç›¸ä¼´çš„æ—¥å­æ¯”åœ¨è‡ªä¹ å®¤æ‰“ä»£ç å¿«ä¹å¤šäº†ã€‚</p><p>è¶Šæ¥è¶Šèƒ–äº†ï¼Œæœ‰é’±å¯¼è‡´æˆ‘åƒçš„å¤ªå¥½ï¼Œæˆ‘åº”è¯¥ç ´äº§çš„ã€‚</p><p>æ€ä¹ˆæˆ‘ä¹äºåŠ©äººï¼Œä½ ä»¬å°±ä¹äºé€æˆ‘åƒè›‹ç³•å¥¶èŒ¶å‘€ï¼Œè¿™ä¸å¥½ï¼</p><h1id="å‡éœœå¤œä¸‹æ‹‚ç½—è¡£æµ®äº‘ä¸­æ–­å¼€æ˜æœˆ">å‡éœœå¤œä¸‹æ‹‚ç½—è¡£ï¼Œæµ®äº‘ä¸­æ–­å¼€æ˜æœˆ</h1><p>åä¸€æœˆä¸å°±æ˜¯ä¸Šä¸ªæœˆå—ï¼Ÿæˆ‘åœ¨å¹²å˜›ï¼Ÿ</p><p>æˆ‘åœ¨é™ªé‡è¦çš„äººåƒåƒå–å–è¿˜æœ‰å‚»ä¹ã€‚</p><p>å¸Œæœ›æˆ‘æ¥å¹´æ€»ç»“çš„æ—¶å€™æˆ‘è¿˜æ˜¯åœ¨é™ªé‡è¦çš„äººåƒå–å‚»ä¹ï¼Œä¸è¿‡å¾—å¤šç‚¹åŠªåŠ›å­¦ä¹ ã€‚æ€ä¹ˆä¼šæœ‰è¿™ä¹ˆæ‡’çš„äººï¼Œå°±çŸ¥é“ç©åŠ¨æ£®Â·Â·Â·</p><p>åäºŒå·é‚£å¤©åœ¨å¤§æ•™å®¤é‡Œæ¼”è®²äº†ï¼Œæ„Ÿè§‰è‡ªå·±ä»å°å°±å¾ˆæœ‰è¡¨ç°æ¬²ï¼Œå¥ˆä½•æ²¡æœ‰ä»»ä½•æŠ€èƒ½ï¼Œæ¯ä¸€æ¬¡ä¸Šå°å‰éƒ½æ‰‹æŠ–æµæ±—ï¼Œ</p><p>ä½†æ˜¯æˆ‘è®°å¾—é‚£å¤©æˆ‘è®²çš„å¾ˆæ»¡æ„ï¼Œæˆ‘è‡ªå·±å¾ˆæ»¡æ„ï¼Œæœ‰è¿›æ­¥å°±å¥½ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231204209953.png" /></p><h1id="æ„¿æˆ‘å¦‚æ˜Ÿå›å¦‚æœˆå¤œå¤œæµå…‰ç›¸çšæ´">æ„¿æˆ‘å¦‚æ˜Ÿå›å¦‚æœˆï¼Œå¤œå¤œæµå…‰ç›¸çšæ´</h1><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211231204818624.png" /></p><p>12æœˆå°±ä¸å•ç‹¬æ€»ç»“äº†ï¼Œæ€»ç»“å…¨å¹´å§ï¼</p><p>æœ¬äºº2021å¹´å¹´åº¦æˆå°±æ€»ç»“:</p><ol type="1"><li>å­¦æœ¯æ–¹é¢ï¼Œå‡­å€Ÿä¸ªäººåŠªåŠ›ï¼Œåœ¨æ ¸é…¸æ£€æµ‹é¢†åŸŸäº§å‡ºå¤šä»½æ•°æ®çœŸå®è¯¦å°½çš„æŠ¥å‘Šã€‚</li><li>å¥åº·æ–¹é¢ï¼Œä¿è¯è†³é£Ÿçº¤ç»´æ‘„å…¥ï¼Œå…·ä½“è¡¨ç°ä¸ºæ¯æ—¥åšæŒåƒç“œï¼Œåƒå¥½ç“œï¼Œåƒå¤§ç“œã€‚</li><li>å•†ä¸šæ–¹é¢ï¼Œä¸å„å¤§å¹³å°åˆä½œï¼Œå…¨é¢å‚ä¸æŠ•èµ„618åŒ11ã€åŒ12ç­‰åƒäº¿çº§é‡å¤§é¡¹ç›®ã€‚</li><li>ç¯ä¿æ–¹é¢ï¼Œè‚¡ç¥¨åŸºé‡‘ä¸€ç‰‡ç»¿ï¼Œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±ã€‚åœ¨åºŸç‰©åˆ©ç”¨é¢†åŸŸæ›´æ˜¯æˆç»©æ–ç„¶:è‡ªå·±ä½œä¸ºåºŸç‰©ï¼Œå¸¸å¸¸è¢«åˆ«äººåˆ©ç”¨ã€‚</li><li>è¿åŠ¨æ–¹é¢ï¼Œä¸“æ³¨äºæ°´ä¸Šé¡¹ç›®ï¼Œåœ¨æ‘¸é±¼ã€åˆ’æ°´ç­‰å°é¡¹ä¸Šæœ‰çªå‡ºè¡¨ç°ã€‚</li><li>ä¿¡ä»°æ–¹é¢ï¼Œå…¨å¿ƒå…¨æ„åšæŒè½¬å‘é”¦é²¤ä¸åŠ¨æ‘‡ã€‚</li></ol><p>ç®—äº†ä¸ç©æ¢—äº†ã€‚</p><p>è¿™ä¸€å¹´æœ‰ä»€ä¹ˆå€¼å¾—å›é¡¾çš„å—ï¼Ÿ</p><p>ä¹Ÿè®¸åº”è¯¥æ˜¯å‹è°Šå§ï¼Œä»é«˜ä¸­åˆ°å¤§å­¦ï¼Œç›¸è¯†6ï¼Œ7å¹´çš„æœ‹å‹ä»¬ä¸åœ¨äº†ï¼Œè·³å‡ºèˆ’é€‚åœˆï¼Œç»“è¯†äº†å¦å¤–ä¸€æ‰¹å¯çˆ±çš„äººã€‚</p><p>æœ¬æ¥ä¸æƒ³èŠ±æ—¶é—´å†™è¿™ç§ä¸œè¥¿çš„ï¼Œä¼šè§‰å¾—â€œä½ çš„æ€»ç»“å…³åˆ«äººä»€ä¹ˆäº‹ï¼Œå†™å‡ºæ¥è°ä¼šçœ‹å‘€â€ã€‚</p><p>åæ¥æƒ³äº†æƒ³ï¼ŒçœŸæœ‰é“ç†ï¼Œæˆ‘åº”è¯¥å†™ç»™æ˜å¹´31å·çš„è‡ªå·±ã€‚</p><p>å–‚ï¼Œæ¡‚å®‰ï¼Œä½ æœ‰æ²¡æœ‰è®°å¾—åˆ·LeetCodeï¼Œä»Šå¤©å­¦ä¹ å¼ºå›½äº†å—ï¼Ÿå’Œæœ‹å‹ä»¬çš„å…³ç³»å¥½ä¸ï¼Œæœ‰æ²¡æœ‰ç»™ä»–ä»¬å¸¦æ¥å¿«ä¹ï¼Ÿæœ‰ç»™å­¦å¼Ÿå­¦å¦¹åšä¸ªå¥½æ¦œæ ·æ²¡ï¼Ÿ</p><p>linuxç”¨æƒ¯æ²¡ï¼Œc++/python/matlabè¿˜è®°å¾—æ€ä¹ˆç”¨å—ï¼Ÿç»©ç‚¹åˆ°5æ²¡ï¼Ÿä½“é‡ä¸‹æ¥æ²¡ï¼ŸÂ·Â·Â·Â·Â·Â·</p><p><img src="https://v2.jinrishici.com/one.svg" /></p><p>2021æœ€å¤§çš„æ”¶è·æ˜¯ç»“è¯†äº†è¯»åˆ°è¿™é‡Œçš„ä½ ï¼Œè°¢è°¢~</p>]]></content>
    
    
    
    <tags>
      
      <tag>é—²è°ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>wslå®‰è£…ä¸å¼€å‘ç¯å¢ƒæ­å»º</title>
    <link href="/2021/11/26/wsl/"/>
    <url>/2021/11/26/wsl/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>wsl2ï¼Œvscodeï¼Œwindows terminalï¼Œzshï¼ŒdockerÂ·Â·Â·Â·</p><span id="more"></span><h1 id="windows-subsystem-for-linux">Windows Subsystem for Linux</h1><p>é¦–å…ˆè´´ä¸€ä¸ª<ahref="https://docs.microsoft.com/zh-cn/windows/wsl/install">å®˜æ–¹æ–‡æ¡£</a></p><h2 id="ä»€ä¹ˆæ˜¯é€‚ç”¨äº-linux-çš„-windows-å­ç³»ç»Ÿ">ä»€ä¹ˆæ˜¯é€‚ç”¨äº Linux çš„Windows å­ç³»ç»Ÿ</h2><p>é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿå¯è®©å¼€å‘äººå‘˜æŒ‰åŸæ ·è¿è¡Œ GNU/Linux ç¯å¢ƒ -åŒ…æ‹¬å¤§å¤šæ•°å‘½ä»¤è¡Œå·¥å…·ã€å®ç”¨å·¥å…·å’Œåº”ç”¨ç¨‹åº -ä¸”ä¸ä¼šäº§ç”Ÿä¼ ç»Ÿè™šæ‹Ÿæœºæˆ–åŒå¯åŠ¨è®¾ç½®å¼€é”€ã€‚</p><ul><li><a href="https://aka.ms/wslstore">åœ¨ Microsoft Store</a>ä¸­é€‰æ‹©ä½ åå¥½çš„ GNU/Linux åˆ†å‘ç‰ˆã€‚</li><li>è¿è¡Œå¸¸ç”¨çš„å‘½ä»¤è¡Œè½¯ä»¶å·¥å…·ï¼ˆä¾‹å¦‚<code>grep</code>ã€<code>sed</code>ã€<code>awk</code>ï¼‰æˆ–å…¶ä»– ELF-64äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li><li>è¿è¡Œ Bash shell è„šæœ¬å’Œ GNU/Linux å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬ï¼š<ul><li>å·¥å…·ï¼švimã€emacsã€tmux</li><li>è¯­è¨€ï¼š<ahref="https://docs.microsoft.com/zh-cn/windows/nodejs/setup-on-wsl2">NodeJS</a>ã€Javascriptã€<ahref="https://docs.microsoft.com/zh-cn/windows/python/web-frameworks">Python</a>ã€Rubyã€C/C++ã€C# ä¸ F#ã€Rustã€Go ç­‰ã€‚</li><li>æœåŠ¡ï¼šSSHDã€<ahref="https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">MySQL</a>ã€Apacheã€lighttpdã€<ahref="https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">MongoDB</a>ã€<ahref="https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">PostgreSQL</a>ã€‚</li></ul></li><li>ä½¿ç”¨è‡ªå·±çš„ GNU/Linux åˆ†å‘åŒ…ç®¡ç†å™¨å®‰è£…å…¶ä»–è½¯ä»¶ã€‚</li><li>ä½¿ç”¨ç±»ä¼¼äº Unix çš„å‘½ä»¤è¡Œ shell è°ƒç”¨ Windows åº”ç”¨ç¨‹åºã€‚</li><li>åœ¨ Windows ä¸Šè°ƒç”¨ GNU/Linux åº”ç”¨ç¨‹åºã€‚</li></ul><h2 id="ä»€ä¹ˆæ˜¯-wsl-2">ä»€ä¹ˆæ˜¯ WSL 2ï¼Ÿ</h2><p>WSL 2 æ˜¯é€‚ç”¨äº Linux çš„ Windowså­ç³»ç»Ÿä½“ç³»ç»“æ„çš„ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œå®ƒæ”¯æŒé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿåœ¨Windows ä¸Šè¿è¡Œ ELF64 Linux äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯<strong>æé«˜æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½</strong>ï¼Œä»¥åŠæ·»åŠ <strong>å®Œå…¨çš„ç³»ç»Ÿè°ƒç”¨å…¼å®¹æ€§</strong>ã€‚</p><p>è¿™ä¸€æ–°çš„ä½“ç³»ç»“æ„æ”¹å˜äº†è¿™äº› Linux äºŒè¿›åˆ¶æ–‡ä»¶ä¸Windowså’Œè®¡ç®—æœºç¡¬ä»¶è¿›è¡Œäº¤äº’çš„æ–¹å¼ï¼Œä½†ä»ç„¶æä¾›ä¸ WSL1ï¼ˆå½“å‰å¹¿æ³›å¯ç”¨çš„ç‰ˆæœ¬ï¼‰ä¸­ç›¸åŒçš„ç”¨æˆ·ä½“éªŒã€‚</p><p>å•ä¸ª Linux åˆ†å‘ç‰ˆå¯ä»¥åœ¨ WSL 1 æˆ– WSL 2 ä½“ç³»ç»“æ„ä¸­è¿è¡Œã€‚æ¯ä¸ªåˆ†å‘ç‰ˆå¯éšæ—¶å‡çº§æˆ–é™çº§ï¼Œå¹¶ä¸”ä½ å¯ä»¥å¹¶è¡Œè¿è¡Œ WSL 1 å’Œ WSL 2 åˆ†å‘ç‰ˆã€‚WSL 2 ä½¿ç”¨å…¨æ–°çš„ä½“ç³»ç»“æ„ï¼Œè¯¥ä½“ç³»ç»“æ„å—ç›Šäºè¿è¡Œ<strong>çœŸæ­£</strong>çš„Linux å†…æ ¸ã€‚</p><h2 id="wsl-2å®‰è£…">WSL 2å®‰è£…</h2><p>éœ€è¦CPUå¼€å¯VTï¼ˆVirtualizationTechnologyï¼‰ï¼Œè¿™ä¸€æ­¥æ ¹æ®CPUä¸åŒæ“ä½œæ–¹å¼ä¸åŒå°±ä¸ç»†è¯´äº†ã€‚</p><p>éœ€è¦å…ˆå¯ç”¨â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€å¯é€‰åŠŸèƒ½ï¼Œç„¶åæ‰èƒ½åœ¨Windows ä¸Šå®‰è£… Linux åˆ†å‘ã€‚</p><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell å¹¶è¿è¡Œï¼š</p><div class="code-wrapper"><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">dism<span class="token punctuation">.</span>exe <span class="token operator">/</span>online <span class="token operator">/</span><span class="token function">enable-feature</span> <span class="token operator">/</span>featurename:Microsoft<span class="token operator">-</span>Windows<span class="token operator">-</span>Subsystem<span class="token operator">-</span>Linux <span class="token operator">/</span>all <span class="token operator">/</span>norestart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è‹¥è¦æ›´æ–°åˆ° WSL 2ï¼Œéœ€è¦è¿è¡Œ Windows 10ã€‚</p><ul><li>å¯¹äº x64 ç³»ç»Ÿï¼š<strong>ç‰ˆæœ¬ 1903</strong> æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨<strong>å†…éƒ¨ç‰ˆæœ¬ 18362</strong> æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li><li>å¯¹äº ARM64 ç³»ç»Ÿï¼š<strong>ç‰ˆæœ¬ 2004</strong> æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨<strong>å†…éƒ¨ç‰ˆæœ¬ 19041</strong> æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li><li>ä½äº 18362 çš„ç‰ˆæœ¬ä¸æ”¯æŒ WSL 2ã€‚ ä½¿ç”¨ <ahref="https://www.microsoft.com/software-download/windows10">WindowsUpdate åŠ©æ‰‹</a>æ›´æ–° Windows ç‰ˆæœ¬ã€‚</li></ul><p>è‹¥è¦æ£€æŸ¥ Windows ç‰ˆæœ¬åŠå†…éƒ¨ç‰ˆæœ¬å·ï¼Œé€‰æ‹© Windows å¾½æ ‡é”® +Rï¼Œç„¶åé”®å…¥â€œwinverâ€ï¼Œé€‰æ‹©â€œç¡®å®šâ€ã€‚ æ›´æ–°åˆ°â€œè®¾ç½®â€èœå•ä¸­çš„<ahref="ms-settings:windowsupdate">æœ€æ–° Windows ç‰ˆæœ¬</a>ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126110320999.png" /></p><p>å®‰è£… WSL 2 ä¹‹å‰ï¼Œå¿…é¡»å¯ç”¨â€œè™šæ‹Ÿæœºå¹³å°â€å¯é€‰åŠŸèƒ½ã€‚ è®¡ç®—æœºéœ€è¦<ahref="https://docs.microsoft.com/zh-cn/windows/wsl/troubleshooting#error-0x80370102-the-virtual-machine-could-not-be-started-because-a-required-feature-is-not-installed">è™šæ‹ŸåŒ–åŠŸèƒ½</a>æ‰èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚</p><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell å¹¶è¿è¡Œï¼š</p><div class="code-wrapper"><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">dism<span class="token punctuation">.</span>exe <span class="token operator">/</span>online <span class="token operator">/</span><span class="token function">enable-feature</span> <span class="token operator">/</span>featurename:VirtualMachinePlatform <span class="token operator">/</span>all <span class="token operator">/</span>norestart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126110900611.png" /></p><p><strong>é‡æ–°å¯åŠ¨</strong> è®¡ç®—æœºï¼Œä»¥å®Œæˆ WSL å®‰è£…å¹¶æ›´æ–°åˆ° WSL 2ã€‚</p><p>é‡å¯ä¹‹å<ahref="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">ä¸‹è½½å®‰è£…</a>Linux å†…æ ¸æ›´æ–°åŒ…å¹¶å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126111436728.png" /></p><div class="code-wrapper"><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">wsl <span class="token operator">--</span><span class="token function">set-default</span><span class="token operator">-</span>version 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126111557676.png" /></p><p>æœ€åï¼Œæ‰“å¼€ <a href="https://aka.ms/wslstore">MicrosoftStore</a>ï¼Œå¹¶é€‰æ‹©ä½ åå¥½çš„ Linux åˆ†å‘ç‰ˆã€‚</p><p>å•å‡»ä»¥ä¸‹é“¾æ¥ä¼šæ‰“å¼€æ¯ä¸ªåˆ†å‘ç‰ˆçš„ Microsoft Store é¡µé¢ï¼š</p><ul><li><a href="https://www.microsoft.com/store/apps/9N9TNGVNDL3Q">Ubuntu18.04 LTS</a></li><li><a href="https://www.microsoft.com/store/apps/9n6svws3rx71">Ubuntu20.04 LTS</a></li><li><a href="https://www.microsoft.com/store/apps/9NJFZK00FGKV">openSUSELeap 15.1</a></li><li><a href="https://www.microsoft.com/store/apps/9MZ3D1TRP8T1">SUSELinux Enterprise Server 12 SP5</a></li><li><a href="https://www.microsoft.com/store/apps/9PN498VPMF3Z">SUSELinux Enterprise Server 15 SP1</a></li><li><a href="https://www.microsoft.com/store/apps/9PKR34TNCV07">KaliLinux</a></li><li><a href="https://www.microsoft.com/store/apps/9MSVKQC78PK6">DebianGNU/Linux</a></li><li><a href="https://www.microsoft.com/store/apps/9n6gdm4k2hnc">FedoraRemix for WSL</a></li><li><ahref="https://www.microsoft.com/store/apps/9NV1GV1PXZ6P">Pengwin</a></li><li><a href="https://www.microsoft.com/store/apps/9N8LP0X93VCP">PengwinEnterprise</a></li><li><a href="https://www.microsoft.com/store/apps/9p804crf0395">AlpineWSL</a></li><li><ahref="https://www.microsoft.com/store/apps/9msmjqd017x7">Raftï¼ˆå…è´¹è¯•ç”¨ç‰ˆï¼‰</a></li></ul><p>é¦–æ¬¡å¯åŠ¨æ–°å®‰è£…çš„ Linuxåˆ†å‘ç‰ˆæ—¶ï¼Œå°†æ‰“å¼€ä¸€ä¸ªæ§åˆ¶å°çª—å£ï¼Œç³»ç»Ÿä¼šè¦æ±‚ä½ ç­‰å¾…ä¸€åˆ†é’Ÿæˆ–ä¸¤åˆ†é’Ÿï¼Œä»¥ä¾¿æ–‡ä»¶è§£å‹ç¼©å¹¶å­˜å‚¨åˆ°ç”µè„‘ä¸Šã€‚æœªæ¥çš„æ‰€æœ‰å¯åŠ¨æ—¶é—´åº”ä¸åˆ°ä¸€ç§’ã€‚</p><p>ç„¶åï¼Œéœ€è¦ä¸ºæ–°çš„ Linux åˆ†å‘ç‰ˆåˆ›å»ºç”¨æˆ·å¸æˆ·å’Œå¯†ç ã€‚</p><p>å¦å¤–ï¼Œä»¥ä¸Šå†…å®¹è²Œä¼¼ï¼ˆï¼Ÿï¼‰å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸€è¡Œå‘½ä»¤è§£å†³</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">wsl --install -d Ubuntu-20.04<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126142919333.png" /></p><p>å¦å¤–æˆ‘å‘ç°ç”¨æˆ·åä¸èƒ½ç”¨å¤§å†™ï¼Œå¹¶ä¸”å¯†ç æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126143140954.png" /></p><h2 id="æ¢æº">æ¢æº</h2><p>å¦‚æœé‡åˆ°ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ–è€…ä¸‹è½½å¤±è´¥ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠå®˜æ–¹æºæ¢æˆå›½å†…æºã€‚</p><p><strong>å¤‡ä»½listæ–‡ä»¶</strong></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token builtin class-name">cd</span> /etc/apt/<span class="token function">sudo</span> <span class="token function">cp</span> sources.list sources.list.bak<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å¤‡ä»½äº†ï¼Œå¦‚æœä¸‹é¢çš„å“ªä¸€æ­¥å‡ºé”™äº†å¥½æ¢å¤ã€‚</p><p><strong>ä¿®æ”¹listæ–‡ä»¶</strong></p><p>ç®¡ç†å‘˜æƒé™ï¼Œä½¿ç”¨ vim è¿›è¡Œä¿®æ”¹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> sources.list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æŠŠæƒ³è¦æ›´æ¢çš„æºå¤åˆ¶åœ¨å‰ªåˆ‡æ¿ï¼Œè¿™é‡Œä»¥é˜¿é‡Œæºä¸ºä¾‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æˆ‘ä»¬å…ˆé€šè¿‡æŒ‰<strong>ggdG</strong>è¿™å‡ ä¸ªå­—æ¯å°†é‡Œé¢çš„å†…å®¹å…¨éƒ¨åˆ é™¤ï¼Œ</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">é€šè¿‡æŒ‰ä¸‹ggåå‘ç°å…‰æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶é¦–è¡Œäº†ã€‚å…¶ä¸­ï¼Œggä¸ºè·³è½¬åˆ°æ–‡ä»¶é¦–è¡Œï¼›dGä¸ºåˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œä»¥åŠå…¶ä¸‹æ‰€æœ‰è¡Œçš„å†…å®¹ã€‚dä¸ºåˆ é™¤ï¼ŒGä¸ºè·³è½¬åˆ°æ–‡ä»¶æœ«å°¾è¡Œã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æŒ‰é¼ æ ‡å³é”®ä¼šè¿›è¡Œç²˜è´´ï¼Œç„¶åè¾“å…¥ :wq! è¿›è¡Œé€€å‡ºä¸ä¿å­˜ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126135607014.png" /></p><p>æœ€åå¤åˆ¶è¿™ä¸¤æ¡å‘½ä»¤è¿›è¡Œæ›´æ–°é•œåƒæºåˆ—è¡¨ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> update<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h1 id="windows-terminalvscode">Windows terminal+vscode</h1><p><ahref="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701?rtc=1&amp;activetab=pivot:overviewtab">WindowsTerminal</a>https://docs.microsoft.com/en-us/windows/terminal/get-started</p><p>VS Code https://code.visualstudio.com</p><p>è¿™ä¸¤æ ·è½¯ä»¶å¯ä»¥å¤§å¹…æé«˜æ•ˆç‡ï¼ˆè¿˜å¾ˆè£…é€¼å¾ˆå¥½çœ‹ï¼‰</p><p>windowsterminalå„é¡¹è®¾ç½®å¯ä»¥å®ç°è®¸å¤šä½¿ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚æˆ‘è®¾ç½®äº†é»˜è®¤å¯åŠ¨Ubuntuï¼Œæ·»åŠ äº†gitbashï¼Œé€æ˜äºšå…‹åŠ›æ•ˆæœç­‰ï¼ˆæœ¬æ¬¡ä¸ä»‹ç»ï¼Œæ„Ÿå…´è¶£è‡ªè¡Œç ”ç©¶ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126112846563.png" /></p><p>å¯ä»¥åœ¨å·¥ä½œåŒºæ–‡ä»¶å¤¹å†…å³é”®ç„¶ååœ¨windowsç»ˆç«¯æ‰“å¼€</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126112958904.png" /></p><p>ä¹Ÿå¯ä»¥ç›´æ¥æ‰“å¼€windowç»ˆç«¯ï¼Œcdåˆ°å¯¹åº”æ–‡ä»¶å¤¹ï¼Œç„¶åè¾“å…¥</p><div class="code-wrapper"><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">code <span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126113402308.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126113507900.png" /></p><p>è‡³æ­¤å°±å¯ä»¥å®ç°åœ¨windowsç¯å¢ƒä¸‹ç¼–ç¨‹ï¼Œåœ¨linuxç¯å¢ƒä¸‹æµ‹è¯•ã€‚</p><h1 id="docker">Docker</h1><p>ä½¿ç”¨ä»¥ä¸‹è„šæœ¬å¯ä»¥å®ç°è‡ªåŠ¨å®‰è£…ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># install docker</span><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh<span class="token function">sh</span> get-docker.sh<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable"><span class="token variable">$(</span>getent group docker<span class="token variable">)</span></span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>     <span class="token function">sudo</span> <span class="token function">groupadd</span> docker<span class="token punctuation">;</span><span class="token keyword">else</span>    <span class="token builtin class-name">echo</span> <span class="token string">"docker user group already exists"</span><span class="token keyword">fi</span><span class="token function">sudo</span> gpasswd -a <span class="token environment constant">$USER</span> docker<span class="token function">sudo</span> <span class="token function">service</span> docker restart<span class="token function">rm</span> -rf get-docker.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126133921891.png" /></p><p>å¯ä»¥ç›´æ¥å¤åˆ¶åˆ°txtä¸­ï¼Œç„¶åä¿®æ”¹æ–‡ä»¶ç±»å‹è·Ÿæ–‡ä»¶åä¸ºinstall-docker.shï¼ˆåç¼€æ˜¯shï¼Œåå­—ä»»æ„ï¼‰</p><p>ä¾‹å¦‚æˆ‘åœ¨æ¡Œé¢æ”¾ç½®äº†è¯¥è„šæœ¬ï¼Œå³é”®æ‰“å¼€ç»ˆç«¯ä¹‹åè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯å®Œæˆå®‰è£…ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sh</span> install-docker.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126140126640.png" /></p><p>æ¥ä¸‹æ¥è¾“å…¥ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> docker startdocker version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å°±å¯ä»¥å¯åŠ¨æœåŠ¡ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ï¼Œè¯æ˜æˆ‘ä»¬å·²ç»å®‰è£…æˆåŠŸã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126140532065.png" /></p><p>å¦‚æœä¸å¸Œæœ›æ¯æ¬¡éƒ½ç‰¹åœ°å¯åŠ¨dockerçš„æœåŠ¡å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®è‡ªå¯åŠ¨ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å…³äºdockerçš„ä½¿ç”¨å°±å¤§å®¶è‡ªå·±ç ”ç©¶å•¦ã€‚</p><h1 id="on-my-zsh">On-my-zsh</h1><p>ä¸€ä¸ªç¾è§‚ä¸”åŠŸèƒ½å¼ºå¤§çš„ç»ˆç«¯</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126145704636.png" /></p><p>ç”¨windows terminalå¯åŠ¨Ubuntuï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token function">zsh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>oh-my-zshä¸­æ•´ç†äº†å¸¸ç”¨çš„zsh<ahref="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins">æ‰©å±•</a>å’Œ<ahref="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">ä¸»é¢˜</a>,æ‰€ä»¥å…ˆå®‰è£…oh-my-zsh</p><p>ä½¿ç”¨curlå®‰è£… :</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sh</span> -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä½¿ç”¨wgetå®‰è£…ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sh</span> -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -<span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è™½ç„¶æˆ‘åˆ—å‡ºäº†ä¸Šé¢ä¸¤æ¡å‘½ä»¤ï¼Œä½†æœ€å¥½è¿˜æ˜¯çœ‹çœ‹<ahref="https://ohmyz.sh/#install">å®˜ç½‘</a>çš„å®‰è£…é¡µé¢ï¼Œç¡®ä¿å‘½ä»¤çš„æœ€æ–°ç‰ˆæœ¬ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126150308574.png" /></p><p>æ¥ä¸‹æ¥è¾“å…¥ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token builtin class-name">cd</span>code .zshrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å°±å¯ä»¥cdåˆ°æ ¹ç›®å½•æ–‡ä»¶å¤¹ï¼Œç”¨vscodeçš„å¯è§†åŒ–ç•Œé¢ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ éœ€è¦çš„æ‰©å±•ä¸ä¸»é¢˜äº†ã€‚</p><p>æ‰©å±•ä¸ä¸»é¢˜æ ¹æ®ä¸ªäººéœ€æ±‚æ·»åŠ ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚</p><h1 id="pythonå¼€å‘">Pythonå¼€å‘</h1><p>èŠ±é‡Œèƒ¡å“¨é‚£ä¹ˆå¤šä¸œè¥¿äº†ï¼Œè®²ä¸€ç‚¹å®æˆ˜ï¼ˆå‡çš„ï¼‰ã€‚</p><p>é»˜è®¤Ubuntuå·²ç»å®‰è£…äº†pythonï¼Œæˆ‘ä»¬åªéœ€è¦å®‰è£…pipï¼Œå°±å¯ä»¥è¿›è¡Œä¸€äº›ç®€å•çš„ç¼–ç¨‹ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python3-pip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126151809809.png" /></p><p>å½“ç„¶æˆ‘ä»¬ä¸èƒ½å±€é™äºç®€å•çš„ç¼–ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦<strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong>ï¼Œç¡®ä¿å„ä¸ªç¯å¢ƒäº’ç›¸éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python3-venv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> python3 -m venv <span class="token function">env</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ¿€æ´»ä¸é€€å‡ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token builtin class-name">source</span> env/bin/activatedeactivate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211126181729703.png" /></p><p>æ¥ä¸‹æ¥å°±å¯ä»¥å°½æƒ…åœ°pipinstalläº†ï¼Œåœ¨å·¥ä½œç¯å¢ƒä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå†ç”¨vscodeæ‰“å¼€ï¼Œå³å¯å¼€å§‹ç¼–ç¨‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>One-Hot Encoding ç‹¬çƒ­ç¼–ç </title>
    <link href="/2021/11/23/onehot/"/>
    <url>/2021/11/23/onehot/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>One-Hot Encodingå­¦ä¹ è®°å½•</p><span id="more"></span><h1 id="ä¸€one-hot-encoding">ä¸€ã€One-Hot Encoding</h1><p>One-Hotç¼–ç ï¼Œåˆç§°ä¸ºä¸€ä½æœ‰æ•ˆç¼–ç ï¼Œä¸»è¦æ˜¯é‡‡ç”¨ä½çŠ¶æ€å¯„å­˜å™¨æ¥å¯¹ä¸ªçŠ¶æ€è¿›è¡Œç¼–ç ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½ç”±ä»–ç‹¬ç«‹çš„å¯„å­˜å™¨ä½ï¼Œå¹¶ä¸”åœ¨ä»»æ„æ—¶å€™åªæœ‰ä¸€ä½æœ‰æ•ˆã€‚åœ¨å®é™…çš„æœºå™¨å­¦ä¹ çš„åº”ç”¨ä»»åŠ¡ä¸­ï¼Œç‰¹å¾æœ‰æ—¶å€™å¹¶ä¸æ€»æ˜¯è¿ç»­å€¼ï¼Œæœ‰å¯èƒ½æ˜¯ä¸€äº›åˆ†ç±»å€¼ï¼Œå¦‚æ€§åˆ«å¯åˆ†ä¸ºâ€œmale â€å’Œâ€œ female â€ã€‚åœ¨æœºå™¨å­¦ä¹ ä»»åŠ¡ä¸­ï¼Œå¯¹äºè¿™æ ·çš„ç‰¹å¾ï¼Œ</p><p>One-hotåœ¨æ•°ä½ç”µè·¯ä¸­è¢«ç”¨æ¥è¡¨ç¤ºä¸€ç§ç‰¹æ®Šçš„ä½å…ƒç»„åˆï¼Œè¯¥å­—èŠ‚é‡Œï¼Œä»…å®¹è®¸å•ä¸€ä½å…ƒä¸º1ï¼Œå…¶ä»–ä½å…ƒéƒ½å¿…é¡»ä¸º0ã€‚ä¹‹æ‰€ä»¥ç§°ä¸ºone-hotå°±æ˜¯å› ä¸ºåªèƒ½æœ‰ä¸€ä¸ª1ï¼ˆhotï¼‰ã€‚è‹¥æƒ…å†µç›¸åï¼Œåªæœ‰ä¸€ä¸ª0ï¼Œå…¶ä½™ä¸º1ï¼Œåˆ™ç§°ä¸ºone-coldã€‚åœ¨æœºå™¨å­¦ä¹ é‡Œï¼Œä¹Ÿæœ‰one-hotå‘é‡ï¼ˆè‹±è¯­ï¼šone-hotvectorï¼‰çš„æ¦‚å¿µã€‚åœ¨ä¸€ä»»æ„ç»´åº¦çš„å‘é‡ä¸­ï¼Œä»…æœ‰ä¸€ä¸ªç»´åº¦çš„å€¼æ˜¯1ï¼Œå…¶ä½™ä¸º0ã€‚è­¬å¦‚å‘é‡<span class="math inline">\({\displaystyle [0\ 0\ 0\ 0\ 0\ 1\ 0\ 0\ 0\0\ 0\ 0\ 0\ 0\ 0]}{\displaystyle [0\ 0\ 0\ 0\ 0\ 1\ 0\ 0\ 0\ 0\ 0\ 0\ 0\0\0]}\)</span>ï¼Œå³ä¸º15ç»´ç©ºé—´ä¸­çš„ä¸€ç»„one-hotå‘é‡ã€‚å°†ç±»åˆ«æ€§èµ„æ–™è½¬æ¢æˆone-hotå‘é‡çš„è¿‡ç¨‹åˆ™ç§°one-hotç¼–ç ï¼ˆè‹±è¯­ï¼šone-hotencodingï¼‰ã€‚åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œè™šæ‹Ÿå˜æ•°ä»£è¡¨äº†ç±»ä¼¼çš„æ¦‚å¿µã€‚</p><p>One-hotç›®å‰å¹¶æ— å…¬è®¤æˆ–è¢«å¹¿æ³›ä½¿ç”¨çš„ä¸­æ–‡è¯‘åã€‚ç›®å‰å¯è§çš„one-hotencodingè¯‘åæœ‰ç‹¬çƒ­ç¼–ç ä»¥åŠä¸€ä½æœ‰æ•ˆç¼–ç ã€‚</p><p>é€šå¸¸æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œç‰¹å¾æ•°å­—åŒ–ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œè¿™äº›ç‰¹å¾å€¼å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œè€Œæ˜¯ç¦»æ•£çš„ï¼Œæ— åºçš„ã€‚</p><p>æœ‰å¦‚ä¸‹ä¸‰ä¸ªç‰¹å¾å±æ€§ï¼š</p><ul><li>æ€§åˆ«ï¼š["male"ï¼Œ"female"]</li><li>åœ°åŒºï¼š["Europe"ï¼Œ"US"ï¼Œ"Asia"]</li><li>æµè§ˆå™¨ï¼š["Firefox"ï¼Œ"Chrome"ï¼Œ"Safari"ï¼Œ"Internet Explorer"]</li></ul><p>å¯¹äºæŸä¸€ä¸ªæ ·æœ¬ï¼Œå¦‚["male"ï¼Œ"US"ï¼Œ"InternetExplorer"]ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªåˆ†ç±»å€¼çš„ç‰¹å¾æ•°å­—åŒ–ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åºåˆ—åŒ–çš„æ–¹å¼ï¼š[0,1,3]ã€‚ä½†æ˜¯è¿™æ ·çš„ç‰¹å¾å¤„ç†å¹¶ä¸èƒ½ç›´æ¥æ”¾å…¥æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20190514150006715.jpg" /></p><h1 id="äºŒone-hot-encodingçš„å¤„ç†æ–¹æ³•">äºŒã€One-HotEncodingçš„å¤„ç†æ–¹æ³•</h1><p>One-Hot ç¼–ç æ˜¯åˆ†ç±»å˜é‡ä½œä¸ºäºŒè¿›åˆ¶å‘é‡çš„è¡¨ç¤ºã€‚</p><ol type="1"><li>å°†åˆ†ç±»å€¼æ˜ å°„åˆ°æ•´æ•°å€¼ã€‚</li><li>æ¯ä¸ªæ•´æ•°å€¼è¢«è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶å‘é‡ï¼Œé™¤äº†æ•´æ•°çš„ç´¢å¼•ä¹‹å¤–ï¼Œå®ƒéƒ½æ˜¯é›¶å€¼ï¼Œå®ƒè¢«æ ‡è®°ä¸º1ã€‚</li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211123195029323.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211123195041636.png" /></p><p>å¯¹äºä¸Šè¿°çš„é—®é¢˜ï¼Œæ€§åˆ«çš„å±æ€§æ˜¯äºŒç»´çš„ï¼ŒåŒç†ï¼Œåœ°åŒºæ˜¯ä¸‰ç»´çš„ï¼Œæµè§ˆå™¨åˆ™æ˜¯å››ç»´çš„ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨One-Hotç¼–ç çš„æ–¹å¼å¯¹ä¸Šè¿°çš„æ ·æœ¬â€œ["male"ï¼Œ"US"ï¼Œ"InternetExplorer"]â€ç¼–ç ï¼Œâ€œmaleâ€åˆ™å¯¹åº”ç€[1ï¼Œ0]ï¼ŒåŒç†â€œUSâ€å¯¹åº”ç€[0ï¼Œ1ï¼Œ0]ï¼Œâ€œInternetExplorerâ€å¯¹åº”ç€[0ï¼Œ0ï¼Œ0ï¼Œ1]ã€‚</p><p>åˆ™å®Œæ•´çš„ç‰¹å¾æ•°å­—åŒ–çš„ç»“æœä¸ºï¼š[1,0,0,1,0,0,0,0,1]ã€‚è¿™æ ·å¯¼è‡´çš„ä¸€ä¸ªç»“æœå°±æ˜¯æ•°æ®ä¼šå˜å¾—éå¸¸çš„ç¨€ç–ã€‚</p><h1 id="ä¸‰pythonä»£ç ä¸¾ä¾‹">ä¸‰ã€Pythonä»£ç ä¸¾ä¾‹</h1><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sklearn <span class="token keyword">import</span> preprocessing enc <span class="token operator">=</span> preprocessing<span class="token punctuation">.</span>OneHotEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>enc<span class="token punctuation">.</span>fit<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> array <span class="token operator">=</span> enc<span class="token punctuation">.</span>transform<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç»“æœï¼š[[ 1. 0. 0. 1. 0. 0. 0. 0. 1.]]</p><h1 id="å››ä¼˜ç¼ºç‚¹åˆ†æ">å››ã€ä¼˜ç¼ºç‚¹åˆ†æ</h1><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol type="1"><li><p>è§£å†³äº†åˆ†ç±»å™¨ä¸å¥½å¤„ç†ç¦»æ•£æ•°æ®çš„é—®é¢˜ã€‚</p><ol type="a"><li><p>æ¬§å¼ç©ºé—´ã€‚åœ¨å›å½’ï¼Œåˆ†ç±»ï¼Œèšç±»ç­‰æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œç‰¹å¾ä¹‹é—´ è·ç¦»è®¡ç®—æˆ– ç›¸ä¼¼åº¦è®¡ç®—æ˜¯éå¸¸é‡è¦çš„ï¼Œè€Œæˆ‘ä»¬å¸¸ç”¨çš„è·ç¦»æˆ–ç›¸ä¼¼åº¦çš„è®¡ç®—éƒ½æ˜¯åœ¨æ¬§å¼ç©ºé—´çš„ç›¸ä¼¼åº¦è®¡ç®—ï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼æ€§ï¼ŒåŸºäºçš„å°±æ˜¯æ¬§å¼ç©ºé—´ã€‚</p></li><li><p>one-hot ç¼–ç ã€‚ä½¿ç”¨ one-hotç¼–ç ï¼Œå°†ç¦»æ•£ç‰¹å¾çš„å–å€¼æ‰©å±•åˆ°äº†æ¬§å¼ç©ºé—´ï¼Œç¦»æ•£ç‰¹å¾çš„æŸä¸ªå–å€¼å°±å¯¹åº”æ¬§å¼ç©ºé—´çš„æŸä¸ªç‚¹ã€‚å°†ç¦»æ•£å‹ç‰¹å¾ä½¿ç”¨one-hot ç¼–ç ï¼Œç¡®å®ä¼šè®© ç‰¹å¾ä¹‹é—´çš„è·ç¦»è®¡ç®—æ›´åŠ åˆç†ã€‚</p></li></ol></li><li><p>åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹Ÿèµ·åˆ°äº†æ‰©å……ç‰¹å¾çš„ä½œç”¨ã€‚</p></li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol type="1"><li><p>å®ƒæ˜¯ä¸€ä¸ªè¯è¢‹æ¨¡å‹ï¼Œä¸è€ƒè™‘è¯ä¸è¯ä¹‹é—´çš„<strong>é¡ºåº</strong>ï¼ˆæ–‡æœ¬ä¸­è¯çš„é¡ºåºä¿¡æ¯ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼‰ï¼›</p></li><li><p>å®ƒ<strong>å‡è®¾è¯ä¸è¯ç›¸äº’ç‹¬ç«‹</strong>ï¼ˆåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯ä¸è¯æ˜¯ç›¸äº’å½±å“çš„ï¼‰ï¼›</p></li><li><p>å®ƒå¾—åˆ°çš„ç‰¹å¾æ˜¯<strong>ç¦»æ•£ç¨€ç–</strong>çš„ï¼ˆè¿™ä¸ªé—®é¢˜æœ€ä¸¥é‡ï¼‰ã€‚</p></li></ol><p><strong>ä¸å…¶ä»–ç¼–ç çš„å·®å¼‚ï¼š</strong></p><ul><li>å†³å®šçŠ¶æ€æœºç›®å‰çŠ¶æ€çš„æ—¶é—´æˆæœ¬ä½ï¼Œå› ä¸ºè¯»å–ä¸€ä¸ªæ­£åå™¨çš„æ—¶é—´æˆæœ¬å›ºå®šã€‚</li><li>æ”¹å˜æœºå™¨çš„çŠ¶æ€æ‰€éœ€æ—¶é—´æˆæœ¬ä¹Ÿæ˜¯å›ºå®šï¼Œå› ä¸ºæ¯æ¬¡åªéœ€è¦æ”¹å˜ä¸¤ä¸ªæ­£åå™¨çš„å€¼ã€‚</li><li>è®¾è®¡åŠè®¾è®¡å˜æ›´å®¹æ˜“ã€‚</li><li>å®¹æ˜“ä¾¦æµ‹å‡ºéæ³•çŠ¶æ€ã€‚</li><li>å¯ä»¥æœ‰æ•ˆç‡åœ°ä½¿ç”¨FPGAçš„å¤§é‡æ­£åå™¨ã€‚</li><li>ç›¸è¾ƒäºå…¶ä»–ç¼–ç ï¼Œä½¿ç”¨one-hotæ¥å®ç°çŠ¶æ€æœºé€šå¸¸å¯ä»¥è¾¾åˆ°æ›´é«˜çš„æ—¶è„‰é¢‘ç‡ã€‚</li><li>æ¯”èµ·å…¶ä»–ç¼–ç ï¼Œéœ€è¦æ›´å¤šçš„æ­£åå™¨ï¼Œä½¿å¾—å…¶åœ¨PALè£…ç½®ä¸Šä¸åˆ‡å®é™…ã€‚</li><li>ä¼šæœ‰å¾ˆå¤šéæ³•çŠ¶æ€å­˜åœ¨[7]ã€‚è¿™æ˜¯ç”±äº<spanclass="math inline">\({\displaystyleN}\)</span>ä¸ªæ­£åå™¨æ„æˆçš„è®¡æ•°å™¨æ€»å…±æœ‰<spanclass="math inline">\({\displaystyle2^{N}}\)</span>ä¸ªçŠ¶æ€ï¼ˆæ¯ä¸ªæ­£åå™¨å¯ä»¥æ˜¯0æˆ–1ï¼Œæ‰€ä»¥æ€»å…±<spanclass="math inline">\({\displaystyle2^{N}}\)</span>ç§å¯èƒ½çŠ¶æ€ï¼‰ï¼Œä½†æ˜¯åˆæ³•çŠ¶æ€å´åªæœ‰<spanclass="math inline">\({\displaystyleN}\)</span>ä¸ªï¼ˆå³åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªæ­£åå™¨æ˜¯1,å…¶ä»–å¿…é¡»ä¸º0ï¼‰ï¼Œæ‰€ä»¥æ€»å…±ä¼šæœ‰<spanclass="math inline">\({\displaystyle2^{N}-N}\)</span>ä¸ªå¯èƒ½çš„éæ³•çŠ¶æ€ã€‚</li></ul><h1 id="äº”åº”ç”¨">äº”ã€åº”ç”¨</h1><p><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œè‹¥æœ‰ä¸ªå­—å…¸æˆ–å­—åº“é‡Œæœ‰<spanclass="math inline">\({\displaystyleN}\)</span>ä¸ªå•å­—ï¼Œåˆ™æ¯ä¸ªå•å­—å¯ä»¥è¢«ä¸€ä¸ª<spanclass="math inline">\({\displaystyleN}\)</span>ç»´çš„one-hotå‘é‡ä»£è¡¨ã€‚è­¬å¦‚è‹¥å­—åº“é‡Œä»…æœ‰appleï¼ˆè‹¹æœï¼‰ï¼Œbananaï¼ˆé¦™è•‰ï¼‰ï¼Œä»¥åŠpineappleï¼ˆå‡¤æ¢¨ï¼‰è¿™ä¸‰ä¸ªå•å­—ï¼Œåˆ™ä»–ä»¬å„è‡ªçš„one-hotå‘é‡å¯ä»¥ä¸ºï¼š</p><p><span class="math display">\[{\displaystyle {\begin{array}{ll}apple&amp;=[1\ 0\ 0]\\banana&amp;=[0\1\ 0]\\pineapple&amp;=[0\ 0\ 1]\end{array}}}\]</span></p><p>ç”±äºç”µè„‘æ— æ³•ç†è§£éæ•°å­—ç±»çš„æ•°æ®ï¼ŒOne-hotç¼–ç å¯ä»¥å°†ç±»åˆ«æ€§æ•°æ®è½¬æ¢æˆç»Ÿä¸€çš„æ•°å­—æ ¼å¼ï¼Œæ–¹ä¾¿æœºå™¨å­¦ä¹ çš„ç®—æ³•è¿›è¡Œå¤„ç†åŠè®¡ç®—ã€‚è€Œè½¬æ¢æˆå›ºå®šç»´åº¦çš„å‘é‡åˆ™æ–¹ä¾¿æœºå™¨å­¦ä¹ ç®—æ³•è¿›è¡Œçº¿æ€§ä»£æ•°ä¸Šçš„è®¡ç®—ã€‚å¦å¤–ç”±äºä¸€ä¸ªone-hotå‘é‡ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„æ•°å­—éƒ½æ˜¯0ï¼Œæ‰€ä»¥è‹¥ä½¿ç”¨ç¨€ç–çŸ©é˜µçš„æ•°æ®ç»“æ„ï¼Œåˆ™å¯ä»¥èŠ‚çœç”µè„‘å†…å­˜çš„ä½¿ç”¨é‡ã€‚</p><p><strong>æœ‰é™çŠ¶æ€æœº</strong>One-hotç¼–ç å¸¸å¸¸è¢«ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªæœ‰é™çŠ¶æ€æœºçš„çŠ¶æ€ã€‚å¦‚æœä½¿ç”¨äºŒè¿›åˆ¶æˆ–æ ¼é›·ç æ¥ä»£è¡¨çŠ¶æ€ï¼Œåˆ™éœ€è¦ç”¨åˆ°è§£ç å™¨æ‰èƒ½å¾—çŸ¥è¯¥ç ä»£è¡¨çš„çŠ¶æ€ã€‚ä½¿ç”¨one-hotæ¥ä»£è¡¨çŠ¶æ€çš„è¯ï¼Œåˆ™ä¸éœ€è¦è§£ç å™¨ï¼Œå› ä¸ºè‹¥ç¬¬<spanclass="math inline">\({\displaystylen}\)</span>ä¸ªä½å…ƒä¸º1ï¼Œå°±ä»£è¡¨æœºå™¨ç›®å‰åœ¨ç¬¬<spanclass="math inline">\({\displaystyle n}\)</span>ä¸ªçŠ¶æ€ã€‚</p><p>ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºçš„ä¾‹å­æ˜¯ç”±15ä¸ªçŠ¶æ€æ„æˆçš„ç¯çŠ¶è®¡æ•°å™¨ã€‚ä½¿ç”¨one-hotç¼–ç æ¥å®ç°æ­¤çŠ¶æ€æœºçš„è¯ï¼Œå¯ä»¥å°†15ä¸ªæ­£åå™¨ä¸²è”åœ¨ä¸€èµ·ï¼Œæ¯ä¸ªæ­£åå™¨çš„Qè¾“å‡ºæ¥åˆ°ä¸‹ä¸€ä¸ªæ­£åå™¨çš„Dè¾“å…¥ï¼Œè€Œç¬¬ä¸€ä¸ªæ­£åå™¨çš„Dè¾“å…¥åˆ™æ˜¯æ¥åˆ°ç¬¬15ä¸ªçš„Qè¾“å‡ºï¼Œå½¢æˆä¸€ä¸ªç¯çŠ¶ã€‚ç¬¬ä¸€ä¸ªæ­£åå™¨ä»£è¡¨æœºå™¨çš„ç¬¬ä¸€ä¸ªçŠ¶æ€ï¼Œç¬¬äºŒä¸ªæ­£åå™¨ä»£è¡¨ç¬¬äºŒä¸ªçŠ¶æ€ï¼Œä¾æ­¤ç±»æ¨ã€‚å½“æœºå™¨è¢«å½’é›¶é‡è®¾æ—¶ï¼Œç¬¬ä¸€ä¸ªæ­£åå™¨çš„å€¼ä¸º1ï¼Œå…¶ä½™ä¸º0ã€‚å½“ä¸€ä¸ªæ—¶è„‰è¾¹ç¼˜æŠµè¾¾æ­£åå™¨æ—¶ï¼Œä¼šå°†1æ¨è¿›åˆ°ä¸‹ä¸€ä¸ªæ­£åå™¨ã€‚ä¾ç…§è¿™ç§æ–¹å¼ï¼Œ1å¯ä¸€æ­¥æ­¥æ¨è¿›åˆ°ç¬¬15ä¸ªæ­£åå™¨ï¼Œäº¦å³ç¬¬15ä¸ªçŠ¶æ€ï¼Œå†ä¹‹ååˆ™é‡æ–°å›åˆ°ç¬¬ä¸€ä¸ªçŠ¶æ€ã€‚</p><p>ä½å€è§£ç å™¨å¯ä»¥å°†äºŒè¿›åˆ¶æˆ–æ ¼é›·ç è½¬æ¢æˆone-shotè¡¨ç¤ºå½¢å¼ã€‚è€Œä¼˜å…ˆç¼–ç å™¨åˆ™æ˜¯ä½œç”¨ç›¸åã€‚</p><h1 id="å…­èµ„æ–™æ¥æº">å…­ã€èµ„æ–™æ¥æº</h1><ul><li>https://zh.wikipedia.org/wiki/One-hot</li><li>https://blog.csdn.net/google19890102/article/details/44039761</li><li>https://blog.csdn.net/qq_15192373/article/details/89552498</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¥ç»ç½‘ç»œå›å½’ä¸åˆ†ç±»ï¼ˆæ³¢å£«é¡¿æˆ¿ä»·ä¸çº¢é…’åˆ†ç±»ï¼‰</title>
    <link href="/2021/11/16/middle/"/>
    <url>/2021/11/16/middle/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœºå™¨å­¦ä¹ æœŸä¸­å¤§ä½œä¸šï¼Œç¥ç»ç½‘ç»œå›å½’ä¸åˆ†ç±»</p><span id="more"></span><h1 id="ä¸€æè¿°æ‰€ä½¿ç”¨çš„ç¥ç»ç½‘ç»œæ¨¡å‹">ä¸€ã€æè¿°æ‰€ä½¿ç”¨çš„ç¥ç»ç½‘ç»œæ¨¡å‹</h1><h2 id="ç¥ç»å…ƒæ¨¡å‹">1.1 ç¥ç»å…ƒæ¨¡å‹</h2><h3 id="ç¥ç»å…ƒæ¨¡å‹çš„å®šä¹‰">1.1.1 ç¥ç»å…ƒæ¨¡å‹çš„å®šä¹‰</h3><p><strong>ç¥ç»ç½‘ç»œæ˜¯ç”±å…·æœ‰é€‚åº”æ€§çš„ç®€å•å•å…ƒç»„æˆçš„å¹¿æ³›å¹¶è¡Œäº’è”çš„ç½‘ç»œï¼Œå®ƒçš„ç»„ç»‡èƒ½å¤Ÿæ¨¡æ‹Ÿç”Ÿç‰©ç¥ç»ç³»ç»Ÿå¯¹çœŸå®ä¸–ç•Œç‰©ä½“æ‰€ä½œå‡ºçš„äº¤äº’ååº”ã€‚ç¥ç»ç½‘ç»œä¸­æœ€åŸºæœ¬çš„æˆåˆ†æ˜¯ç¥ç»å…ƒæ¨¡å‹ï¼Œå³ä¸Šè¿°çš„â€œç®€å•å•å…ƒâ€ã€‚</strong></p><h3 id="m-pç¥ç»å…ƒæ¨¡å‹">1.1.2 M-Pç¥ç»å…ƒæ¨¡å‹</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114180429830.png" /></p><p><strong>è¾“å…¥</strong>ï¼šæ¥è‡ªå…¶ä»–nä¸ªç¥ç»å…ƒä¼ é€’è¿‡æ¥çš„è¾“å…¥ä¿¡å·</p><p><strong>å¤„ç†</strong>ï¼šè¾“å…¥ä¿¡å·é€šè¿‡å¸¦æƒé‡çš„è¿æ¥è¿›è¡Œä¼ é€’,ç¥ç»å…ƒæ¥å—åˆ°æ€»è¾“å…¥å€¼å°†å…¶ä¸ç¥ç»å…ƒçš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒ</p><p><strong>è¾“å‡º</strong>ï¼šé€šè¿‡æ¿€æ´»å‡½æ•°çš„å¤„ç†ä»¥å¾—åˆ°è¾“å‡º</p><h3 id="æ¿€æ´»å‡½æ•°">1.1.3 æ¿€æ´»å‡½æ•°</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114180032126.png" /></p><h4 id="æ¿€æ´»å‡½æ•°çš„ä»‹ç»">1.1.3.1 æ¿€æ´»å‡½æ•°çš„ä»‹ç»</h4><p><strong>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¥ç»ç½‘ç»œä¸­çš„æ¯ä¸ªç¥ç»å…ƒèŠ‚ç‚¹æ¥å—ä¸Šä¸€å±‚ç¥ç»å…ƒçš„è¾“å‡ºå€¼ä½œä¸ºæœ¬ç¥ç»å…ƒçš„è¾“å…¥å€¼ï¼Œå¹¶å°†è¾“å…¥å€¼ä¼ é€’ç»™ä¸‹ä¸€å±‚ï¼Œè¾“å…¥å±‚ç¥ç»å…ƒèŠ‚ç‚¹ä¼šå°†è¾“å…¥å±æ€§å€¼ç›´æ¥ä¼ é€’ç»™ä¸‹ä¸€å±‚ï¼ˆéšå±‚æˆ–è¾“å‡ºå±‚ï¼‰ã€‚åœ¨å¤šå±‚ç¥ç»ç½‘ç»œä¸­ï¼Œä¸Šå±‚èŠ‚ç‚¹çš„è¾“å‡ºå’Œä¸‹å±‚èŠ‚ç‚¹çš„è¾“å…¥ä¹‹é—´å…·æœ‰ä¸€ä¸ªå‡½æ•°å…³ç³»ï¼Œè¿™ä¸ªå‡½æ•°ç§°ä¸ºæ¿€æ´»å‡½æ•°ï¼ˆåˆç§°æ¿€åŠ±å‡½æ•°ï¼‰ã€‚</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113213541281.png" /></p><h4 id="æ¿€æ´»å‡½æ•°çš„ç”¨é€”">1.1.3.2 æ¿€æ´»å‡½æ•°çš„ç”¨é€”</h4><p><strong>å¦‚æœä¸ç”¨æ¿€åŠ±å‡½æ•°ï¼ˆç›¸å½“äºæ¿€åŠ±å‡½æ•°æ˜¯f(x) =xï¼‰ï¼Œæ¯ä¸€å±‚èŠ‚ç‚¹çš„è¾“å…¥éƒ½æ˜¯ä¸Šå±‚è¾“å‡ºçš„çº¿æ€§å‡½æ•°ï¼Œè¿™æ ·æ— è®ºç¥ç»ç½‘ç»œæœ‰å¤šå°‘å±‚ï¼Œè¾“å‡ºéƒ½æ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆï¼Œè¿™ç§æƒ…å†µå°±æ˜¯æœ€åŸå§‹çš„æ„ŸçŸ¥æœºï¼Œç½‘ç»œçš„é€¼è¿‘èƒ½åŠ›å°±ç›¸å½“æœ‰é™ã€‚å½“æˆ‘ä»¬å¼•å…¥éçº¿æ€§å‡½æ•°ä½œä¸ºæ¿€åŠ±å‡½æ•°ï¼Œæ·±å±‚ç¥ç»ç½‘ç»œè¡¨è¾¾èƒ½åŠ›å°±æ›´åŠ å¼ºå¤§ï¼Œä¸å†æ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆï¼Œå‡ ä¹å¯ä»¥é€¼è¿‘ä»»æ„å‡½æ•°ã€‚</strong></p><h4 id="ä¸€äº›å¸¸è§çš„æ¿€æ´»å‡½æ•°åŠå…¶æ€§è´¨">1.1.3.3ä¸€äº›å¸¸è§çš„æ¿€æ´»å‡½æ•°åŠå…¶æ€§è´¨</h4><h5 id="reluæ¿€æ´»å‡½æ•°">1.1.3.3.1 Reluæ¿€æ´»å‡½æ•°</h5><p><strong>Reluå‡½æ•°çš„è§£æå¼ï¼š</strong></p><p><span class="math display">\[f_{Relu}(x)=max(0,x)\]</span></p><p><strong>Reluå‡½æ•°åŠå…¶å¯¼æ•°çš„å›¾åƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113213557078.png" /></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p><strong>â‘ è®¡ç®—æ•ˆç‡è¾ƒé«˜</strong></p><p><strong>â‘¡å…¼å…·çº¿æ€§å’Œéçº¿æ€§ç‰¹æ€§</strong></p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p><strong>æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼šåœ¨x&lt;0æ—¶ï¼Œç¥ç»å…ƒä¿æŒéæ¿€æ´»çŠ¶æ€ï¼Œä¸”åœ¨åå‘ä¼ å¯¼ï¼ˆbackwardpassï¼‰ä¸­æ¢¯åº¦ä¸ºé›¶</strong></p><h5 id="sigmoidæ¿€æ´»å‡½æ•°">1.1.3.3.2 Sigmoidæ¿€æ´»å‡½æ•°</h5><p><strong>Sigmoid å‡½æ•°çš„è§£æå¼ï¼š</strong></p><p><span class="math display">\[f_{Sigmoid}(x)=\frac{1}{1+e^{-x}}\]</span></p><p><strong>Sigmoidå‡½æ•°åŠå…¶å¯¼æ•°çš„å›¾åƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114180235544.png" /></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p><strong>â‘ æ¢¯åº¦çš„â€œå¹³æ»‘æ€§â€</strong></p><p><strong>â‘¡è¾“å‡ºåœ¨â€œ0-1åŒºé—´â€</strong></p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p><strong>â‘ æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼šç¥ç»ç½‘ç»œä½¿ç”¨ Sigmoidæ¿€æ´»å‡½æ•°è¿›è¡Œåå‘ä¼ æ’­æ—¶ï¼Œè¾“å‡ºæ¥è¿‘0æˆ–1çš„ç¥ç»å…ƒå…¶æ¢¯åº¦è¶‹è¿‘äº0 </strong></p><p><strong>â‘¡è®¡ç®—æˆæœ¬é—®é¢˜ï¼šæ¶‰åŠæŒ‡æ•°è®¡ç®—</strong></p><p><strong>â‘¢ä¸ä»¥é›¶ä¸ºä¸­å¿ƒï¼šSigmoid è¾“å‡ºä¸ä»¥é›¶ä¸ºä¸­å¿ƒ</strong></p><h5 id="tanh-æ¿€æ´»å‡½æ•°">1.1.3.3.3 tanh æ¿€æ´»å‡½æ•°</h5><p><strong>tanhå‡½æ•°çš„è§£æå¼ï¼š</strong></p><p><span class="math display">\[f_{tanh}(x)=\frac{1-e^{-2x}}{1+e^{-2x}}\]</span></p><p><strong>tanhå‡½æ•°åŠå…¶å¯¼æ•°çš„å›¾åƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113213650281.png" /></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p><strong>â‘ æ¢¯åº¦çš„â€œå¹³æ»‘æ€§â€</strong></p><p><strong>â‘¡è¾“å‡ºä»¥é›¶ä¸ºä¸­å¿ƒ</strong></p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p><strong>â‘ æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼šç¥ç»ç½‘ç»œä½¿ç”¨ tanhæ¿€æ´»å‡½æ•°è¿›è¡Œåå‘ä¼ æ’­æ—¶ï¼Œè¾“å‡ºæ¥è¿‘-1æˆ–1çš„ç¥ç»å…ƒå…¶æ¢¯åº¦è¶‹è¿‘äº0</strong></p><p><strong>â‘¡è®¡ç®—æˆæœ¬é—®é¢˜ï¼šæ¶‰åŠæŒ‡æ•°è®¡ç®—</strong></p><h2 id="ç¥ç»ç½‘ç»œæ¨¡å‹">1.2 ç¥ç»ç½‘ç»œæ¨¡å‹</h2><h3 id="ç¥ç»ç½‘ç»œæ¨¡å‹çš„å®šä¹‰">1.2.1 ç¥ç»ç½‘ç»œæ¨¡å‹çš„å®šä¹‰</h3><p><strong>å°†è‹¥å¹²ç¥ç»å…ƒæŒ‰ä¸€å®šçš„å±‚æ¬¡ç»“æ„è¿æ¥èµ·æ¥å°±å¾—åˆ°äº†ç¥ç»ç½‘ç»œï¼Œå¯å°†ç¥ç»ç½‘ç»œè§†ä¸ºåŒ…å«äº†è‹¥å¹²å‚æ•°çš„æ•°å­¦æ¨¡å‹ï¼Œè¿™ä¸ªæ¨¡å‹æ˜¯ç”±è‹¥å¹²ä¸ªå‡½æ•°ç›¸äº’ï¼ˆåµŒå¥—ï¼‰ä»£å…¥è€Œå¾—ã€‚</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113213743041.png" /></p><h3 id="å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œ">1.2.2 å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œ</h3><h4 id="å®šä¹‰">1.2.2.1 å®šä¹‰</h4><p><strong>æ¯å±‚ç¥ç»å…ƒä¸ä¸‹ä¸€å±‚ç¥ç»å…ƒå…¨äº’è”ï¼Œç¥ç»å…ƒä¹‹é—´ä¸å­˜åœ¨åŒå±‚è¿æ¥ä¹Ÿä¸å­˜åœ¨è·¨å±‚è¿æ¥ã€‚è¾“å…¥å±‚æ¥å—å¤–ç•Œè¾“å…¥ï¼Œéšå«å±‚ä¸è¾“å‡ºå±‚ç¥ç»å…ƒå¯¹ä¿¡å·è¿›è¡ŒåŠ å·¥ï¼Œæœ€ç»ˆç»“æœç”±è¾“å‡ºå±‚ç¥ç»å…ƒè¾“å‡ºã€‚æ ¹æ®è®­ç»ƒæ•°æ®æ¥è°ƒæ•´ç¥ç»å…ƒä¹‹é—´çš„â€œè¿æ¥æƒâ€ä»¥åŠæ¯ä¸ªåŠŸèƒ½ç¥ç»å…ƒçš„â€œé˜ˆå€¼â€ã€‚</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113213753140.png" /></p><h4 id="æ¨¡å‹è®­ç»ƒ">1.2.2.2 æ¨¡å‹è®­ç»ƒ</h4><p><strong>æ•°æ®</strong>ï¼š</p><p><span class="math display">\[D=\{(x_1,y_1),(x_2,y_2),â€¦â€¦,(x_m,y_m)\},x_iâˆˆR^d,y_iâˆˆR^l\]</span></p><p><strong>æ¨¡å‹</strong>ï¼šè‹¥å¹²ç¥ç»å…ƒæŒ‰ä¸€å®šçš„å±‚æ¬¡ç»“æ„è¿æ¥èµ·æ¥ï¼Œæ¯å±‚ç¥ç»å…ƒä¸ä¸‹ä¸€å±‚ç¥ç»å…ƒå…¨äº’è”ï¼Œç¥ç»å…ƒä¹‹é—´ä¸å­˜åœ¨åŒå±‚è¿æ¥ä¹Ÿä¸å­˜åœ¨è·¨å±‚è¿æ¥ï¼Œæ‰€å½¢æˆçš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</p><p><strong>ç­–ç•¥</strong>ï¼š</p><p><strong>â‘ å¹³æ–¹æŸå¤±ï¼ˆå›å½’é—®é¢˜ï¼‰</strong></p><p><span class="math display">\[L(y_i,f(x_i))=(y_i-f(x_i)^2),ERM\]</span></p><p>** â‘¡äº¤å‰ç†µæŸå¤±ï¼ˆäºŒåˆ†ç±»é—®é¢˜ï¼‰**</p><hr /><p><span class="math display">\[L(y_i,f(x_i))=-y_ilog(p(y_i=1|x_i))-(1-y_i)log(p(y_i=0|x_i))\]</span></p><p><strong>ç®—æ³•</strong>ï¼šè¯¯å·®é€†ä¼ æ’­ç®—æ³•ï¼ˆerror Back Propagationï¼‰</p><h1 id="äºŒæè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•">äºŒã€æè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•</h1><h1 id="è¯¯å·®é€†ä¼ æ’­ç®—æ³•">2.1 è¯¯å·®é€†ä¼ æ’­ç®—æ³•</h1><h3 id="åº”ç”¨é¢†åŸŸ">2.1.1 åº”ç”¨é¢†åŸŸ</h3><p><strong>åå‘ä¼ æ’­ç®—æ³•åº”ç”¨è¾ƒä¸ºå¹¿æ³›ï¼Œä»å­—é¢æ„æ€ç†è§£ï¼Œä¸å‰å‘ä¼ æ’­ç›¸äº’å¯¹åº”ã€‚åœ¨ç®€å•çš„ç¥ç»ç½‘ç»œä¸­ï¼Œåå‘ä¼ æ’­ç®—æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºæœ€ä¼˜åŒ–æŸå¤±å‡½æ•°è¿‡ç¨‹ï¼Œæ±‚è§£æ¯ä¸ªå‚ä¸è¿ç®—çš„å‚æ•°çš„æ¢¯åº¦çš„æ–¹æ³•ã€‚åœ¨å‰é¦ˆç¥ç»ç½‘ä¸­ï¼Œåå‘ä¼ æ’­ä»æ±‚è§£æŸå¤±å‡½æ•°åå¯¼è¿‡ç¨‹ä¸­ï¼Œæ­¥æ­¥å‘å‰æ±‚è§£æ¯ä¸€å±‚çš„å‚æ•°æ¢¯åº¦ã€‚åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œåå‘ä¼ æ’­å¯ä»¥æ±‚è§£å…¨è¿æ¥å±‚çš„å‚æ•°æ¢¯åº¦ã€‚åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ï¼Œåå‘ä¼ æ’­ç®—æ³•å¯ä»¥æ±‚è§£æ¯ä¸€ä¸ªæ—¶åˆ»tæˆ–è€…çŠ¶æ€tçš„å‚æ•°æ¢¯åº¦ï¼ˆåœ¨RNNï¼Œåå‘ä¼ æ’­æ›´å¤šæ˜¯BPTTï¼‰ã€‚å¦‚ä»Šå¯¹äºBPçš„ç†è§£ï¼Œè®¤ä¸ºæ˜¯åœ¨ä¼˜åŒ–æŸå¤±å‡½æ•°æˆ–è€…ç›®æ ‡å‡½æ•°è¿‡ç¨‹ä¸­ï¼Œæ±‚è§£å‚ä¸è¿ç®—çš„å‚æ•°çš„æ¢¯åº¦æ–¹æ³•ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒæ™®éçš„è¯´æ³•ã€‚</strong></p><h3 id="ç½‘ç»œç»“æ„">2.1.2 ç½‘ç»œç»“æ„</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113192037294.png" /></p><ol type="1"><li><strong>æ­£å‘ä¼ æ’­æ±‚æŸå¤±ï¼Œåå‘ä¼ æ’­å›ä¼ è¯¯å·®</strong></li><li><strong>æ ¹æ®è¯¯å·®ä¿¡å·ä¿®æ­£æ¯å±‚çš„æƒé‡</strong></li><li><strong>fæ˜¯æ¿€æ´»å‡½æ•°ï¼›f(netj)æ˜¯éšå±‚çš„è¾“å‡ºï¼› f(netkï¼‰æ˜¯è¾“å‡ºå±‚çš„è¾“å‡ºO;dæ˜¯targetã€‚</strong></li></ol><h3 id="åŸºæœ¬å‚æ•°ç»“æ„">2.1.2 åŸºæœ¬å‚æ•°ç»“æ„</h3><p><strong>ä¸ºäº†æ–¹ä¾¿è®¨è®ºï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªéšå±‚çš„ç¥ç»ç½‘ç»œç»“æ„è¿›è¡Œæ¨å¯¼ã€‚å¤šéšå±‚çš„ç¥ç»ç½‘ç»œæ¨å¯¼æ€æƒ³ä¸æ­¤ç±»ä¼¼ï¼Œå¯æ¨å¹¿ã€‚å¦‚ä¸‹å›¾ä¸ºä¸€ä¸ªç¥ç»ç½‘ç»œç»“æ„ã€‚</strong></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211113192136112.png" /></p><h4 id="å‚æ•°ç®€è¿°">2.1.2.1å‚æ•°ç®€è¿°</h4><p><span class="math display">\[\begin{align}&amp;è¾“å…¥å‚æ•°ï¼šx_1^k,\dots ,x_i^k,\dots,x_d^k\\&amp;è¾“å…¥å±‚åˆ°ç¬¬ä¸€éšå±‚ç¬¬hä¸ªç¥ç»å…ƒçš„æƒé‡ï¼šv_{1h},\dots,v_{ih},\dots,v_{dh}\\&amp;ç¬¬ä¸€å±‚ç¬¬hä¸ªç¥ç»å…ƒè¾“å…¥ï¼š\alpha _{h}= \sum_{i=1}^{d}v_{ih}x_i^k\\&amp;ç¬¬ä¸€éšå±‚é˜™å€¼ï¼š\gamma _{1},\dots,\gamma _{h},\dots,\gamma _{q}\\&amp;ç¬¬ä¸€éšå±‚ç¬¬hä¸ªè¾“å‡ºï¼šb_h=f_{sigmoid}(\alpha _h-\gamma _h) \\&amp;ç¬¬ä¸€éšå±‚åˆ°ç¬¬jä¸ªè¾“å‡ºç¥ç»å…ƒçš„æƒé‡ï¼šw_{1j},\dots,w_{hj},\dots,w_{qj}\\&amp;ç¬¬jä¸ªè¾“å‡ºç¥ç»å…ƒçš„è¾“å…¥ï¼š\beta _j=\sum_{h=1}^{q}w_{hj}b_h\\&amp;è¾“å‡ºå±‚é˜™å€¼ï¼š\theta _{1},\dots,\theta _{j},\dots,\theta_{l}\\&amp;è¾“å‡ºå€¼ï¼šy_j^k=f_{sigmoid}(\alpha _h-\gamma _h)\end{align}\]</span></p><p><strong>æ‰€ä»¥å‰å‘ä¼ æ’­è®¡ç®—è¯¯å·®ä¸ºï¼š</strong></p><p><span class="math display">\[E_{k}=\frac{1}{2}\sum_{j=1}^{l}\left(y_{j}^{k}-\hat{y}_{j}^{k}\right)^{2}\]</span></p><h3 id="å‚æ•°è°ƒæ•´ç­–ç•¥">2.1.3 å‚æ•°è°ƒæ•´ç­–ç•¥</h3><p><strong>BPç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼šä½¿ç”¨æ¢¯åº¦ä¸‹é™æ¥æœç´¢å¯èƒ½çš„æƒå‘é‡çš„å‡è®¾ç©ºé—´ï¼Œä»¥æ‰¾åˆ°æœ€ä½³çš„æ‹Ÿåˆæ ·ä¾‹çš„æƒå‘é‡ã€‚å…·ä½“è€Œè¨€ï¼Œå³åˆ©ç”¨æŸå¤±å‡½æ•°ï¼Œæ¯æ¬¡å‘æŸå¤±å‡½æ•°è´Ÿæ¢¯åº¦æ–¹å‘ç§»åŠ¨ï¼Œç›´åˆ°æŸå¤±å‡½æ•°å–å¾—æœ€å°å€¼ã€‚æˆ–è€…è¯´ï¼Œåå‘ä¼ æ’­ç®—æ³•ï¼Œæ˜¯æ ¹æ®æŸå¤±å‡½æ•°ï¼Œæ±‚å‡ºæŸå¤±å‡½æ•°å…³äºæ¯ä¸€å±‚çš„æƒå€¼åŠåç½®é¡¹çš„åå¯¼æ•°ï¼Œä¹Ÿç§°ä¸ºæ¢¯åº¦ï¼Œç”¨è¯¥å€¼æ›´æ–°åˆå§‹çš„æƒå€¼å’Œåç½®é¡¹ï¼Œä¸€ç›´æ›´æ–°åˆ°æŸå¤±å‡½æ•°å–å¾—æœ€å°å€¼æˆ–æ˜¯è®¾ç½®çš„è¿­ä»£æ¬¡æ•°å®Œæˆä¸ºæ­¢ã€‚ä»¥æ­¤æ¥è®¡ç®—ç¥ç»ç½‘ç»œä¸­çš„æœ€ä½³çš„å‚æ•°ã€‚</strong></p><p><span class="math display">\[æŸå¤±å‡½æ•°ï¼šE_{k}=\frac{1}{2}\sum_{j=1}^{l}\left(y_{j}^{k}-\hat{y}_{j}^{k}\right)^{2}\]</span></p><h4 id="è®¡ç®—å‡†å¤‡">2.1.3.1 è®¡ç®—å‡†å¤‡</h4><p><span class="math display">\[\frac{\partial E_k}{\partial \hat{y_j^k} }=(y_j^k-\hat{y_j^k})(-1)\\f_{sigmoid}(x)^{(1)}=f_{sigmoid}(x)(1-f_{sigmoid}(x))\\\eta:å­¦ä¹ ç‡\]</span></p><p><strong>ä¸‹é¢ï¼Œæˆ‘ä»¬è®²åˆ†åˆ«è®¨è®ºæ¯ä¸ªå‚æ•°çš„æ›´æ–°ï¼š</strong></p><h4 id="wæ›´æ–°">2.1.3.2 <strong>w</strong>æ›´æ–°</h4><p><span class="math display">\[æ›´æ–°å…¬å¼ï¼šw_{hj}=w_{hj}+\bigtriangleup w_{hj}\]</span></p><p>ä¸‹é¢å¯¹<strong>w</strong>è¿›è¡Œè®¨è®º:</p><p><span class="math display">\[\begin{align}\bigtriangleup w_{hj}=&amp;-\eta  \frac{\partial E_k}{\partial w_{hj}}\\=&amp;-\eta (\frac{\partial E_k}{\partial \hat{y_j^k}}\cdot\frac{\partial \hat{y_j^k}}{\partial \beta _j}  \cdot\frac{\partial \beta _j}{\partial w_{hj}}  )\\=&amp;-\eta (y_j^k-\hat{y_j^k})(-1)\cdot \hat{y_j^k}(1-\hat{y_j^k})\cdot b_h\\ä»¤g_j&amp;=(y_j^k-\hat{y_j^k})\cdot \hat{y_j^k} (1-\hat{y_j^k})\\\\æœ€ç»ˆå¯å¾—&amp;\bigtriangleup w_{hj}=\eta g_jb_h\end{align}\]</span></p><h4 id="Î¸æ›´æ–°">2.1.3.3 <strong>Î¸</strong>æ›´æ–°</h4><p><span class="math display">\[æ›´æ–°å…¬å¼ï¼š\theta_{j}=\theta_{j}+\bigtriangleup \theta_{j}\]</span></p><p><strong>ä¸‹é¢å¯¹</strong>Î¸<strong>è¿›è¡Œè®¨è®ºï¼š</strong></p><p><span class="math display">\[\begin{align}\bigtriangleup \theta_j=&amp;-\eta  \frac{\partial E_k}{\partial\theta_{j}}\\=&amp;-\eta  (\frac{\partial E_k}{\partial \hat{y_j^k}}\cdot\frac{\partial \hat{y_j^k}}{\partial \theta _j}    )\\=&amp;-\eta (y_j^k-\hat{y_j^k})(-1)\cdot \hat{y_j^k}(1-\hat{y_j^k})\cdot(-1)\\=&amp;-\eta g_j\end{align}\]</span></p><h4 id="væ›´æ–°">2.1.3.4 <strong>v</strong>æ›´æ–°</h4><p><span class="math display">\[æ›´æ–°å…¬å¼ï¼šv_{ih}=v_{ih}+\bigtriangleup v_{ih}\]</span></p><p><strong>ä¸‹é¢å¯¹</strong>v<strong>è¿›è¡Œè®¨è®ºï¼š</strong></p><p><span class="math display">\[\begin{align}\bigtriangleup v_{ih}=&amp;-\eta \frac{\partial E_k}{\partial v_{ih}}\\=&amp;-\eta\frac{\partial E_k}{\partial b_h}\cdot  \frac{\partialb_h}{\partial \alpha _h}\cdot  \frac{\partial \alpha _h}{\partialv_{ih}} \\=&amp;-\eta(\sum_{j=1}^{l}\frac{\partial E_k}{\partial \hat{y_j^k}}\cdot\frac{\partial \hat{y_j^k}}{\partial \beta _j}  \cdot\frac{\partial \beta _j}{\partial b_{h}})\cdot b_h(1-b_h)\cdot x_i^k\\=&amp;\eta \sum_{j=1}^{l}g_jw_{hj}b_h(1-b_h)x_i^k\end{align}\]</span></p><h4 id="Î³æ›´æ–°">2.1.3.5Î³æ›´æ–°</h4><p><span class="math display">\[æ›´æ–°å…¬å¼ï¼š\gamma_{h}=\gamma_{h}+\bigtriangleup \gamma_{h}\]</span></p><p><strong>ä¸‹é¢å¯¹</strong>Î³<strong>è¿›è¡Œè®¨è®ºï¼š</strong></p><p><span class="math display">\[\begin{align}\bigtriangleup \gamma_{h}=&amp;-\eta \frac{\partial E_k}{\partial\gamma_{h}}\\=&amp;-\eta\frac{\partial E_k}{\partial b_h}\cdot  \frac{\partialb_h}{\partial \gamma _h} \\=&amp;-\eta(\sum_{j=1}^{l}\frac{\partial E_k}{\partial \hat{y_j^k}}\cdot\frac{\partial \hat{y_j^k}}{\partial \beta _j}  \cdot\frac{\partial \beta _j}{\partial b_{h}})\cdot b_h(1-b_h)\cdot (-1)\\=&amp;\eta \sum_{j=1}^{l}g_jw_{hj}b_h(1-b_h)(-1)\end{align}\]</span></p><h3 id="ç®—æ³•ä¼ªä»£ç ">2.1.3 ç®—æ³•ä¼ªä»£ç </h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114180628211.png" /></p><h1id="ä¸‰æè¿°æ¨¡å‹è¶…å‚æ•°ç¡®å®šçš„è¿‡ç¨‹åˆ†ææ¨¡å‹è®­ç»ƒç»“æœ">ä¸‰ã€æè¿°æ¨¡å‹è¶…å‚æ•°ç¡®å®šçš„è¿‡ç¨‹ï¼Œåˆ†ææ¨¡å‹è®­ç»ƒç»“æœ</h1><h2 id="è¶…å‚æ•°çš„æ¦‚å¿µ">3.1 è¶…å‚æ•°çš„æ¦‚å¿µ</h2><p>å¤§éƒ¨åˆ†æœºå™¨å­¦ä¹ ç®—æ³•éƒ½éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´å»è®­ç»ƒï¼Œè€Œåœ¨è®­ç»ƒä¹‹å‰éœ€è¦æå‰é…ç½®ä¸€äº›å˜é‡ã€‚è¿™äº›å˜é‡å¯¹è®­ç»ƒç»“æœå½±å“å¾ˆå¤§ï¼Œä½†æ²¡æœ‰å¯¹ä»»ä½•æ•°æ®é›†éƒ½é€‚ç”¨çš„ä¸€ç»„å˜é‡ï¼Œéœ€è¦æ ¹æ®å…·ä½“åº”ç”¨å…·ä½“é…ç½®ï¼Œè¿™äº›éœ€è¦é…ç½®çš„å˜é‡ç§°ä¹‹ä¸ºè¶…å‚æ•°ï¼ˆhyperparametersï¼‰ã€‚åŒºåˆ†è¶…å‚æ•°å’Œæ¨¡å‹å‚æ•°æœ€å¤§çš„ä¸€ç‚¹å°±æ˜¯æ˜¯å¦é€šè¿‡æ•°æ®æ¥è¿›è¡Œè°ƒæ•´ï¼Œæ¨¡å‹å‚æ•°é€šå¸¸æ˜¯æœ‰æ•°æ®æ¥é©±åŠ¨è°ƒæ•´ï¼Œè¶…å‚æ•°åˆ™ä¸éœ€è¦æ•°æ®æ¥é©±åŠ¨ï¼Œè€Œæ˜¯åœ¨è®­ç»ƒå‰æˆ–è€…è®­ç»ƒä¸­äººä¸ºçš„è¿›è¡Œè°ƒæ•´çš„å‚æ•°ã€‚ä¾‹å¦‚å·ç§¯æ ¸çš„å…·ä½“æ ¸å‚æ•°å°±æ˜¯æŒ‡æ¨¡å‹å‚æ•°ï¼Œè¿™æ˜¯ç”±æ•°æ®é©±åŠ¨çš„ã€‚è€Œå­¦ä¹ ç‡åˆ™æ˜¯äººä¸ºæ¥è¿›è¡Œè°ƒæ•´çš„è¶…å‚æ•°ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸æƒ…å†µä¸‹å·ç§¯æ ¸æ•°é‡ã€å·ç§¯æ ¸å°ºå¯¸è¿™äº›ä¹Ÿæ˜¯è¶…å‚æ•°ï¼Œæ³¨æ„ä¸å·ç§¯æ ¸çš„æ ¸å‚æ•°åŒºåˆ†ã€‚</p><h2 id="ç¥ç»ç½‘ç»œåŒ…å«çš„è¶…å‚æ•°">3.2 ç¥ç»ç½‘ç»œåŒ…å«çš„è¶…å‚æ•°</h2><h3 id="è¶…å‚æ•°ç§ç±»">3.2.1 è¶…å‚æ•°ç§ç±»</h3><p>é€šå¸¸å¯ä»¥å°†è¶…å‚æ•°åˆ†ä¸ºä¸‰ç±»ï¼šç½‘ç»œå‚æ•°ã€ä¼˜åŒ–å‚æ•°ã€æ­£åˆ™åŒ–å‚æ•°ã€‚</p><p>ç½‘ç»œå‚æ•°ï¼šå¯æŒ‡ç½‘ç»œå±‚ä¸å±‚ä¹‹é—´çš„äº¤äº’æ–¹å¼ï¼ˆç›¸åŠ ã€ç›¸ä¹˜æˆ–è€…ä¸²æ¥ç­‰ï¼‰ã€å·ç§¯æ ¸æ•°é‡å’Œå·ç§¯æ ¸å°ºå¯¸ã€ç½‘ç»œå±‚æ•°ï¼ˆä¹Ÿç§°æ·±åº¦ï¼‰å’Œæ¿€æ´»å‡½æ•°ç­‰ã€‚</p><p>ä¼˜åŒ–å‚æ•°ï¼šä¸€èˆ¬æŒ‡å­¦ä¹ ç‡ï¼ˆlearning rateï¼‰ã€æ‰¹æ ·æœ¬æ•°é‡ï¼ˆbatchsizeï¼‰ã€ä¸åŒä¼˜åŒ–å™¨çš„å‚æ•°ä»¥åŠéƒ¨åˆ†æŸå¤±å‡½æ•°çš„å¯è°ƒå‚æ•°ã€‚</p><p>æ­£åˆ™åŒ–ï¼šæƒé‡è¡°å‡ç³»æ•°ï¼Œä¸¢å¼ƒæ³•æ¯”ç‡ï¼ˆdropoutï¼‰</p><p><strong>ç¥ç»ç½‘ç»œåŒ…å«çš„è¶…å‚æ•°å…·ä½“ä¸ºä»¥ä¸‹åä¸€ä¸ªï¼š</strong></p><ol type="1"><li><strong>å­¦ä¹ ç‡ Î·</strong></li><li><strong>æ­£åˆ™åŒ–å‚æ•° Î»</strong></li><li><strong>ç¥ç»ç½‘ç»œçš„å±‚æ•° L</strong></li><li><strong>æ¯ä¸€ä¸ªéšå±‚ä¸­ç¥ç»å…ƒçš„ä¸ªæ•° j</strong></li><li><strong>å­¦ä¹ çš„å›åˆæ•°Epoch</strong></li><li><strong>å°æ‰¹é‡æ•°æ® minibatch çš„å¤§å°</strong></li><li><strong>è¾“å‡ºç¥ç»å…ƒçš„ç¼–ç æ–¹å¼</strong></li><li><strong>ä»£ä»·å‡½æ•°çš„é€‰æ‹©</strong></li><li><strong>æƒé‡åˆå§‹åŒ–çš„æ–¹æ³•</strong></li><li><strong>ç¥ç»å…ƒæ¿€æ´»å‡½æ•°çš„ç§ç±»</strong></li><li><strong>å‚åŠ è®­ç»ƒæ¨¡å‹æ•°æ®çš„è§„æ¨¡</strong></li></ol><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211112080119294.png" /></p><p>åœ¨ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°è¶…å‚æ•° 2ï¼Œ3ï¼Œ4ï¼Œ 7ä¸»è¦å½±å“çš„æ—¶ç¥ç»ç½‘ç»œçš„åˆ†ç±»æ­£ç¡®ç‡ï¼›9ä¸»è¦å½±å“ä»£ä»·å‡½æ•°æ›²çº¿ä¸‹é™é€Ÿåº¦ï¼ŒåŒæ—¶æœ‰æ—¶ä¹Ÿä¼šå½±å“æ­£ç¡®ç‡ï¼›1ï¼Œ8ï¼Œ10ä¸»è¦å½±å“å­¦ä¹ é€Ÿåº¦ï¼Œè¿™ç‚¹ä¸»è¦ä½“ç°åœ¨è®­ç»ƒæ•°æ®ä»£ä»·å‡½æ•°æ›²çº¿çš„ä¸‹é™é€Ÿåº¦ä¸Šï¼›5ï¼Œ6ï¼Œ11ä¸»è¦å½±å“æ¨¡å‹åˆ†ç±»æ­£ç¡®ç‡å’Œè®­ç»ƒç”¨æ€»ä½“æ—¶é—´ã€‚è¿™ä¸Šé¢æ‰€æåˆ°çš„æ—¶æŸä¸ªè¶…å‚æ•°å¯¹äºç¥ç»ç½‘ç»œæƒ³åˆ°çš„é¦–è¦å½±å“ï¼Œå¹¶ä¸ä»£è¡¨ç€è¯¥è¶…å‚æ•°åªå½±å“å­¦ä¹ é€Ÿåº¦æˆ–è€…æ­£ç¡®ç‡ã€‚</p><h3 id="è¶…å‚æ•°é‡è¦æ€§é¡ºåº">3.2.2 è¶…å‚æ•°é‡è¦æ€§é¡ºåº</h3><ul><li>é¦–å…ˆï¼Œå­¦ä¹ ç‡ï¼ŒæŸå¤±å‡½æ•°ä¸Šçš„å¯è°ƒå‚æ•°ã€‚åœ¨ç½‘ç»œå‚æ•°ã€ä¼˜åŒ–å‚æ•°ã€æ­£åˆ™åŒ–å‚æ•°ä¸­æœ€é‡è¦çš„è¶…å‚æ•°å¯èƒ½å°±æ˜¯å­¦ä¹ ç‡äº†ã€‚å­¦ä¹ ç‡ç›´æ¥æ§åˆ¶ç€è®­ç»ƒä¸­ç½‘ç»œæ¢¯åº¦æ›´æ–°çš„é‡çº§ï¼Œç›´æ¥å½±å“ç€æ¨¡å‹çš„æœ‰æ•ˆå®¹é™èƒ½åŠ›ï¼›æŸå¤±å‡½æ•°ä¸Šçš„å¯è°ƒå‚æ•°ï¼Œè¿™äº›å‚æ•°é€šå¸¸æƒ…å†µä¸‹éœ€è¦ç»“åˆå®é™…çš„æŸå¤±å‡½æ•°æ¥è°ƒæ•´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿™äº›å‚æ•°ä¹Ÿèƒ½å¾ˆç›´æ¥çš„å½±å“åˆ°æ¨¡å‹çš„çš„æœ‰æ•ˆå®¹é™èƒ½åŠ›ã€‚è¿™äº›æŸå¤±ä¸€èˆ¬å¯åˆ†æˆä¸‰ç±»ï¼Œç¬¬ä¸€ç±»è¾…åŠ©æŸå¤±ç»“åˆå¸¸è§çš„æŸå¤±å‡½æ•°ï¼Œèµ·åˆ°è¾…åŠ©ä¼˜åŒ–ç‰¹å¾è¡¨è¾¾çš„ä½œç”¨ã€‚ä¾‹å¦‚åº¦é‡å­¦ä¹ ä¸­çš„Centerlossï¼Œé€šå¸¸ç»“åˆäº¤å‰ç†µæŸå¤±ä¼´éšä¸€ä¸ªæƒé‡å®Œæˆä¸€äº›ç‰¹å®šçš„ä»»åŠ¡ã€‚è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬å»ºè®®è¾…åŠ©æŸå¤±å€¼ä¸é«˜äºæˆ–è€…ä¸ä½äºäº¤å‰ç†µæŸå¤±å€¼çš„ä¸¤ä¸ªæ•°é‡çº§ï¼›ç¬¬äºŒç±»ï¼Œå¤šä»»åŠ¡æ¨¡å‹çš„å¤šä¸ªæŸå¤±å‡½æ•°ï¼Œæ¯ä¸ªæŸå¤±å‡½æ•°ä¹‹é—´æˆ–ç‹¬ç«‹æˆ–ç›¸å…³ï¼Œç”¨äºå„è‡ªä»»åŠ¡ï¼Œè¿™ç§æƒ…å†µå–å†³äºä»»åŠ¡ä¹‹é—´æœ¬èº«çš„ç›¸å…³æ€§ï¼Œç›®å‰ç¬”è€…å¹¶æ²¡æœ‰ä¸€ä¸ªæ™®é€‚çš„ç»éªŒç”±äºæä¾›å‚è€ƒï¼›ç¬¬ä¸‰ç±»ï¼Œç‹¬ç«‹æŸå¤±å‡½æ•°ï¼Œè¿™ç±»æŸå¤±é€šå¸¸ä¼šåœ¨ç‰¹å®šçš„ä»»åŠ¡æœ‰æ˜¾è‘—æ€§çš„æ•ˆæœã€‚ä¾‹å¦‚RetinaNetä¸­çš„focallossï¼Œå…¶ä¸­çš„å‚æ•°Î³ï¼ŒÎ±ï¼Œå¯¹æœ€ç»ˆçš„æ•ˆæœä¼šäº§ç”Ÿè¾ƒå¤§çš„å½±å“ã€‚è¿™ç±»æŸå¤±é€šå¸¸è®ºæ–‡ä¸­ä¼šç»™å‡ºç‰¹å®šçš„å»ºè®®å€¼ã€‚</li><li>å…¶æ¬¡ï¼Œæ‰¹æ ·æœ¬æ•°é‡ï¼ŒåŠ¨é‡ä¼˜åŒ–å™¨ï¼ˆGradient Descent withMomentumï¼‰çš„åŠ¨é‡å‚æ•°Î²ã€‚æ‰¹æ ·æœ¬å†³å®šäº†æ•°é‡æ¢¯åº¦ä¸‹é™çš„æ–¹å‘ã€‚è¿‡å°çš„æ‰¹æ•°é‡ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œä¾‹å¦‚batchsizeä¸º1ï¼Œå³æ¯ä¸ªæ ·æœ¬éƒ½å»ä¿®æ­£ä¸€æ¬¡æ¢¯åº¦æ–¹å‘ï¼Œæ ·æœ¬ä¹‹é—´çš„å·®å¼‚è¶Šå¤§è¶Šéš¾ä»¥æ”¶æ•›ã€‚è‹¥ç½‘ç»œä¸­å­˜åœ¨æ‰¹å½’ä¸€åŒ–ï¼ˆbatchnormï¼‰ï¼Œbatchsizeè¿‡å°åˆ™æ›´éš¾ä»¥æ”¶æ•›ï¼Œç”šè‡³å®æ‰ã€‚è¿™æ˜¯å› ä¸ºæ•°æ®æ ·æœ¬è¶Šå°‘ï¼Œç»Ÿè®¡é‡è¶Šä¸å…·æœ‰ä»£è¡¨æ€§ï¼Œå™ªå£°ä¹Ÿç›¸åº”çš„å¢åŠ ã€‚è€Œè¿‡å¤§çš„batchsizeï¼Œä¼šä½¿å¾—æ¢¯åº¦æ–¹å‘åŸºæœ¬ç¨³å®šï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼Œé™ä½ç²¾åº¦ã€‚ä¸€èˆ¬å‚è€ƒèŒƒå›´ä¼šå–åœ¨[1:1024]ä¹‹é—´ï¼Œå½“ç„¶è¿™ä¸ªä¸æ˜¯ç»å¯¹çš„ï¼Œéœ€è¦ç»“åˆå…·ä½“åœºæ™¯å’Œæ ·æœ¬æƒ…å†µï¼›åŠ¨é‡è¡°å‡å‚æ•°Î²æ˜¯è®¡ç®—æ¢¯åº¦çš„æŒ‡æ•°åŠ æƒå¹³å‡æ•°ï¼Œå¹¶åˆ©ç”¨è¯¥å€¼æ¥æ›´æ–°å‚æ•°ï¼Œè®¾ç½®ä¸º0.9 æ˜¯ä¸€ä¸ªå¸¸è§ä¸”æ•ˆæœä¸é”™çš„é€‰æ‹©ï¼›</li><li>æœ€åï¼ŒAdamä¼˜åŒ–å™¨çš„è¶…å‚æ•°ã€æƒé‡è¡°å‡ç³»æ•°ã€ä¸¢å¼ƒæ³•æ¯”ç‡ï¼ˆdropoutï¼‰å’Œç½‘ç»œå‚æ•°ã€‚åœ¨è¿™é‡Œè¯´æ˜ä¸‹ï¼Œè¿™äº›å‚æ•°é‡è¦æ€§æ”¾åœ¨æœ€åå¹¶ä¸ç­‰ä»·äºè¿™äº›å‚æ•°ä¸é‡è¦ã€‚è€Œæ˜¯è¡¨ç¤ºè¿™äº›å‚æ•°åœ¨å¤§éƒ¨åˆ†å®è·µä¸­ä¸å»ºè®®è¿‡å¤šå°è¯•ï¼Œä¾‹å¦‚Adamä¼˜åŒ–å™¨ä¸­çš„Î²1ï¼ŒÎ²2ï¼ŒÏµï¼Œå¸¸è®¾ä¸º0.9ã€0.999ã€10âˆ’8å°±ä¼šæœ‰ä¸é”™çš„è¡¨ç°ã€‚æƒé‡è¡°å‡ç³»æ•°é€šå¸¸ä¼šæœ‰ä¸ªå»ºè®®å€¼ï¼Œä¾‹å¦‚0.0005ï¼Œä½¿ç”¨å»ºè®®å€¼å³å¯ï¼Œä¸å¿…è¿‡å¤šå°è¯•ã€‚dropouté€šå¸¸ä¼šåœ¨å…¨è¿æ¥å±‚ä¹‹é—´ä½¿ç”¨é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå»ºè®®æ¯”ç‡æ§åˆ¶åœ¨[0.2,0.5]ä¹‹é—´ã€‚ä½¿ç”¨dropoutæ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸¤ç‚¹ï¼šä¸€ã€åœ¨RNNä¸­ï¼Œå¦‚æœç›´æ¥æ”¾åœ¨memorycellä¸­,å¾ªç¯ä¼šæ”¾å¤§å™ªå£°ï¼Œæ‰°ä¹±å­¦ä¹ ã€‚ä¸€èˆ¬ä¼šå»ºè®®æ”¾åœ¨è¾“å…¥å’Œè¾“å‡ºå±‚ï¼›äºŒã€ä¸å»ºè®®dropoutåç›´æ¥è·Ÿä¸Šbatchnormï¼Œdropoutå¾ˆå¯èƒ½å½±å“batchnormè®¡ç®—ç»Ÿè®¡é‡ï¼Œå¯¼è‡´æ–¹å·®åç§»ï¼Œè¿™ç§æƒ…å†µä¸‹ä¼šä½¿å¾—æ¨ç†é˜¶æ®µå‡ºç°æ¨¡å‹å®Œå…¨å®æ‰çš„æç«¯æƒ…å†µï¼›ç½‘ç»œå‚æ•°é€šå¸¸ä¹Ÿå±äºè¶…å‚æ•°çš„èŒƒå›´å†…ï¼Œé€šå¸¸æƒ…å†µä¸‹å¢åŠ ç½‘ç»œå±‚æ•°èƒ½å¢åŠ æ¨¡å‹çš„å®¹é™èƒ½åŠ›ï¼Œä½†æ¨¡å‹çœŸæ­£æœ‰æ•ˆçš„å®¹é™èƒ½åŠ›è¿˜å’Œæ ·æœ¬æ•°é‡å’Œè´¨é‡ã€å±‚ä¹‹é—´çš„å…³ç³»ç­‰æœ‰å…³ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä¼šé€‰æ‹©å…ˆå›ºå®šç½‘ç»œå±‚æ•°ï¼Œè°ƒä¼˜åˆ°ä¸€å®šé˜¶æ®µæˆ–è€…æœ‰å¤§é‡çš„ç¡¬ä»¶èµ„æºæ”¯æŒå¯ä»¥åœ¨ç½‘ç»œæ·±åº¦ä¸Šè¿›è¡Œè¿›ä¸€æ­¥è°ƒæ•´ã€‚</li></ul><h2 id="æ¨¡å‹è¶…å‚æ•°ç¡®å®š">3.3 æ¨¡å‹è¶…å‚æ•°ç¡®å®š</h2><h3 id="è¶…å‚æ•°è°ƒä¼˜çš„åŸå› ">3.3.1 è¶…å‚æ•°è°ƒä¼˜çš„åŸå› </h3><p>æœ¬è´¨ä¸Šï¼Œè¿™æ˜¯æ¨¡å‹ä¼˜åŒ–å¯»æ‰¾æœ€ä¼˜è§£å’Œæ­£åˆ™é¡¹ä¹‹é—´çš„å…³ç³»ã€‚ç½‘ç»œæ¨¡å‹ä¼˜åŒ–è°ƒæ•´çš„ç›®çš„æ˜¯ä¸ºäº†å¯»æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼ˆæˆ–è€…ç›¸æ¯”æ›´å¥½çš„å±€éƒ¨æœ€ä¼˜è§£ï¼‰ï¼Œè€Œæ­£åˆ™é¡¹åˆå¸Œæœ›æ¨¡å‹å°½é‡æ‹Ÿåˆåˆ°æœ€ä¼˜ã€‚ä¸¤è€…é€šå¸¸æƒ…å†µä¸‹ï¼Œå­˜åœ¨ä¸€å®šçš„å¯¹ç«‹ï¼Œä½†ä¸¤è€…çš„ç›®æ ‡æ˜¯ä¸€è‡´çš„ï¼Œå³æœ€å°åŒ–æœŸæœ›é£é™©ã€‚æ¨¡å‹ä¼˜åŒ–å¸Œæœ›æœ€å°åŒ–ç»éªŒé£é™©ï¼Œè€Œå®¹æ˜“é™·å…¥è¿‡æ‹Ÿåˆï¼Œæ­£åˆ™é¡¹ç”¨æ¥çº¦æŸæ¨¡å‹å¤æ‚åº¦ã€‚æ‰€ä»¥å¦‚ä½•å¹³è¡¡ä¸¤è€…ä¹‹é—´çš„å…³ç³»ï¼Œå¾—åˆ°æœ€ä¼˜æˆ–è€…è¾ƒä¼˜çš„è§£å°±æ˜¯è¶…å‚æ•°è°ƒæ•´ä¼˜åŒ–çš„ç›®çš„ã€‚</p><h3 id="æ¨¡å‹è¶…å‚æ•°çš„ç¡®å®š">3.3.2 æ¨¡å‹è¶…å‚æ•°çš„ç¡®å®š</h3><p><strong>å››ç§ä¸»æµè¶…å‚æ•°è°ƒä¼˜æŠ€æœ¯ï¼š</strong></p><ol type="1"><li><strong>ä¼ ç»Ÿæˆ–æ‰‹åŠ¨è°ƒå‚</strong></li><li><strong>ç½‘æ ¼æœç´¢</strong></li><li><strong>éšæœºæœç´¢</strong></li><li><strong>è´å¶æ–¯æœç´¢</strong></li></ol><p>åœ¨ä¼ ç»Ÿçš„è°ƒä¼˜ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ‰‹åŠ¨æ£€æŸ¥éšæœºè¶…å‚æ•°é›†æ¥è®­ç»ƒç®—æ³•ï¼Œå¹¶é€‰æ‹©æœ€é€‚åˆæˆ‘ä»¬ç›®æ ‡çš„å‚æ•°é›†ã€‚ä½†è¿™ç§æ–¹æ³•ä¸èƒ½ä¿è¯å¾—åˆ°æœ€ä½³çš„å‚æ•°ç»„åˆï¼Œåå¤è¯•éªŒä¼šæ¶ˆè€—æ›´å¤šçš„æ—¶é—´ã€‚</p><h4 id="ç½‘æ ¼æœç´¢">3.3.2.1 ç½‘æ ¼æœç´¢</h4><ul><li>ç½‘æ ¼æœç´¢æ˜¯ä¸€ç§åŸºæœ¬çš„è¶…å‚æ•°è°ƒæ•´æŠ€æœ¯ã€‚å®ƒç±»ä¼¼äºæ‰‹åŠ¨è°ƒä¼˜ï¼Œä¸ºç½‘æ ¼ä¸­æŒ‡å®šçš„æ‰€æœ‰ç»™å®šè¶…å‚æ•°å€¼çš„æ¯ä¸ªæ’åˆ—å»ºç«‹æ¨¡å‹ï¼Œå¹¶è¯„ä¼°å’Œé€‰æ‹©æœ€ä½³æ¨¡å‹ã€‚ç”±äºå®ƒå°è¯•æ¯ä¸€ç§è¶…å‚æ•°ç»„åˆï¼Œå¹¶æ ¹æ®äº¤å‰éªŒè¯åˆ†æ•°é€‰æ‹©æœ€ä½³ç»„åˆï¼Œè¿™ä½¿å¾—GridsearchCV æå…¶ç¼“æ…¢ã€‚</li><li>è¿™ç§å¯å‘å¼çš„æœç´¢ç®—æ³•å¯¹è¶…å‚æ•°æœç´¢ç®—æ³•ï¼Œè¢«ç§°ä¹‹ä¸ºç½‘æ ¼æœç´¢ã€‚(å¦‚æœäººå·¥å¤„ç†æ‰€æœ‰å¯èƒ½çš„è¶…å‚æ•°ç»„åˆï¼Œé€šå¸¸çš„åŠæ³•æ˜¯ï¼Œæ ¹æ®è¶…å‚æ•°çš„ç»´åº¦ï¼Œåˆ—æˆç›¸åº”çš„è¡¨æ ¼ï¼Œæ¯”å¦‚è¯´kçš„å–å€¼æœ‰[2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8]ï¼Œå¦ä¸€ä¸ªç³»æ•°æ¯”å¦‚Î»å–å€¼æœ‰[0.01,0.03,0.1,0.3]ç­‰ï¼Œè¿™æ ·å°±å¯ä»¥åˆ—å‡ºä¸€ä¸ªäºŒç»´è¡¨æ ¼ï¼Œç»„åˆå‡º7*4ç§å¯èƒ½æ€§çš„è¶…å‚æ•°ç»„åˆï¼Œå†å¯¹æ¯ä¸€ä¸ªæ ¼å­ä¸­å…·ä½“çš„è¶…å‚æ•°ç»„åˆï¼Œé€šè¿‡äº¤å‰éªŒè¯çš„æ–¹å¼è¿›è¡Œæ¨¡å‹æ€§èƒ½çš„è¯„ä¼°ï¼Œç„¶åé€šè¿‡éªŒè¯æ€§èƒ½çš„æ¯”è¾ƒï¼Œæœ€ç»ˆç­›é€‰å‡ºæœ€ä½³çš„è¶…å‚æ•°æ•°æ®ç»„åˆ)</li><li>ç½‘æ ¼æœç´¢é‡‡ç”¨äº¤å‰éªŒè¯çš„æ–¹æ³•ï¼Œæ¥å¯»æ‰¾æ›´å¥½çš„è¶…å‚æ•°ç»„åˆçš„è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œç”±äºå„ä¸ªæ–°æ¨¡å‹åœ¨æ‰§è¡Œäº¤å‰éªŒè¯çš„è¿‡ç¨‹ä¸­æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨ç”šè‡³æ˜¯åˆ†å¸ƒå¼çš„è®¡ç®—èµ„æºæ¥ä»äº‹å¹¶è¡Œæœç´¢ï¼Œä»è€Œæˆå€çš„èŠ‚çœè¿ç®—æ—¶é—´ã€‚<imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/482493cc74974f85ba09b50697801c27.jpeg" /></li></ul><h4 id="éšæœºæœç´¢">3.3.2.2 éšæœºæœç´¢</h4><p>ä½¿ç”¨éšæœºæœç´¢ä»£æ›¿ç½‘æ ¼æœç´¢çš„åŠ¨æœºæ˜¯ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„è¶…å‚æ•°å¯èƒ½å¹¶éåŒç­‰é‡è¦ã€‚éšæœºæœç´¢ä»è¶…å‚æ•°ç©ºé—´ä¸­éšæœºé€‰æ‹©å‚æ•°ç»„åˆï¼Œå‚æ•°æŒ‰n_iterç»™å®šçš„è¿­ä»£æ¬¡æ•°è¿›è¡Œé€‰æ‹©ã€‚éšæœºæœç´¢å·²ç»è¢«å®è·µè¯æ˜æ¯”ç½‘æ ¼æœç´¢å¾—åˆ°çš„ç»“æœæ›´å¥½ï¼Œä½†éšæœºæœç´¢çš„é—®é¢˜æ˜¯å®ƒä¸èƒ½ä¿è¯ç»™å‡ºæœ€ä½³çš„å‚æ•°ç»„åˆã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114180715729.png" /></p><h4 id="è´å¶æ–¯ä¼˜åŒ–">3.3.2.3 è´å¶æ–¯ä¼˜åŒ–</h4><p>è´å¶æ–¯ä¼˜åŒ–å±äºä¸€ç±»è¢«ç§°ä¸º<strong><em>sequential model-basedoptimization</em>(SMBO)</strong>çš„ä¼˜åŒ–ç®—æ³•ã€‚è¿™äº›ç®—æ³•ä½¿ç”¨å…ˆå‰å¯¹æŸå¤± fçš„è§‚æµ‹ï¼Œæ¥ç¡®å®šä¸‹ä¸€ä¸ª(æœ€ä½³)ç‚¹æ¥å–æ · fã€‚è¯¥ç®—æ³•å¤§è‡´å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼š</p><ol type="1"><li><strong>ä½¿ç”¨å…ˆå‰è®¡ç®—è¿‡çš„ç‚¹ X1: nï¼Œè®¡ç®—æŸå¤± fçš„åéªŒæœŸæœ›å€¼ã€‚</strong></li><li><strong>åœ¨ä¸€ä¸ªæ–°çš„ç‚¹ Xnewå–æ ·æŸå¤± f ï¼Œå®ƒæœ€å¤§åŒ–äº† fçš„æœŸæœ›çš„æŸäº›æ•ˆç”¨å‡½æ•°ã€‚è¯¥å‡½æ•°æŒ‡å®š fåŸŸçš„å“ªäº›åŒºåŸŸæ˜¯æœ€é€‚åˆé‡‡æ ·çš„ã€‚</strong></li></ol><p>é‡å¤è¿™äº›æ­¥éª¤ï¼Œç›´åˆ°è¾¾åˆ°æŸç§æ”¶æ•›å‡†åˆ™ã€‚</p><h5 id="é«˜æ–¯è¿‡ç¨‹">3.3.2.3.1 é«˜æ–¯è¿‡ç¨‹</h5><p>åœ¨è´å¶æ–¯è°ƒå‚è¿‡ç¨‹ä¸­ï¼Œå‡è®¾ä¸€ç»„è¶…å‚æ•°ç»„åˆæ˜¯X=x1,x2,...,xn(xnè¡¨ç¤ºæŸä¸€ä¸ªè¶…å‚æ•°çš„å€¼)ï¼Œè€Œè¿™ç»„è¶…å‚æ•°ä¸æœ€åæˆ‘ä»¬éœ€è¦ä¼˜åŒ–çš„æŸå¤±å‡½æ•°å­˜åœ¨ä¸€ä¸ªå‡½æ•°å…³ç³»ï¼Œæœ€ç»ˆçš„è¯„ä¼°ç»“æœä¸ºYï¼Œé€šè¿‡ä»€ä¹ˆæ ·çš„Xå¯ä»¥å–å¾—æœ€ä¼˜çš„Yï¼Œæˆ‘ä»¬å‡è®¾æ˜¯f(X)ï¼ŒY=F(X)</p><p>è€Œç›®å‰æœºå™¨å­¦ä¹ å…¶å®æ˜¯ä¸€ä¸ªé»‘ç›’å­(blackbox),å³æˆ‘ä»¬åªçŸ¥é“inputå’Œoutputï¼Œæ‰€ä»¥ä¸Šé¢çš„å‡½æ•°f(x)å¾ˆéš¾ç¡®å®šã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†æ³¨æ„åŠ›è½¬ç§»åˆ°ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥è§£å†³çš„å‡½æ•°ä¸Šå»ã€‚</p><p>äºæ˜¯å¯ä»¥å‡è®¾è¿™ä¸ªå¯»æ‰¾æœ€ä¼˜åŒ–å‚æ•°çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªé«˜æ–¯è¿‡ç¨‹ã€‚é«˜æ–¯è¿‡ç¨‹æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å½“éšæœºéå†ä¸€å®šçš„æ•°æ®ç‚¹å¹¶æ‹¿åˆ°ç»“æœä¹‹åï¼Œå¯ä»¥å¤§è‡´ç»˜åˆ¶å‡ºæ•´ä¸ªæ•°æ®çš„åˆ†å¸ƒæ›²çº¿ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/998084-20180726204924171-1721363009.png" /></p><h5 id="è´å¶æ–¯ä¼˜åŒ–ç†è®º">3.3.2.3.2 è´å¶æ–¯ä¼˜åŒ–ç†è®º</h5><p>è¿˜æ˜¯è¿™å¼ å›¾ï¼ŒæŠŠæ¨ªè½´çœ‹ä½œæ˜¯å‚æ•°ç»„åˆXï¼Œçºµè½´çœ‹ä½œæ˜¯è¿™ä¸ªå‚æ•°çš„ç»“æœYã€‚å¯ä»¥é€šè¿‡å·²ç»æ„å»ºçš„æ›²çº¿ï¼Œæ‰¾åˆ°æ›²çº¿ä¸Šå‡çš„æ–¹å‘ï¼Œä»è€Œåœ¨è¿™ä¸ªæ–¹å‘ä¸Šç»§ç»­æ¢ç´¢ï¼Œè¿™æ ·å°±å¯ä»¥å¤§æ¦‚ç‡æ‹¿åˆ°æ›´å¥½çš„ç»“æœã€‚åœ¨ç”Ÿæ´»çš„è½¨è¿¹ä¸Šï¼Œå¦‚æœæ‰¾åˆ°ä¸€æ¡æ˜ç¡®é€šå¾€å¹¸ç¦çš„è·¯ï¼Œå¯ä»¥ç»§ç»­å‘å‰æ¢ç´¢ï¼Œå› ä¸ºå¤§æ¦‚ç‡å¯ä»¥æˆåŠŸï¼Œä½†ä¹Ÿè®¸ä¹Ÿæœ‰ä¼šé”™è¿‡æ›´å¥½çš„æœºä¼šï¼Œé™·å…¥å±€éƒ¨æœ€ä¼˜è§£ã€‚è¯·çœ‹ä¸Šå›¾ä¸­çš„äº”è§’æ˜Ÿï¼Œå¦‚æœæˆ‘ä»¬å¤„äºå®ƒçš„ä½ç½®ï¼Œç»§ç»­å‘ä¸Šèµ°ä¼šè¿æ¥ä¸€ä¸ªé«˜å³°ï¼Œä½†æ˜¯å¦‚æœåé€€ï¼Œåœ¨ä¸‹é™ä¸€æ®µæ—¶é—´ä¹‹åå¯èƒ½ä¼šè¿æ¥æ›´é«˜çš„æ³¢å³°ï¼Œä½ è¯¥å¦‚ä½•é€‰æ‹©ã€‚</p><p>äºæ˜¯ï¼Œåœ¨å‚æ•°çš„æ¢ç´¢ä¸­è¦æŒæ¡ä¸€ä¸ªå¹³è¡¡ï¼š</p><p>å¼€å‘ï¼šåœ¨æ˜ç¡®çš„æ›²çº¿ä¸Šæ‰¬æ–¹å‘ç»§ç»­èµ°ï¼Œå¤§æ¦‚ç‡è·å¾—æ›´å¥½çš„ç»“æœï¼Œä½†æ˜¯å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚</p><p>æ¢ç´¢ï¼šé™¤äº†åœ¨æ›²çº¿ä¸Šæ‰¬çš„æ–¹å‘ï¼Œåœ¨å…¶å®ƒçš„åŒºåŸŸä¹Ÿä¸å¿˜å¯»æ‰¾</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114102651780.png" /></p><h2 id="ç»“æœåˆ†æ">3.4 ç»“æœåˆ†æ</h2><h3 id="mape">3.4.1 MAPE</h3><p><strong>å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®ï¼ˆMean Absolute PercentageErrorï¼‰</strong></p><p><span class="math display">\[M A P E=\frac{100 \%}{n}\sum_{i=1}^{n}\left|\frac{\hat{y}_{i}-y_{i}}{y_{i}}\right|\]</span></p><p>èŒƒå›´[0,+âˆ)ï¼ŒMAPE ä¸º0%è¡¨ç¤ºå®Œç¾æ¨¡å‹ï¼ŒMAPE å¤§äº 100%åˆ™è¡¨ç¤ºåŠ£è´¨æ¨¡å‹ã€‚</p><p>æ³¨æ„ï¼šå½“çœŸå®å€¼æœ‰æ•°æ®ç­‰äº0æ—¶ï¼Œå­˜åœ¨åˆ†æ¯0é™¤é—®é¢˜ï¼Œè¯¥å…¬å¼ä¸å¯ç”¨ï¼</p><h3 id="è°ƒå‚å‰ç»“æœåŠåˆ†æ">3.4.2 è°ƒå‚å‰ç»“æœåŠåˆ†æ</h3><h4 id="ä»£ç ">3.4.2.1 ä»£ç </h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">mlp &#x3D; MLPRegressor(hidden_layer_sizes&#x3D;(100), activation&#x3D;&#39;relu&#39;, solver&#x3D;&#39;adam&#39;, alpha&#x3D;0.0001, batch_size&#x3D;&#39;auto&#39;, learning_rate&#x3D;&#39;constant&#39;, learning_rate_init&#x3D;0.001, power_t&#x3D;0.5, max_iter&#x3D;200, shuffle&#x3D;True, random_state&#x3D;None, tol&#x3D;0.0001, verbose&#x3D;False, warm_start&#x3D;False, momentum&#x3D;0.9, nesterovs_momentum&#x3D;True, early_stopping&#x3D;False, validation_fraction&#x3D;0.1, beta_1&#x3D;0.9, beta_2&#x3D;0.999, epsilon&#x3D;1e-08, n_iter_no_change&#x3D;10, max_fun&#x3D;15000) #æ‰€æœ‰å‚æ•°é»˜è®¤mlp.fit(X_std, Y)MAPE &#x3D; -1*cross_val_score(mlp, X_std, Y, cv&#x3D;rkf,scoring&#x3D;&#39;neg_mean_absolute_percentage_error&#39;).mean()print(&#39;MAPE:&#39;,MAPE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="ç»“æœåŠåˆ†æ">3.4.2.2 ç»“æœåŠåˆ†æ</h4><p>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨<ahref="https://scikit-learn.org/stable/modules/classes.html#module-sklearn.neural_network"><code>sklearn.neural_network</code></a>.<ahref="https://scikit-learn.org/stable/modules/generated/sklearn.neural_network.MLPRegressor.html?highlight=mlp#sklearn.neural_network.MLPRegressor">MLPRegressor</a>ä¸­çš„æ‰€æœ‰é»˜è®¤å‚æ•°è®¾ç½®æ¥è®­ç»ƒæ¨¡å‹ï¼Œäº”æ¬¡äº”æŠ˜äº¤å‰éªŒè¯çš„å¹³å‡MAPEä¸ºï¼š0.2036462204885882</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114171851292.png" /></p><p>Fig.1 è°ƒå‚å‰æ®‹å·®å›¾</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114171902074.png" /></p><p>Fig.2 è°ƒå‚å‰é¢„æµ‹è¯¯å·®å›¾</p><p>æ®‹å·®æ˜¯å› å˜é‡æœªè¢«è‡ªå˜é‡è§£é‡Šçš„éƒ¨åˆ†ï¼Œçº¿æ€§æ¨¡å‹è¦æ±‚æ®‹å·®æœä»ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œä¸”åˆ†å¸ƒç±»å‹ä¸ºæ­£æ€åˆ†å¸ƒã€‚é€šè¿‡ä¸€ç³»åˆ—æ–¹æ³•åˆ¤æ–­æ®‹å·®æ˜¯å¦ç¬¦åˆè¿™ä¸€è¦æ±‚ï¼Œå¯ä»¥è¾¾åˆ°æ£€éªŒæ¨¡å‹æ˜¯å¦ç¬¦åˆç›¸åº”å‡è®¾çš„ç›®çš„ã€‚ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„R<sup>2</sup>åœ¨0.75å·¦å³ï¼Œè¯´æ˜æˆ‘ä»¬çš„æ¨¡å‹è®­ç»ƒç»“æœå…·æœ‰ä¸€å®šçš„å¯ä¿¡åº¦ï¼Œä½†å¹¶ä¸ç†æƒ³ã€‚ä¸‹é¢æˆ‘ä»¬è¿›è¡Œè°ƒå‚ï¼Œå°è¯•æé«˜å‡†ç¡®ç‡ã€‚</p><h3 id="ç½‘æ ¼æœç´¢è°ƒå‚">3.4.3 ç½‘æ ¼æœç´¢è°ƒå‚</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ‰‹åŠ¨è°ƒè¯•æ¨¡å‹ï¼Œå°†å„ä¸ªè¶…å‚æ•°é€ä¸€ä¿®æ”¹å¹¶æŸ¥çœ‹MAPEçš„å˜åŒ–ç»“æœï¼Œæœ€ç»ˆå¾—å‡º'<strong>hidden_layer_sizes</strong>'ï¼Œ'<strong>activation</strong>'ï¼Œ'<strong>solver</strong>'ï¼Œ'<strong>alpha</strong>'ï¼Œ'<strong>learning_rate</strong>'</p><p>è¿™äº”ä¸ªå¯¹ç»“æœå½±å“è¾ƒå¤§çš„å‚æ•°ã€‚</p><p>æœ€åæˆ‘ä»¬åˆ©ç”¨GridSearchCVç»“åˆä¸€äº›â€œç»éªŒç»“è®ºâ€æ¥æœç´¢å‡ºæœ€ä¼˜çš„è¶…å‚æ•°ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114222524771.png" /></p><h4 id="ä»£ç -1">3.4.3.1 ä»£ç </h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none"># è¶…å‚æ•°è°ƒä¼˜from sklearn.model_selection import GridSearchCVparameters &#x3D; &#123;&#39;hidden_layer_sizes&#39;: [(10,10,10,10,10),(20,20,20,20,20),(30,30,30,30,30),(40,40,40,40,40),(50,50,50,50,50),(60,60,60,60,60),(70,70,70,70,70),(80,80,80,80,80),(90,90,90,90,90),(100,100,100,100,100)], Â  Â  Â  Â  Â  Â  Â  Â &#39;activation&#39;: [&#39;identity&#39;, &#39;logistic&#39;,&#39;tanh&#39;, &#39;relu&#39;], Â  Â  Â  Â  Â  Â  Â  Â &#39;solver&#39;: [&#39;adam&#39;,&#39;lbgfs&#39;,&#39;sgd&#39;], Â  Â  Â  Â  Â  Â  Â  Â &#39;alpha&#39;: [0.0001, 0.001, 0.01, 0.1, 1,10,100], Â  Â  Â  Â  Â  Â  Â  Â &#39;learning_rate&#39;: [&#39;constant&#39;, &#39;invscaling&#39;, &#39;adaptive&#39;]&#125;grid &#x3D; GridSearchCV(mlp, parameters, cv&#x3D;rkf, scoring&#x3D;&#39;neg_mean_absolute_percentage_error&#39;,n_jobs&#x3D;-1)grid.fit(X_std, Y)print(&#39;æœ€ä¼˜å‚æ•°ï¼š&#39;,grid.best_params_)print(&#39;æœ€ä¼˜æ¨¡å‹å¾—åˆ†ï¼š&#39;,grid.best_score_)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="ç»“æœåŠåˆ†æ-1">3.4.3.2 ç»“æœåŠåˆ†æ</h4><ul><li><strong>æœ€ä¼˜å‚æ•°ï¼š {'activation': 'relu', 'alpha': 1,'hidden_layer_sizes': (100, 100, 100, 100, 100), 'learning_rate':'adaptive', 'solver': 'sgd'} </strong></li><li><strong>æœ€ä¼˜æ¨¡å‹å¾—åˆ†ï¼š 0.10669120458358475</strong></li></ul><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114221915446.png" /></p><p>Fig.3 è°ƒå‚åæ®‹å·®å›¾</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211114221934910.png" /></p><p>Fig.4 è°ƒå‚åé¢„æµ‹è¯¯å·®å›¾</p><p>ç»è¿‡ç½‘æ ¼æœç´¢æœ€ä¼˜å‚æ•°åï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¾—åˆ°å¤§å¹…åº¦æå‡ã€‚ä»ä¸Šå¯è§ï¼Œæˆ‘ä»¬çš„è®­ç»ƒå’Œæµ‹è¯•çš„R<sup>2</sup>å‡åœ¨0.98ä»¥ä¸Šï¼Œè¯´æ˜æ¨¡å‹å¯¹è®­ç»ƒé›†çš„æ‹Ÿåˆæ•ˆæœå’Œæ³›åŒ–èƒ½åŠ›éƒ½å¾ˆå¼ºã€‚</p><h1 id="å››æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·">å››ã€æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·</h1><h2 id="ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹">4.1 ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹</h2><p>ç®€å•çš„ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol type="1"><li><strong>å®šä¹‰ä¸€ä¸ªåŒ…å«å¤šä¸ªå¯å­¦ä¹ å‚æ•°ï¼ˆæƒé‡ï¼‰çš„ç¥ç»ç½‘ç»œï¼›</strong></li><li><strong>å¯¹è¾“å…¥çš„æ•°æ®é›†è¿›è¡Œè¿­ä»£è®¡ç®—ï¼›</strong></li><li><strong>é€šè¿‡å¤šå±‚ç½‘ç»œç»“æ„æ¥å¤„ç†è¾“å…¥æ•°æ®ï¼›</strong></li><li><strong>è®¡ç®—æŸå¤±å€¼ï¼ˆè¾“å‡ºå€¼ä¸ç›®æ ‡å€¼çš„å·®å€¼ï¼‰ï¼›</strong></li><li><strong>åå‘ä¼ æ’­æ¢¯åº¦åˆ°ç¥ç»ç½‘ç»œçš„å‚æ•°ä¸­ï¼›</strong></li><li><strong>æ ¹æ®æ›´æ–°è§„åˆ™æ¥æ›´æ–°ç½‘ç»œä¸­çš„æƒé‡å€¼ã€‚</strong></li></ol><h2 id="ç¡®å®šè¶…å‚æ•°">4.2 ç¡®å®šè¶…å‚æ•°</h2><p>å…¶ä¸­ï¼Œå¦‚ä½•å®šä¹‰ä¸€ä¸ªåŒ…å«å¤šä¸ªå¯å­¦ä¹ å‚æ•°çš„ç¥ç»ç½‘ç»œï¼ˆå³å¦‚ä½•ç¡®å®šæ¨¡å‹çš„è¶…å‚æ•°ï¼‰æ˜¯é‡ç‚¹ï¼Œä¼šå½±å“ç¥ç»ç½‘ç»œå­¦ä¹ é€Ÿåº¦å’Œæœ€åç»“æœã€‚æˆ‘ä»¬ç¡®å®šè¶…å‚æ•°çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>â‘ æˆ‘ä»¬æ ¹æ®ç»éªŒç»“è®ºæ‰‹åŠ¨è°ƒè¯•æ¨¡å‹ï¼Œå°†å„ä¸ªè¶…å‚æ•°é€ä¸€ä¿®æ”¹å¹¶æŸ¥çœ‹MAPEçš„å˜åŒ–ç»“æœï¼Œæœ€ç»ˆå¾—å‡º'<strong>hidden_layer_sizes</strong>'ï¼Œ'<strong>activation</strong>'ï¼Œ'<strong>solver</strong>'ï¼Œ'<strong>alpha</strong>'ï¼Œ</p><p>'<strong>learning_rate</strong>'è¿™äº”ä¸ªå¯¹ç»“æœå½±å“è¾ƒå¤§çš„å‚æ•°ã€‚</p><p>â‘¡æœé›†â€œç»éªŒæ€»ç»“â€çš„èµ„æ–™åï¼Œæˆ‘ä»¬ç”¨ç½‘æ ¼æœç´¢æ³•å¯¹ä¸‹åˆ—è¶…å‚æ•°è¿›è¡Œæ’åˆ—ç»„åˆï¼Œå¾—åˆ°10*****4*****3*****7*****3=2520ç§è¶…å‚æ•°çš„æ’åˆ—ç»„åˆæ–¹å¼ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">parameters &#x3D; &#123;&#39;hidden_layer_sizes&#39;: [(10,10,10,10,10),(20,20,20,20,20),(30,30,30,30,30),(40,40,40,40,40),(50,50,50,50,50),(60,60,60,60,60),(70,70,70,70,70),(80,80,80,80,80),(90,90,90,90,90),(100,100,100,100,100)], Â  Â  Â  Â  Â  Â  Â  Â &#39;activation&#39;: [&#39;identity&#39;, &#39;logistic&#39;,&#39;tanh&#39;, &#39;relu&#39;], Â  Â  Â  Â  Â  Â  Â  Â &#39;solver&#39;: [&#39;adam&#39;,&#39;lbgfs&#39;,&#39;sgd&#39;], Â  Â  Â  Â  Â  Â  Â  Â &#39;alpha&#39;: [0.0001, 0.001, 0.01, 0.1, 1,10,100], Â  Â  Â  Â  Â  Â  Â  Â &#39;learning_rate&#39;: [&#39;constant&#39;, &#39;invscaling&#39;, &#39;adaptive&#39;]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>â‘¢ä½¿ç”¨äº”æ¬¡äº”æŠ˜å°†æ•°æ®åˆ’åˆ†ä¸º25ä»½ï¼ŒæŠŠä¸Šè¿°2520ç§è¶…å‚æ•°çš„ç»„åˆéƒ½è·‘ä¸€éæ•°æ®ï¼ˆè®¡ç®—ç¥ç»ç½‘ç»œä¸­çš„æœ€ä½³çš„å‚æ•°ç”¨çš„æ˜¯è¯¯å·®é€†ä¼ æ’­ç®—æ³•ï¼‰ï¼Œæ¯ä¸€ä¸ªç»„åˆéƒ½ä¼šå¾—åˆ°25ä¸ªMAPEå€¼ï¼Œå–å¹³å‡ï¼›ä¹‹å2520ä»½MAPEä¸­çš„æœ€å°å€¼å¯¹åº”çš„è¶…å‚æ•°ç»„åˆå³ä¸ºæˆ‘ä»¬é€‰å®šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚</p><h2 id="é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•">4.3 é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•</h2><p>åœ¨æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆç‰¹åˆ«æ˜¯æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼‰çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹æ˜¯éå¸¸å®¹æ˜“è¿‡æ‹Ÿåˆçš„ã€‚æ·±åº¦å­¦ä¹ æ¨¡å‹åœ¨ä¸æ–­çš„è®­ç»ƒè¿‡ç¨‹ä¸­è®­ç»ƒè¯¯å·®ä¼šé€æ¸é™ä½ï¼Œä½†æµ‹è¯•è¯¯å·®çš„èµ°åŠ¿åˆ™ä¸ä¸€å®šã€‚</p><p>â‘ æ­£åˆ™åŒ–æ–¹æ³•ã€‚æ­£åˆ™åŒ–æ–¹æ³•åŒ…æ‹¬L0æ­£åˆ™ã€L1æ­£åˆ™å’ŒL2æ­£åˆ™ï¼Œè€Œæ­£åˆ™ä¸€èˆ¬æ˜¯åœ¨ç›®æ ‡å‡½æ•°ä¹‹ååŠ ä¸Šå¯¹äºçš„èŒƒæ•°ã€‚ä½†æ˜¯åœ¨æœºå™¨å­¦ä¹ ä¸­ä¸€èˆ¬ä½¿ç”¨L2æ­£åˆ™ã€‚</p><p>â‘¡æ•°æ®å¢å¼ºï¼ˆDataaugmentationï¼‰ï¼Œå¢å¤§æ•°æ®çš„è®­ç»ƒé‡ï¼›è¿˜æœ‰ä¸€ä¸ªåŸå› å°±æ˜¯æˆ‘ä»¬ç”¨äºè®­ç»ƒçš„æ•°æ®é‡å¤ªå°å¯¼è‡´çš„ï¼Œè®­ç»ƒæ•°æ®å æ€»æ•°æ®çš„æ¯”ä¾‹è¿‡å°ã€‚</p><p>â‘¢é‡æ–°æ¸…æ´—æ•°æ®ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆçš„ä¸€ä¸ªåŸå› ä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®ä¸çº¯å¯¼è‡´çš„ï¼Œå¦‚æœå‡ºç°äº†è¿‡æ‹Ÿåˆå°±éœ€è¦æˆ‘ä»¬é‡æ–°æ¸…æ´—æ•°æ®ã€‚</p><p>â‘£æå‰ç»ˆæ­¢æ³•ï¼ˆEarlystoppingï¼‰ï¼Œå¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒçš„è¿‡ç¨‹å³æ˜¯å¯¹æ¨¡å‹çš„å‚æ•°è¿›è¡Œå­¦ä¹ æ›´æ–°çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªå‚æ•°å­¦ä¹ çš„è¿‡ç¨‹å¾€å¾€ä¼šç”¨åˆ°ä¸€äº›è¿­ä»£æ–¹æ³•ï¼Œå¦‚æ¢¯åº¦ä¸‹é™ï¼ˆGradientdescentï¼‰å­¦ä¹ ç®—æ³•ã€‚æå‰ç»ˆæ­¢æ³•ä¾¿æ˜¯ä¸€ç§è¿­ä»£æ¬¡æ•°æˆªæ–­çš„æ–¹æ³•æ¥é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼Œå³åœ¨æ¨¡å‹å¯¹è®­ç»ƒæ•°æ®é›†è¿­ä»£æ”¶æ•›ä¹‹å‰åœæ­¢è¿­ä»£æ¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p><p>â‘¤ä¸¢å¼ƒæ³•ï¼ˆDropoutï¼‰ã€‚è¿™ä¸ªæ–¹æ³•åœ¨ç¥ç»ç½‘ç»œé‡Œé¢å¾ˆå¸¸ç”¨ã€‚ä¸¢å¼ƒæ³•æ˜¯ImageNetä¸­æå‡ºçš„ä¸€ç§æ–¹æ³•ï¼Œé€šä¿—ä¸€ç‚¹è®²å°±æ˜¯ä¸¢å¼ƒæ³•åœ¨è®­ç»ƒçš„æ—¶å€™è®©ç¥ç»å…ƒä»¥ä¸€å®šçš„æ¦‚ç‡ä¸å·¥ä½œã€‚</p><p>ä»¥ä¸‹å†…å®¹å‡ºè‡ª<strong>å¤æ—¦å¤§å­¦é‚±é”¡é¹æ•™æˆè‘—ä½œ</strong>ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹</p><h1 id="ä¸€æè¿°æ‰€ä½¿ç”¨çš„ç¥ç»ç½‘ç»œæ¨¡å‹-1">ä¸€ã€æè¿°æ‰€ä½¿ç”¨çš„ç¥ç»ç½‘ç»œæ¨¡å‹</h1><h2 id="äººè„‘ç¥ç»ç½‘ç»œ">1.1 äººè„‘ç¥ç»ç½‘ç»œ</h2><p>äººç±»å¤§è„‘æ˜¯äººä½“æœ€å¤æ‚çš„å™¨å®˜ï¼Œç”±ç¥ç»å…ƒã€ç¥ç»èƒ¶è´¨ç»†èƒã€ç¥ç»å¹²ç»†èƒå’Œè¡€ç®¡ç»„æˆï¼å…¶ä¸­ï¼Œç¥ç»å…ƒï¼ˆNeuronï¼‰ï¼Œä¹Ÿå«ç¥ç»ç»†èƒï¼ˆNerveCellï¼‰ï¼Œæ˜¯æºå¸¦å’Œä¼ è¾“ä¿¡æ¯çš„ç»†èƒï¼Œæ˜¯äººè„‘ç¥ç»ç³»ç»Ÿä¸­æœ€åŸºæœ¬çš„å•å…ƒï¼äººè„‘ç¥ç»ç³»ç»Ÿæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„ç»„ç»‡ï¼ŒåŒ…å«è¿‘860äº¿ä¸ªç¥ç»å…ƒï¼Œæ¯ä¸ªç¥ç»å…ƒæœ‰ä¸Šåƒä¸ªçªè§¦å’Œå…¶ä»–ç¥ç»å…ƒç›¸è¿æ¥ï¼è¿™äº›ç¥ç»å…ƒå’Œå®ƒä»¬ä¹‹é—´çš„è¿æ¥å½¢æˆå·¨å¤§çš„å¤æ‚ç½‘ç»œï¼Œå…¶ä¸­ç¥ç»è¿æ¥çš„æ€»é•¿åº¦å¯è¾¾æ•°åƒå…¬é‡Œï¼æˆ‘ä»¬äººé€ çš„å¤æ‚ç½‘ç»œï¼Œæ¯”å¦‚å…¨çƒçš„è®¡ç®—æœºç½‘ç»œï¼Œå’Œå¤§è„‘ç¥ç»ç½‘ç»œç›¸æ¯”è¦â€œç®€å•â€å¾—å¤šï¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119093130413.png" /></p><h2 id="äººå·¥ç¥ç»ç½‘ç»œ">1.2 äººå·¥ç¥ç»ç½‘ç»œ</h2><p>äººå·¥ç¥ç»ç½‘ç»œæ˜¯ä¸ºæ¨¡æ‹Ÿäººè„‘ç¥ç»ç½‘ç»œè€Œè®¾è®¡çš„ä¸€ç§è®¡ç®—æ¨¡å‹ï¼Œå®ƒä»ç»“æ„ã€å®ç°æœºç†å’ŒåŠŸèƒ½ä¸Šæ¨¡æ‹Ÿäººè„‘ç¥ç»ç½‘ç»œï¼äººå·¥ç¥ç»ç½‘ç»œä¸ç”Ÿç‰©ç¥ç»å…ƒç±»ä¼¼ï¼Œ ç”±å¤šä¸ªèŠ‚ç‚¹ï¼ˆ äººå·¥ç¥ç»å…ƒï¼‰ äº’ç›¸è¿æ¥è€Œæˆï¼Œå¯ä»¥ç”¨æ¥å¯¹æ•°æ®ä¹‹é—´çš„å¤æ‚å…³ç³»è¿›è¡Œå»ºæ¨¡ï¼ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥è¢«èµ‹äºˆäº†ä¸åŒçš„æƒé‡ï¼Œæ¯ä¸ªæƒé‡ä»£è¡¨äº†ä¸€ä¸ªèŠ‚ç‚¹å¯¹å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å½±å“å¤§å°ï¼æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ç§ç‰¹å®šå‡½æ•°ï¼Œ æ¥è‡ªå…¶ä»–èŠ‚ç‚¹çš„ä¿¡æ¯ç»è¿‡å…¶ç›¸åº”çš„æƒé‡ç»¼åˆè®¡ç®—ï¼Œè¾“å…¥åˆ°ä¸€ä¸ªæ¿€æ´»å‡½æ•°ä¸­å¹¶å¾—åˆ°ä¸€ä¸ªæ–°çš„æ´»æ€§å€¼ï¼ˆ å…´å¥‹æˆ–æŠ‘åˆ¶ï¼‰ï¼ä»ç³»ç»Ÿè§‚ç‚¹çœ‹ï¼Œäººå·¥ç¥ç»å…ƒç½‘ç»œæ˜¯ç”±å¤§é‡ç¥ç»å…ƒé€šè¿‡æå…¶ä¸°å¯Œå’Œå®Œå–„çš„è¿æ¥è€Œæ„æˆçš„è‡ªé€‚åº”éçº¿æ€§åŠ¨æ€ç³»ç»Ÿï¼è™½ç„¶æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°æ„é€ ä¸€ä¸ªäººå·¥ç¥ç»ç½‘ç»œï¼Œä½†æ˜¯å¦‚ä½•è®©äººå·¥ç¥ç»ç½‘ç»œå…·æœ‰å­¦ä¹ èƒ½åŠ›å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ï¼æ—©æœŸçš„ç¥ç»ç½‘ç»œæ¨¡å‹å¹¶ä¸å…·å¤‡å­¦ä¹ èƒ½åŠ›ï¼é¦–ä¸ªå¯å­¦ä¹ çš„äººå·¥ç¥ç»ç½‘ç»œæ˜¯èµ«å¸ƒç½‘ç»œï¼Œé‡‡ç”¨ä¸€ç§åŸºäºèµ«å¸ƒè§„åˆ™çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼æ„ŸçŸ¥å™¨æ˜¯æœ€æ—©çš„å…·æœ‰æœºå™¨å­¦ä¹ æ€æƒ³çš„ç¥ç»ç½‘ç»œï¼Œä½†å…¶å­¦ä¹ æ–¹æ³•æ— æ³•æ‰©å±•åˆ°å¤šå±‚çš„ç¥ç»ç½‘ç»œä¸Šï¼ ç›´åˆ° 1980 å¹´å·¦å³ï¼Œåå‘ä¼ æ’­ç®—æ³•æ‰æœ‰æ•ˆåœ°è§£å†³äº†å¤šå±‚ç¥ ç»ç½‘ç»œçš„å­¦ä¹ é—®é¢˜ï¼Œå¹¶æˆä¸ºæœ€ä¸ºæµè¡Œçš„ç¥ç»ç½‘ç»œå­¦ä¹ ç®—æ³•ï¼</p><p>äººå·¥ç¥ç»ç½‘ç»œè¯ç”Ÿä¹‹åˆå¹¶ä¸æ˜¯ç”¨æ¥è§£å†³æœºå™¨å­¦ä¹ é—®é¢˜ï¼ç”±äºäººå·¥ç¥ç»ç½‘ç»œå¯ä»¥ç”¨ä½œä¸€ä¸ªé€šç”¨çš„å‡½æ•°é€¼è¿‘å™¨ï¼ˆä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œå¯ä»¥é€¼è¿‘ä»»æ„çš„å‡½æ•°ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†äººå·¥ç¥ç»ç½‘ç»œçœ‹ä½œä¸€ä¸ªå¯å­¦ä¹ çš„å‡½æ•°ï¼Œå¹¶å°†å…¶åº”ç”¨åˆ°æœºå™¨å­¦ä¹ ä¸­ï¼ ç†è®ºä¸Šï¼Œ åªè¦æœ‰è¶³å¤Ÿçš„è®­ç»ƒæ•°æ®å’Œç¥ç»å…ƒæ•°é‡ï¼Œäººå·¥ç¥ç»ç½‘ç»œå°±å¯ä»¥å­¦åˆ°å¾ˆå¤šå¤æ‚çš„å‡½æ•°ï¼æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªäººå·¥ç¥ç»ç½‘ç»œå¡‘é€ å¤æ‚å‡½æ•°çš„èƒ½åŠ›ç§°ä¸ºç½‘ç»œå®¹é‡ï¼ˆ NetworkCapacityï¼‰ï¼Œ è¿™ä¸å¯ä»¥è¢«å‚¨å­˜åœ¨ç½‘ç»œä¸­çš„ä¿¡æ¯çš„å¤æ‚åº¦ä»¥åŠæ•°é‡ç›¸å…³ï¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119094549829.png" /></p><h2 id="å‰é¦ˆç¥ç»ç½‘ç»œ">1.3 å‰é¦ˆç¥ç»ç½‘ç»œ</h2><p>åœ¨æœ¬æ¬¡ä½œä¸šä¸­ï¼Œ æˆ‘ä»¬ä¸»è¦é‡‡ç”¨è¯¯å·®åå‘ä¼ æ’­æ¥è¿›è¡Œå­¦ä¹ çš„ç¥ç»ç½‘ç»œï¼Œå³ä½œä¸ºä¸€ç§æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç¥ç»ç½‘ç»œï¼ä»æœºå™¨å­¦ä¹ çš„è§’åº¦æ¥çœ‹ï¼Œç¥ç»ç½‘ç»œä¸€èˆ¬å¯ä»¥çœ‹ä½œä¸€ä¸ªéçº¿æ€§æ¨¡å‹ï¼Œå…¶åŸºæœ¬ç»„æˆå•å…ƒä¸ºå…·æœ‰éçº¿æ€§æ¿€æ´»å‡½æ•°çš„ç¥ç»å…ƒï¼Œ é€šè¿‡å¤§é‡ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥ï¼Œä½¿å¾—ç¥ç»ç½‘ç»œæˆä¸ºä¸€ç§é«˜åº¦éçº¿æ€§çš„æ¨¡å‹ï¼ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥æƒé‡å°±æ˜¯éœ€è¦å­¦ä¹ çš„å‚æ•°ï¼Œå¯ä»¥åœ¨æœºå™¨å­¦ä¹ çš„æ¡†æ¶ä¸‹é€šè¿‡æ¢¯åº¦ä¸‹é™æ–¹æ³•æ¥è¿›è¡Œå­¦ä¹ ï¼</p><h3 id="ç¥ç»å…ƒ">1.3.1 ç¥ç»å…ƒ</h3><p>1943 å¹´ï¼Œ å¿ƒç†å­¦å®¶ McCulloch å’Œæ•°å­¦å®¶ Pitts æ ¹æ®ç”Ÿç‰©ç¥ç»å…ƒçš„ç»“æ„ï¼Œæå‡ºäº†ä¸€ç§éå¸¸ç®€å•çš„ç¥ç»å…ƒæ¨¡å‹ï¼Œ MPç¥ç»å…ƒï¼ ç°ä»£ç¥ç»ç½‘ç»œä¸­çš„ç¥ç»å…ƒå’Œ MPç¥ç»å…ƒçš„ç»“æ„å¹¶æ— å¤ªå¤šå˜åŒ–ï¼ ä¸åŒçš„æ˜¯ï¼Œ MP ç¥ç»å…ƒä¸­çš„æ¿€æ´»å‡½æ•°ğ‘“ä¸º0æˆ–1çš„é˜¶è·ƒå‡½æ•°ï¼Œè€Œç°ä»£ç¥ç»å…ƒä¸­çš„æ¿€æ´»å‡½æ•°é€šå¸¸è¦æ±‚æ˜¯è¿ç»­å¯å¯¼çš„å‡½æ•°ï¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119205516708.png" /></p><p>å‡€è¾“å…¥ <strong>z</strong> åœ¨ç»è¿‡ä¸€ä¸ªéçº¿æ€§å‡½æ•° $f() $ å,å¾—åˆ°ç¥ç»å…ƒçš„æ´»æ€§å€¼ ( Activation ) <strong>a</strong> ,</p><p><span class="math display">\[a=f(z)\]</span></p><p>å…¶ä¸­éçº¿æ€§å‡½æ•° $f() $ ç§°ä¸ºæ¿€æ´»å‡½æ•° ( Activation Function ).</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119100021496.png" /></p><h3 id="æ¿€æ´»å‡½æ•°-1">1.3.2 æ¿€æ´»å‡½æ•°</h3><ol type="1"><li>æ¿€æ´»å‡½æ•°åœ¨ç¥ç»å…ƒä¸­éå¸¸é‡è¦çš„ã€‚ä¸ºäº†å¢å¼ºç½‘ç»œçš„è¡¨ç¤ºèƒ½åŠ›å’Œå­¦ä¹ èƒ½åŠ›ï¼Œæ¿€æ´»å‡½æ•°éœ€è¦å…·å¤‡ä»¥ä¸‹å‡ ç‚¹æ€§è´¨:è¿ç»­å¹¶å¯å¯¼(å…è®¸å°‘æ•°ç‚¹ä¸Šä¸å¯å¯¼)çš„éçº¿æ€§å‡½æ•°.å¯å¯¼çš„æ¿€æ´»å‡½æ•°å¯ä»¥ç›´æ¥åˆ©ç”¨æ•°å€¼ä¼˜åŒ–çš„æ–¹æ³•æ¥å­¦ä¹ ç½‘ç»œå‚æ•°.</li><li>æ¿€æ´»å‡½æ•°åŠå…¶å¯¼å‡½æ•°è¦å°½å¯èƒ½çš„ç®€å•,æœ‰åˆ©äºæé«˜ç½‘ç»œè®¡ç®—æ•ˆç‡.</li><li>æ¿€æ´»å‡½æ•°çš„å¯¼å‡½æ•°çš„å€¼åŸŸè¦åœ¨ä¸€ä¸ªåˆé€‚çš„åŒºé—´å†…,ä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°,å¦åˆ™ä¼šå½±å“è®­ç»ƒçš„æ•ˆç‡å’Œç¨³å®šæ€§.</li></ol><p>ä¸‹é¢ä»‹ç»å‡ ç§åœ¨ç¥ç»ç½‘ç»œä¸­å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°.</p><h4 id="sigmoidå‹å‡½æ•°">1.3.2.1 Sigmoidå‹å‡½æ•°</h4><p>Sigmoidå‹å‡½æ•°æ˜¯æŒ‡ä¸€ç±»Så‹æ›²çº¿å‡½æ•°,ä¸ºä¸¤ç«¯é¥±å’Œå‡½æ•°.å¸¸ç”¨çš„Sigmoidå‹å‡½æ•°æœ‰Logisticå‡½æ•°å’ŒTanh å‡½æ•°.</p><h5 id="logistic">1.3.2.1.1 Logistic</h5><p>Logistic å‡½æ•°å®šä¹‰ä¸º</p><p><span class="math display">\[\sigma(x)=\frac{1}{1+\exp (-x)}\]</span></p><p>Logistic å‡½æ•°å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªâ€œæŒ¤å‹â€ å‡½æ•°ï¼Œ æŠŠä¸€ä¸ªå®æ•°åŸŸçš„è¾“å…¥â€œæŒ¤å‹â€åˆ°(0, 1)ï¼ å½“è¾“å…¥å€¼åœ¨0é™„è¿‘æ—¶ï¼Œ Sigmoidå‹å‡½æ•°è¿‘ä¼¼ä¸ºçº¿æ€§å‡½æ•°ï¼›å½“è¾“å…¥å€¼é è¿‘ä¸¤ç«¯æ—¶ï¼Œ å¯¹è¾“å…¥è¿›è¡ŒæŠ‘åˆ¶ï¼ è¾“å…¥è¶Šå°ï¼Œ è¶Šæ¥è¿‘äº 0ï¼› è¾“å…¥è¶Šå¤§ï¼Œè¶Šæ¥è¿‘äº 1ï¼ è¿™æ ·çš„ç‰¹ç‚¹ä¹Ÿå’Œç”Ÿç‰©ç¥ç»å…ƒç±»ä¼¼ï¼Œ å¯¹ä¸€äº›è¾“å…¥ä¼šäº§ç”Ÿå…´å¥‹ï¼ˆè¾“å‡ºä¸º1ï¼‰ï¼Œ å¯¹å¦ä¸€äº›è¾“å…¥äº§ç”ŸæŠ‘åˆ¶ï¼ˆ è¾“å‡ºä¸º0ï¼‰ï¼å’Œæ„ŸçŸ¥å™¨ä½¿ç”¨çš„é˜¶è·ƒæ¿€æ´»å‡½æ•°ç›¸æ¯”ï¼ŒLogisticå‡½æ•°æ˜¯è¿ç»­å¯å¯¼çš„ï¼Œå…¶æ•°å­¦æ€§è´¨æ›´å¥½ï¼å› ä¸ºLogisticå‡½æ•°çš„æ€§è´¨ï¼Œä½¿å¾—è£…å¤‡äº†Logisticæ¿€æ´»å‡½æ•°çš„ç¥ç»å…ƒå…·æœ‰ä»¥ä¸‹ä¸¤ç‚¹æ€§è´¨ï¼š</p><ol type="1"><li>å…¶è¾“å‡ºç›´æ¥å¯ä»¥çœ‹ä½œæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—ç¥ç»ç½‘ç»œå¯ä»¥æ›´å¥½åœ°å’Œç»Ÿè®¡å­¦ä¹ æ¨¡å‹è¿›è¡Œç»“åˆï¼</li><li>å…¶å¯ä»¥çœ‹ä½œä¸€ä¸ªè½¯æ€§é—¨ï¼ˆ Soft Gateï¼‰ï¼Œç”¨æ¥æ§åˆ¶å…¶ä»–ç¥ç»å…ƒè¾“å‡ºä¿¡æ¯çš„æ•°é‡.</li></ol><h5 id="tanh">1.3.2.1.2 Tanh</h5><p>Tanh å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ Sigmoid å‹å‡½æ•°. å…¶å®šä¹‰ä¸º</p><p><span class="math display">\[\tanh (x)=\frac{\exp (x)-\exp (-x)}{\exp (x)+\exp (-x)}\]</span></p><p>Tanh å‡½æ•°å¯ä»¥çœ‹ä½œæ”¾å¤§å¹¶å¹³ç§»çš„ Logistic å‡½æ•°, å…¶å€¼åŸŸæ˜¯ (-1,1) .</p><p><span class="math display">\[\tanh (x)=2 \sigma(2 x)-1\]</span></p><p>ä¸‹å›¾ç»™å‡ºäº† Logistic å‡½æ•°å’Œ Tanh å‡½æ•°çš„å½¢çŠ¶ï¼ Tanhå‡½æ•°çš„è¾“å‡ºæ˜¯é›¶ä¸­å¿ƒåŒ–çš„ï¼ˆ Zero-Centeredï¼‰ï¼Œ è€Œ Logistic å‡½æ•°çš„è¾“å‡ºæ’å¤§äº0ï¼ éé›¶ä¸­å¿ƒåŒ–çš„è¾“å‡ºä¼šä½¿å¾—å…¶åä¸€å±‚çš„ç¥ç»å…ƒçš„è¾“å…¥å‘ç”Ÿåç½®åç§»ï¼ˆ BiasShiftï¼‰ï¼Œ å¹¶è¿›ä¸€æ­¥ä½¿å¾—æ¢¯åº¦ä¸‹é™çš„æ”¶æ•›é€Ÿåº¦å˜æ…¢ .</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119100752525.png" /></p><p>Logisticå‡½æ•°å’ŒTanhå‡½æ•°éƒ½æ˜¯Sigmoidå‹å‡½æ•°ï¼Œ å…·æœ‰é¥±å’Œæ€§ï¼Œä½†æ˜¯è®¡ç®—å¼€é”€è¾ƒå¤§ï¼ å› ä¸ºè¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ˜¯åœ¨ä¸­é—´ï¼ˆ 0é™„è¿‘ï¼‰ è¿‘ä¼¼çº¿æ€§ï¼Œä¸¤ç«¯é¥±å’Œï¼ å› æ­¤ï¼Œ è¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡åˆ†æ®µå‡½æ•°æ¥è¿‘ä¼¼ï¼</p><p>ä»¥ Logistic å‡½æ•° $ (x) $ ä¸ºä¾‹, å…¶å¯¼æ•°ä¸º $^{}(x)=(x)(1-(x)) $.Logistic å‡½æ•° åœ¨ 0 é™„è¿‘çš„ä¸€é˜¶æ³°å‹’å±•å¼€ ( Taylor expansion ) ä¸º</p><p><span class="math display">\[\begin{aligned}g_{l}(x) &amp; \approx \sigma(0)+x \times \sigma^{\prime}(0) \\&amp;=0.25 x+0.5\end{aligned}\]</span></p><p>è¿™æ · Logistic å‡½æ•°å¯ä»¥ç”¨åˆ†æ®µå‡½æ•° hard-logistic (x) æ¥è¿‘ä¼¼.</p><p><span class="math display">\[\begin{aligned}\operatorname{hard}-\operatorname{logistic}(x)&amp;=\left\{\begin{array}{ll}1 &amp; g_{l}(x) \geq 1 \\g_{l} &amp; 0&lt;g_{l}(x)&lt;1 \\0 &amp; g_{l}(x) \leq 0\end{array}\right.\\&amp;=\max \left(\min \left(g_{l}(x), 1\right), 0\right) \\&amp;=\max (\min (0.25 x+0.5,1), 0)\end{aligned}\]</span></p><p>åŒæ ·, Tanh å‡½æ•°åœ¨ 0 é™„è¿‘çš„ä¸€é˜¶æ³°å‹’å±•å¼€ä¸º</p><p><span class="math display">\[\begin{aligned}g_{t}(x) &amp; \approx \tanh (0)+x \times \tanh ^{\prime}(0) \\&amp;=x\end{aligned}\]</span></p><p>è¿™æ · $ $ å‡½æ•°ä¹Ÿå¯ä»¥ç”¨åˆ†æ®µå‡½æ•°$ -(x) $æ¥è¿‘ä¼¼.</p><p><span class="math display">\[\begin{aligned}\operatorname{hard}-\tanh (x) &amp;=\max \left(\min \left(g_{t}(x),1\right),-1\right) \\&amp;=\max (\min (x, 1),-1)\end{aligned}\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119101318245.png" /></p><h4 id="reluå‡½æ•°">1.3.2.2 ReLUå‡½æ•°</h4><p>ReLUï¼ˆ Rectified Linear Unitï¼Œ ä¿®æ­£çº¿æ€§å•å…ƒï¼‰ [Nair et al., 2010]ï¼Œä¹Ÿå«Rectifierå‡½æ•°[Glorot et al., 2011]ï¼Œæ˜¯ç›®å‰æ·±åº¦ç¥ç»ç½‘ç»œä¸­ç»å¸¸ä½¿ç”¨çš„æ¿€æ´»å‡½æ•°ï¼ReLUå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ–œå¡ï¼ˆ rampï¼‰å‡½æ•°ï¼Œ å®šä¹‰ä¸º</p><p><span class="math display">\[\begin{aligned}\operatorname{ReLU}(x) &amp;=\left\{\begin{array}{ll}x &amp; x \geq 0 \\0 &amp; x&lt;0\end{array}\right.\\&amp;=\max (0, x)\end{aligned}\]</span></p><p><strong>ä¼˜ç‚¹</strong> é‡‡ç”¨ ReLU çš„ç¥ç»å…ƒåªéœ€è¦è¿›è¡ŒåŠ ã€ä¹˜å’Œæ¯”è¾ƒçš„æ“ä½œï¼Œ è®¡ç®—ä¸Šæ›´åŠ é«˜æ•ˆï¼ReLU å‡½æ•°ä¹Ÿè¢«è®¤ä¸ºå…·æœ‰ç”Ÿç‰©å­¦åˆç†æ€§ï¼ˆBiological Plausibilityï¼‰ï¼Œ æ¯”å¦‚å•ä¾§æŠ‘åˆ¶ã€å®½å…´å¥‹è¾¹ç•Œï¼ˆå³å…´å¥‹ç¨‹åº¦å¯ä»¥éå¸¸é«˜ï¼‰ï¼ åœ¨ç”Ÿç‰©ç¥ç»ç½‘ç»œä¸­ï¼ŒåŒæ—¶å¤„äºå…´å¥‹çŠ¶æ€çš„ç¥ç»å…ƒéå¸¸ç¨€ç–ï¼ äººè„‘ä¸­åœ¨åŒä¸€æ—¶åˆ»å¤§æ¦‚åªæœ‰ 1% âˆ¼ 4%çš„ç¥ç»å…ƒå¤„äºæ´»è·ƒçŠ¶æ€ï¼ Sigmoid å‹æ¿€æ´»å‡½æ•°ä¼šå¯¼è‡´ä¸€ä¸ªéç¨€ç–çš„ç¥ç»ç½‘ç»œï¼Œ è€ŒReLU å´å…·æœ‰å¾ˆå¥½çš„ç¨€ç–æ€§ï¼Œ å¤§çº¦50%çš„ç¥ç»å…ƒä¼šå¤„äºæ¿€æ´»çŠ¶æ€ï¼ åœ¨ä¼˜åŒ–æ–¹é¢ï¼Œç›¸æ¯”äºSigmoidå‹å‡½æ•°çš„ä¸¤ç«¯é¥±å’Œï¼Œ ReLUå‡½æ•°ä¸ºå·¦é¥±å’Œå‡½æ•°ï¼Œä¸”åœ¨ ğ‘¥ &gt; 0æ—¶å¯¼æ•°ä¸º 1ï¼Œ åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†ç¥ç»ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼ŒåŠ é€Ÿæ¢¯åº¦ä¸‹é™çš„æ”¶æ•›é€Ÿåº¦ï¼</p><p><strong>ç¼ºç‚¹</strong> ReLU å‡½æ•°çš„è¾“å‡ºæ˜¯éé›¶ä¸­å¿ƒåŒ–çš„ï¼Œç»™åä¸€å±‚çš„ç¥ç»ç½‘ç»œå¼•å…¥åç½®åç§»ï¼Œä¼šå½±å“æ¢¯åº¦ä¸‹é™çš„æ•ˆç‡ï¼æ­¤å¤–ï¼Œ ReLUç¥ç»å…ƒåœ¨è®­ç»ƒæ—¶æ¯”è¾ƒå®¹æ˜“â€œæ­»äº¡â€ï¼ åœ¨è®­ç»ƒæ—¶ï¼Œ å¦‚æœå‚æ•°åœ¨ä¸€æ¬¡ä¸æ°å½“çš„æ›´æ–°åï¼Œç¬¬ä¸€ä¸ªéšè—å±‚ä¸­çš„æŸä¸ª ReLU ç¥ç»å…ƒåœ¨æ‰€æœ‰çš„è®­ç»ƒæ•°æ®ä¸Šéƒ½ä¸èƒ½è¢«æ¿€æ´»ï¼Œé‚£ä¹ˆè¿™ä¸ªç¥ç»å…ƒè‡ªèº«å‚æ•°çš„æ¢¯åº¦æ°¸è¿œéƒ½ä¼šæ˜¯0ï¼Œåœ¨ä»¥åçš„è®­ç»ƒè¿‡ç¨‹ä¸­æ°¸è¿œä¸èƒ½è¢«æ¿€æ´»ï¼ è¿™ç§ç°è±¡ç§°ä¸ºæ­»äº¡ ReLU é—®é¢˜ï¼ˆ DyingReLU Problem ),å¹¶ä¸”ä¹Ÿæœ‰å¯èƒ½ä¼šå‘ç”Ÿåœ¨å…¶ä»–éšè—å±‚.</p><p>åœ¨å®é™…ä½¿ç”¨ä¸­,ä¸ºäº†é¿å…ä¸Šè¿°æƒ…å†µ,æœ‰å‡ ç§ ReLUçš„å˜ç§ä¹Ÿä¼šè¢«å¹¿æ³›ä½¿ç”¨.</p><h5 id="å¸¦æ³„éœ²çš„relu">1.3.2.2.1 å¸¦æ³„éœ²çš„ReLU</h5><p>å¸¦æ³„éœ²çš„ReLUï¼ˆ Leaky ReLUï¼‰ åœ¨è¾“å…¥ ğ‘¥ &lt; 0æ—¶ï¼Œ ä¿æŒä¸€ä¸ªå¾ˆå°çš„æ¢¯åº¦ğ›¾ï¼è¿™æ ·å½“ç¥ç»å…ƒéæ¿€æ´»æ—¶ä¹Ÿèƒ½æœ‰ä¸€ä¸ªéé›¶çš„æ¢¯åº¦å¯ä»¥æ›´æ–°å‚æ•°ï¼Œé¿å…æ°¸è¿œä¸èƒ½è¢«æ¿€æ´»[Maas et al., 2013]ï¼ å¸¦æ³„éœ²çš„ReLUçš„å®šä¹‰å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\begin{aligned}\operatorname{LeakyReLU}(x) &amp;=\left\{\begin{array}{ll}x &amp; \text { if } x&gt;0 \\\gamma x &amp; \text { if } x \leq 0\end{array}\right.\\&amp;=\max (0, x)+\gamma \min (0, x)\end{aligned}\]</span></p><p>å…¶ä¸­ ğ›¾æ˜¯ä¸€ä¸ªå¾ˆå°çš„å¸¸æ•°ï¼Œ æ¯”å¦‚0.01ï¼ å½“ğ›¾ &lt; 1æ—¶ï¼Œå¸¦æ³„éœ²çš„ReLUä¹Ÿå¯ä»¥å†™ä¸º</p><p><span class="math display">\[\operatorname{LeakyReLU}(x)=\max (x, \gamma x)\]</span></p><p>ç›¸å½“äºæ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„maxoutå•å…ƒ .</p><h5 id="å¸¦å‚æ•°çš„relu">1.3.2.2.2 å¸¦å‚æ•°çš„ReLU</h5><p>å¸¦å‚æ•°çš„ ReLUï¼ˆ Parametric ReLUï¼Œ PReLUï¼‰ å¼•å…¥ä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°ï¼Œä¸åŒç¥ç»å…ƒå¯ä»¥æœ‰ä¸åŒçš„å‚æ•°ï¼ å¯¹äºç¬¬ ğ‘– ä¸ªç¥ç»å…ƒï¼Œ å…¶ PReLU çš„å®šä¹‰ä¸º</p><p><span class="math display">\[\begin{aligned}\operatorname{PReLU}_{i}(x) &amp;=\left\{\begin{array}{ll}x &amp; \text { if } x&gt;0 \\\gamma_{i} x &amp; \text { if } x \leq 0\end{array}\right.\\&amp;=\max (0, x)+\gamma_{i} \min (0, x)\end{aligned}\]</span></p><p>å…¶ä¸­ ğ›¾ğ‘– ä¸º ğ‘¥ â‰¤ 0 æ—¶å‡½æ•°çš„æ–œç‡ï¼ å› æ­¤ï¼Œ PReLU æ˜¯éé¥±å’Œå‡½æ•°ï¼ å¦‚æœ ğ›¾ğ‘– =0ï¼Œ é‚£ä¹ˆPReLUå°±é€€åŒ–ä¸ºReLUï¼ å¦‚æœğ›¾ğ‘– ä¸ºä¸€ä¸ªå¾ˆå°çš„å¸¸æ•°ï¼Œåˆ™PReLUå¯ä»¥çœ‹ä½œå¸¦æ³„éœ²çš„ReLUï¼ PReLU å¯ä»¥å…è®¸ä¸åŒç¥ç»å…ƒå…·æœ‰ä¸åŒçš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¸€ç»„ç¥ç»å…ƒå…±äº«ä¸€ä¸ªå‚æ•°ï¼</p><h5 id="eluå‡½æ•°">1.3.2.2.3 ELUå‡½æ•°</h5><p>ELUï¼ˆ Exponential Linear Unitï¼ŒæŒ‡æ•°çº¿æ€§å•å…ƒï¼‰æ˜¯ä¸€ä¸ªè¿‘ä¼¼çš„é›¶ä¸­å¿ƒåŒ–çš„éçº¿æ€§å‡½æ•°ï¼Œ å…¶å®šä¹‰ä¸º</p><p><span class="math display">\[\begin{aligned}\operatorname{ELU}(x) &amp;=\left\{\begin{array}{ll}x &amp; \text { if } x&gt;0 \\\gamma(\exp (x)-1) &amp; \text { if } x \leq 0\end{array}\right.\\&amp;=\max (0, x)+\min (0, \gamma(\exp (x)-1))\end{aligned}\]</span></p><p>å…¶ä¸­ ğ›¾ â‰¥ 0æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œ å†³å®šğ‘¥ â‰¤ 0æ—¶çš„é¥±å’Œæ›²çº¿ï¼Œå¹¶è°ƒæ•´è¾“å‡ºå‡å€¼åœ¨0é™„è¿‘ï¼</p><h5 id="softpluså‡½æ•°">1.3.2.2.4 Softpluså‡½æ•°</h5><p>Softplus å‡½æ•° å¯ä»¥çœ‹ä½œ Rectifier å‡½æ•°çš„å¹³æ»‘ç‰ˆæœ¬ï¼Œ å…¶å®šä¹‰ä¸º</p><p><span class="math display">\[\operatorname{Softplus}(x)=\log (1+\exp (x))\]</span></p><p>Softpluså‡½æ•°å…¶å¯¼æ•°åˆšå¥½æ˜¯Logisticå‡½æ•°ï¼Softpluså‡½æ•°è™½ç„¶ä¹Ÿå…·æœ‰å•ä¾§æŠ‘åˆ¶ã€å®½å…´å¥‹è¾¹ç•Œçš„ç‰¹æ€§ï¼Œ å´æ²¡æœ‰ç¨€ç–æ¿€æ´»æ€§.</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119103024771.png" /></p><h3 id="å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œæ¨¡å‹">1.3.3 å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œæ¨¡å‹</h3><p>ç»™å®šä¸€ç»„ç¥ç»å…ƒï¼Œ æˆ‘ä»¬å¯ä»¥å°†ç¥ç»å…ƒä½œä¸ºèŠ‚ç‚¹æ¥æ„å»ºä¸€ä¸ªç½‘ç»œï¼ä¸åŒçš„ç¥ç»ç½‘ç»œæ¨¡å‹æœ‰ç€ä¸åŒç½‘ç»œè¿æ¥çš„æ‹“æ‰‘ç»“æ„ï¼ä¸€ç§æ¯”è¾ƒç›´æ¥çš„æ‹“æ‰‘ç»“æ„æ˜¯å‰é¦ˆç½‘ç»œï¼ å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆ Feedforward NeuralNetworkï¼Œ FNNï¼‰ æ˜¯æœ€æ—©å‘æ˜çš„ç®€å•äººå·¥ç¥ç»ç½‘ç»œï¼å‰é¦ˆç¥ç»ç½‘ç»œä¹Ÿç»å¸¸ç§°ä¸ºå¤šå±‚æ„ŸçŸ¥å™¨ï¼ˆ Multi-Layer PerceptronMLPï¼‰ï¼ä½†å¤šå±‚æ„ŸçŸ¥å™¨çš„å«æ³•å¹¶ä¸æ˜¯ååˆ†åˆç†ï¼Œ å› ä¸ºå‰é¦ˆç¥ç»ç½‘ç»œå…¶å®æ˜¯ç”±å¤šå±‚çš„Logistic å›å½’æ¨¡å‹ï¼ˆ è¿ç»­çš„éçº¿æ€§å‡½æ•°ï¼‰ ç»„æˆï¼Œ è€Œä¸æ˜¯ç”±å¤šå±‚çš„æ„ŸçŸ¥å™¨ï¼ˆä¸è¿ç»­çš„éçº¿æ€§å‡½æ•°ï¼‰ ç»„æˆ .</p><p>å‰é¦ˆç¥ç»ç½‘ç»œä¸­ï¼Œ å„ç¥ç»å…ƒåˆ†åˆ«å±äºä¸åŒçš„å±‚ï¼æ¯ä¸€å±‚çš„ç¥ç»å…ƒå¯ä»¥æ¥æ”¶å‰ä¸€å±‚ç¥ç»å…ƒçš„ä¿¡å·ï¼Œ å¹¶äº§ç”Ÿä¿¡å·è¾“å‡ºåˆ°ä¸‹ä¸€å±‚ï¼ç¬¬0å±‚ç§°ä¸ºè¾“å…¥å±‚ï¼Œ æœ€åä¸€å±‚ç§°ä¸ºè¾“å‡ºå±‚ï¼Œ å…¶ä»–ä¸­é—´å±‚ç§°ä¸ºéšè—å±‚ï¼æ•´ä¸ªç½‘ç»œä¸­æ— åé¦ˆï¼Œ ä¿¡å·ä»è¾“å…¥å±‚å‘è¾“å‡ºå±‚å•å‘ä¼ æ’­ï¼Œ å¯ç”¨ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾è¡¨ç¤º.</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119103824459.png" /></p><p>å¯¹äºæœ¬æ¬¡ä½œä¸šä¸­çš„å¤šåˆ†ç±»é—®é¢˜ $ y {1, , C} $, ä½¿ç”¨ Softmax å›å½’åˆ†ç±»å™¨,ç›¸å½“äºç½‘ç»œ æœ€åä¸€å±‚è®¾ç½® C ä¸ªç¥ç»å…ƒ, å…¶æ¿€æ´»å‡½æ•°ä¸º Softmax å‡½æ•°.ç½‘ç»œæœ€åä¸€å±‚ (ç¬¬ L å±‚) çš„è¾“å‡ºå¯ä»¥ä½œä¸ºæ¯ä¸ªç±»çš„æ¡ä»¶æ¦‚ç‡, å³</p><p><span class="math display">\[\hat{\boldsymbol{y}}=\operatorname{softmax}\left(\boldsymbol{z}^{(L)}\right)\]</span></p><p>å…¶ä¸­ $^{(L)} ^{C} $ä¸ºç¬¬ L å±‚ç¥ç»å…ƒçš„å‡€è¾“å…¥; $ ^{C} $ä¸ºç¬¬ Lå±‚ç¥ç»å…ƒçš„æ´»æ€§å€¼, æ¯ ä¸€ç»´åˆ†åˆ«è¡¨ç¤ºä¸åŒç±»åˆ«æ ‡ç­¾çš„é¢„æµ‹æ¡ä»¶æ¦‚ç‡.</p><p>æ•…é‡‡ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°, å¯¹äºæ ·æœ¬ $ (, y) $, å…¶æŸå¤±å‡½æ•°ä¸º</p><p><span class="math display">\[\mathcal{L}(\boldsymbol{y}, \hat{\boldsymbol{y}})=-\boldsymbol{y}^{\top}\log \hat{\boldsymbol{y}},\]</span></p><p>å…¶ä¸­ $ {0,1}^{C} $ä¸ºæ ‡ç­¾ y å¯¹åº”çš„ one-hot å‘é‡è¡¨ç¤º. <imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119205657015.png" /></p><p><span class="math display">\[\|\boldsymbol{W}\|_{F}^{2}=\sum_{l=1}^{L} \sum_{i=1}^{M_{l}}\sum_{j=1}^{M_{l-1}}\left(w_{i j}^{(l)}\right)^{2}\]</span></p><p>æœ‰äº†å­¦ä¹ å‡†åˆ™å’Œè®­ç»ƒæ ·æœ¬, ç½‘ç»œå‚æ•°å¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•æ¥è¿›è¡Œå­¦ä¹ .åœ¨æ¢¯åº¦ä¸‹é™æ–¹æ³•çš„æ¯æ¬¡è¿­ä»£ä¸­,ç¬¬ l å±‚çš„å‚æ•° $^{(l)} $ å’Œ $^{(l)}$å‚æ•°æ›´æ–°æ–¹å¼ä¸º</p><p><span class="math display">\[\begin{aligned}\boldsymbol{W}^{(l)} &amp; \leftarrow \boldsymbol{W}^{(l)}-\alpha\frac{\partial \mathcal{R}(\boldsymbol{W}, \boldsymbol{b})}{\partial\boldsymbol{W}^{(l)}} \\&amp;=\boldsymbol{W}^{(l)}-\alpha\left(\frac{1}{N}\sum_{n=1}^{N}\left(\frac{\partial\mathcal{L}\left(\boldsymbol{y}^{(n)},\hat{\boldsymbol{y}}^{(n)}\right)}{\partial\boldsymbol{W}^{(l)}}\right)+\lambda \boldsymbol{W}^{(l)}\right) \\\boldsymbol{b}^{(l)} &amp; \leftarrow \boldsymbol{b}^{(l)}-\alpha\frac{\partial \mathcal{R}(\boldsymbol{W}, \boldsymbol{b})}{\partial\boldsymbol{b}^{(l)}} \\&amp;=\boldsymbol{b}^{(l)}-\alpha\left(\frac{1}{N} \sum_{n=1}^{N}\frac{\partial \mathcal{L}\left(\boldsymbol{y}^{(n)},\hat{\boldsymbol{y}}^{(n)}\right)}{\partial \boldsymbol{b}^{(l)}}\right)\end{aligned}\]</span></p><p>å…¶ä¸­ $$ ä¸ºå­¦ä¹ ç‡.</p><p>æ¢¯åº¦ä¸‹é™æ³•éœ€è¦è®¡ç®—æŸå¤±å‡½æ•°å¯¹å‚æ•°çš„åå¯¼æ•°,å¦‚æœé€šè¿‡é“¾å¼æ³•åˆ™é€ä¸€å¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œæ±‚åå¯¼æ¯”è¾ƒä½æ•ˆ.åœ¨ç¥ç»ç½‘ç»œçš„è®­ç»ƒä¸­ç»å¸¸ä½¿ç”¨<strong>åå‘ä¼ æ’­ç®—æ³•</strong>æ¥é«˜æ•ˆåœ°è®¡ç®—æ¢¯åº¦.</p><h1 id="äºŒæè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•-1">äºŒã€æè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•</h1><p>å‡è®¾é‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™è¿›è¡Œç¥ç»ç½‘ç»œå‚æ•°å­¦ä¹ , ç»™å®šä¸€ä¸ªæ ·æœ¬$ (, )$ ,å°†å…¶è¾“å…¥åˆ°ç¥ç»ç½‘ç»œæ¨¡å‹ä¸­, å¾—åˆ°ç½‘ç»œè¾“å‡ºä¸º $ <span class="math inline">\(.å‡è®¾æŸå¤±å‡½æ•°ä¸º\)</span> (, ) $,è¦è¿›è¡Œå‚æ•°å­¦ä¹ å°±éœ€è¦è®¡ç®—æŸå¤±å‡½æ•°å…³äºæ¯ä¸ªå‚æ•°çš„å¯¼æ•°.</p><p>ä¸å¤±ä¸€èˆ¬æ€§, å¯¹ç¬¬ l å±‚ä¸­çš„å‚æ•°$ ^{(l)} $å’Œ $ ^{(l)} <spanclass="math inline">\(è®¡ç®—åå¯¼æ•°. å› ä¸º\)</span> <spanclass="math inline">\(çš„è®¡ç®— æ¶‰åŠå‘é‡å¯¹çŸ©é˜µçš„å¾®åˆ†, ååˆ†ç¹ç,å› æ­¤æˆ‘ä»¬å…ˆè®¡ç®—\)</span> (, ) $å…³äºå‚æ•°çŸ©é˜µä¸­æ¯ä¸ªå…ƒç´ çš„åå¯¼æ•° $ $.æ ¹æ®é“¾å¼æ³•åˆ™,</p><p><span class="math display">\[\begin{array}{l}\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial w_{i j}^{(l)}}=\frac{\partial\boldsymbol{z}^{(l)}}{\partial w_{i j}^{(l)}} \frac{\partial\mathcal{L}(\boldsymbol{y}, \hat{\boldsymbol{y}})}{\partial\boldsymbol{z}^{(l)}} \\\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial \boldsymbol{b}^{(l)}}=\frac{\partial\boldsymbol{z}^{(l)}}{\partial \boldsymbol{b}^{(l)}} \frac{\partial\mathcal{L}(\boldsymbol{y}, \hat{\boldsymbol{y}})}{\partial\boldsymbol{z}^{(l)}}\end{array}\]</span></p><p>ä»¥ä¸Šä¸¤ä¸ªå…¬å¼ä¸­çš„ç¬¬äºŒé¡¹éƒ½æ˜¯ç›®æ ‡å‡½æ•°å…³äºç¬¬ l å±‚çš„ç¥ç»å…ƒ $^{(l)}$çš„åå¯¼æ•°,ç§°ä¸ºè¯¯å·®é¡¹, å¯ä»¥ä¸€æ¬¡è®¡ç®—å¾—åˆ°. è¿™æ ·æˆ‘ä»¬åªéœ€è¦è®¡ç®—ä¸‰ä¸ªåå¯¼æ•°,åˆ†åˆ«ä¸º <span class="math inline">\(\frac{\partial\boldsymbol{z}^{(l)}}{\partial w_{i j}^{(l)}}, \frac{\partial\boldsymbol{z}^{(l)}}{\partial \boldsymbol{b}^{(l)}} å’Œ \frac{\partial\mathcal{L}(\boldsymbol{y}, \hat{\boldsymbol{y}})}{\partial\boldsymbol{z}^{(l)}} .\)</span></p><h2 id="åå¯¼æ•°è®¡ç®—">2.1 åå¯¼æ•°è®¡ç®—</h2><p>ä¸‹é¢åˆ†åˆ«æ¥è®¡ç®—è¿™ä¸‰ä¸ªåå¯¼æ•°ï¼š</p><ol type="1"><li>è®¡ç®—åå¯¼æ•° $ $å›  <spanclass="math inline">\(z^{(l)}=\boldsymbol{W}^{(l)}\boldsymbol{a}^{(l-1)}+\boldsymbol{b}^{(l)} ,\)</span> åå¯¼æ•°</li></ol><p><span class="math display">\[\begin{aligned}\frac{\partial z^{(l)}}{\partial w_{i j}^{(l)}} &amp;=[\frac{\partialz_{1}^{(l)}}{\partial w_{i j}^{(l)}}, \cdots,\frac{\partial z_{i}^{(l)}}{\partial w_{i j}^{(l)}}\cdots,\frac{\partial z_{M_{l}}^{(l)}}{\partial w_{i j}^{(l)}}]\\&amp;=[0, \cdots, {\frac{\partial\left(\boldsymbol{w}_{i:}^{(l)}\boldsymbol{a}^{(l-1)}+b_{i}^{(l)}\right)}{\partial w_{i j}^{(l)}}},\cdots, 0] \\&amp;=\left[0, \cdots, a_{j}^{(l-1)}, \cdots, 0\right] \\&amp; \triangleq \mathbb{l}_{i}\left(a_{j}^{(l-1)}\right) \quad \in\mathbb{R}^{1 \times M_{l}}\end{aligned}\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119205757205.png" /></p><h2 id="è¯¯å·®é¡¹">2.2 è¯¯å·®é¡¹</h2><p>è¯¯å·®é¡¹ $^{(l)} $ä¹Ÿé—´æ¥åæ˜ äº†ä¸åŒç¥ç»å…ƒå¯¹ç½‘ç»œèƒ½åŠ›çš„è´¡çŒ®ç¨‹åº¦,ä»è€Œæ¯”è¾ƒå¥½åœ°è§£å†³ äº†è´¡çŒ®åº¦åˆ†é…é—®é¢˜ ( Credit Assignment Problem,CAP ).æ ¹æ® $ <sup>{(l+1)}=</sup>{(l+1)} <sup>{(l)}+</sup>{(l+1)} $, æœ‰</p><p><span class="math display">\[\frac{\partial \boldsymbol{z}^{(l+1)}}{\partial\boldsymbol{\alpha}^{(l)}}=\left(\boldsymbol{W}^{(l+1)}\right)^{\top}\quad \in \mathbb{R}^{M_{l} \times M_{l+1}}\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119205825727.png" /></p><p><span class="math display">\[\begin{aligned}\frac{\partial \boldsymbol{\alpha}^{(l)}}{\partial \boldsymbol{z}^{(l)}}&amp;=\frac{\partial f_{l}\left(\boldsymbol{z}^{(l)}\right)}{\partial\boldsymbol{z}^{(l)}} \\&amp;=\operatorname{diag}\left(f_{l}^{\prime}\left(\boldsymbol{z}^{(l)}\right)\right)\quad \in \mathbb{R}^{M_{l} \times M_{l}}\end{aligned}\]</span></p><p>å› æ­¤,æ ¹æ®é“¾å¼æ³•åˆ™,ç¬¬ l å±‚çš„è¯¯å·®é¡¹ä¸º</p><p><span class="math display">\[\begin{aligned}\delta^{(l)} &amp; \triangleq \frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial \boldsymbol{z}^{(l)}} \\&amp;=\frac{\partial \boldsymbol{a}^{(l)}}{\partial\boldsymbol{z}^{(l)}}  \cdot \frac{\partial\boldsymbol{z}^{(l+1)}}{\partial \boldsymbol{a}^{(l)}} \cdot\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial \boldsymbol{z}^{(l+1)}} \\&amp;={\operatorname{diag}\left(f_{l}^{\prime}\left(\boldsymbol{z}^{(l)}\right)\right)}\cdot\left(\boldsymbol{W}^{(l+1)}\right)^{\top}  \cdot{\delta^{(l+1)}}\\&amp;=f_{l}^{\prime}\left(\boldsymbol{z}^{(l)}\right)\odot\left(\left(\boldsymbol{W}^{(l+1)}\right)^{\top}\delta^{(l+1)}\right) \quad \in \mathbb{R}^{M_{l}},\end{aligned}\]</span></p><p>å…¶ä¸­ $ $æ˜¯å‘é‡çš„ Hadamard ç§¯è¿ç®—ç¬¦, è¡¨ç¤ºæ¯ä¸ªå…ƒç´ ç›¸ä¹˜.ä»ä¸Šé¢çš„å…¬å¼å¯ä»¥çœ‹å‡º,ç¬¬ l å±‚çš„è¯¯å·®é¡¹å¯ä»¥é€šè¿‡ç¬¬ l+1 å±‚çš„è¯¯å·®é¡¹è®¡ç®—å¾—åˆ°,è¿™å°±æ˜¯è¯¯å·®çš„åå‘ä¼ æ’­ ( BackPropagation, BP ). åå‘ä¼ æ’­ç®—æ³•çš„å«ä¹‰æ˜¯: ç¬¬ lå±‚çš„ä¸€ä¸ªç¥ç»å…ƒçš„è¯¯å·®é¡¹ ( æˆ–æ•æ„Ÿæ€§ ) æ˜¯æ‰€æœ‰ä¸è¯¥ç¥ç»å…ƒç›¸è¿çš„ç¬¬ l+1 å±‚çš„ç¥ç»å…ƒçš„è¯¯å·®é¡¹çš„æƒé‡å’Œ. ç„¶å, å†ä¹˜ä¸Šè¯¥ç¥ç»å…ƒæ¿€æ´»å‡½æ•°çš„æ¢¯åº¦.åœ¨è®¡ç®—å‡ºä¸Šé¢ä¸‰ä¸ªåå¯¼æ•°ä¹‹å,</p><p><span class="math display">\[\begin{aligned}\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial w_{i j}^{(l)}}&amp;={l}_{i}\left(a_{j}^{(l-1)}\right) \delta^{(l)} \\&amp;=\left[0, \cdots, a_{j}^{(l-1)}, \cdots,0\right]\left[\delta_{1}^{(l)}, \cdots, \delta_{i}^{(l)}, \cdots,\delta_{M_{l}}^{(l)}\right]^{\top} \\&amp;=\delta_{i}^{(l)} a_{j}^{(l-1)}\end{aligned}\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119205855415.png" /></p><p><span class="math display">\[\left[\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial \boldsymbol{W}^{(l)}}\right]_{ij}=\left[\delta^{(l)}\left(\boldsymbol{a}^{(l-1)}\right)^{\top}\right]_{ij}\]</span></p><p>å› æ­¤, $ (, ) $å…³äºç¬¬ l å±‚æƒé‡ $ ^{(l)} $çš„æ¢¯åº¦ä¸º</p><p><span class="math display">\[\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial\boldsymbol{W}^{(l)}}=\delta^{(l)}\left(\boldsymbol{a}^{(l-1)}\right)^{\top}\quad \in \mathbb{R}^{M_{l} \times M_{l-1}}\]</span></p><p>åŒç†, $(, ) $å…³äºç¬¬ l å±‚åç½® $ ^{(l)} $çš„æ¢¯åº¦ä¸º</p><p><span class="math display">\[\frac{\partial \mathcal{L}(\boldsymbol{y},\hat{\boldsymbol{y}})}{\partial \boldsymbol{b}^{(l)}}=\delta^{(l)} \quad\in \mathbb{R}^{M_{l}}\]</span></p><h2 id="å®ç°æ­¥éª¤ä¸ä¼ªä»£ç ">2.3 å®ç°æ­¥éª¤ä¸ä¼ªä»£ç </h2><p>åœ¨è®¡ç®—å‡ºæ¯ä¸€å±‚çš„è¯¯å·®é¡¹ä¹‹å, æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ¯ä¸€å±‚å‚æ•°çš„æ¢¯åº¦. å› æ­¤,ä½¿ç”¨è¯¯å·®åå‘ä¼ æ’­ç®—æ³•çš„å‰é¦ˆç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥:</p><ol type="1"><li>å‰é¦ˆè®¡ç®—æ¯ä¸€å±‚çš„å‡€è¾“å…¥ $^{(l)} $å’Œæ¿€æ´»å€¼ $ ^{(l)} $,ç›´åˆ°æœ€åä¸€å±‚;</li><li>åå‘ä¼ æ’­è®¡ç®—æ¯ä¸€å±‚çš„è¯¯å·®é¡¹ <spanclass="math inline">\(\delta^{(l)}\)</span> ;</li><li>è®¡ç®—æ¯ä¸€å±‚å‚æ•°çš„åå¯¼æ•°, å¹¶æ›´æ–°å‚æ•°.</li></ol><p>ä½¿ç”¨åå‘ä¼ æ’­ç®—æ³•çš„éšæœºæ¢¯åº¦ä¸‹é™è®­ç»ƒè¿‡ç¨‹ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119113727799.png" /></p><h1id="ä¸‰æè¿°æ¨¡å‹è¶…å‚æ•°ç¡®å®šçš„è¿‡ç¨‹åˆ†ææ¨¡å‹è®­ç»ƒç»“æœ-1">ä¸‰ã€æè¿°æ¨¡å‹è¶…å‚æ•°ç¡®å®šçš„è¿‡ç¨‹ï¼Œåˆ†ææ¨¡å‹è®­ç»ƒç»“æœ</h1><p>åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œ é™¤äº†å¯å­¦ä¹ çš„å‚æ•°ä¹‹å¤–ï¼Œ è¿˜å­˜åœ¨å¾ˆå¤šè¶…å‚æ•°ï¼è¿™äº›è¶…å‚æ•°å¯¹ç½‘ç»œæ€§èƒ½çš„å½±å“ä¹Ÿå¾ˆå¤§ï¼ä¸åŒçš„æœºå™¨å­¦ä¹ ä»»åŠ¡å¾€å¾€éœ€è¦ä¸åŒçš„è¶…å‚æ•°ï¼ å¸¸è§çš„è¶…å‚æ•°æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š</p><ol type="1"><li>ç½‘ç»œç»“æ„,åŒ…æ‹¬ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥å…³ç³»ã€å±‚æ•°ã€æ¯å±‚çš„ç¥ç»å…ƒæ•°é‡ã€æ¿€æ´»å‡½æ•°çš„ç±»å‹ç­‰.</li><li>ä¼˜åŒ–å‚æ•°,åŒ…æ‹¬ä¼˜åŒ–æ–¹æ³•ã€å­¦ä¹ ç‡ã€å°æ‰¹é‡çš„æ ·æœ¬æ•°é‡ç­‰.</li><li>æ­£åˆ™åŒ–ç³»æ•°.</li></ol><p>è¶…å‚æ•°ä¼˜åŒ–ï¼ˆ Hyperparameter Optimizationï¼‰ ä¸»è¦å­˜åœ¨ä¸¤æ–¹é¢çš„å›°éš¾ï¼š</p><ul><li>è¶…å‚æ•°ä¼˜åŒ–æ˜¯ä¸€ä¸ªç»„åˆä¼˜åŒ–é—®é¢˜ï¼Œæ— æ³•åƒä¸€èˆ¬å‚æ•°é‚£æ ·é€šè¿‡æ¢¯åº¦ä¸‹é™æ–¹æ³•æ¥ä¼˜åŒ–ï¼Œä¹Ÿæ²¡æœ‰ä¸€ç§é€šç”¨æœ‰æ•ˆçš„ä¼˜åŒ–æ–¹æ³•ï¼›</li><li>è¯„ä¼°ä¸€ç»„è¶…å‚æ•°é…ç½®ï¼ˆ Configurationï¼‰çš„æ—¶é—´ä»£ä»·éå¸¸é«˜ï¼Œä»è€Œå¯¼è‡´ä¸€äº›ä¼˜åŒ–æ–¹æ³•ï¼ˆ æ¯”å¦‚æ¼”åŒ–ç®—æ³•ï¼ˆ Evolution Algorithmï¼‰ï¼‰åœ¨è¶…å‚æ•°ä¼˜åŒ–ä¸­éš¾ä»¥åº”ç”¨</li></ul><p>å¯¹äºè¶…å‚æ•°çš„é…ç½®ï¼Œæ¯”è¾ƒç®€å•çš„æ–¹æ³•æœ‰ç½‘æ ¼æœç´¢ã€éšæœºæœç´¢ã€è´å¶æ–¯ä¼˜åŒ–ã€åŠ¨æ€èµ„æºåˆ†é…å’Œç¥ç»æ¶æ„æœç´¢ï¼Œè¿™æ¬¡æˆ‘ä»¬ä»‹ç»æœ€åä¸¤ç§ã€‚</p><h2 id="åŠ¨æ€èµ„æºåˆ†é…">3.1 åŠ¨æ€èµ„æºåˆ†é…</h2><p>åœ¨è¶…å‚æ•°ä¼˜åŒ–ä¸­ï¼Œ æ¯ç»„è¶…å‚æ•°é…ç½®çš„è¯„ä¼°ä»£ä»·æ¯”è¾ƒé«˜ï¼å¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨è¾ƒæ—©çš„é˜¶æ®µå°±ä¼°è®¡å‡ºä¸€ç»„é…ç½®çš„æ•ˆæœä¼šæ¯”è¾ƒå·®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä¸­æ­¢è¿™ç»„é…ç½®çš„è¯„ä¼°ï¼Œå°†æ›´å¤šçš„èµ„æºç•™ç»™å…¶ä»–é…ç½®ï¼è¿™ä¸ªé—®é¢˜å¯ä»¥å½’ç»“ä¸ºå¤šè‡‚èµŒåšæœºé—®é¢˜çš„ä¸€ä¸ªæ³›åŒ–é—®é¢˜ï¼š<strong>æœ€ä¼˜è‡‚é—®é¢˜ï¼ˆ Best-Arm Problemï¼‰</strong>ï¼Œå³åœ¨ç»™å®šæœ‰é™çš„æœºä¼šæ¬¡æ•°ä¸‹ï¼Œ å¦‚ä½•ç©è¿™äº›èµŒåšæœºå¹¶æ‰¾åˆ°æ”¶ç›Šæœ€å¤§çš„è‡‚ï¼å’Œå¤šè‡‚èµŒåšæœºé—®é¢˜ç±»ä¼¼ï¼Œæœ€ä¼˜è‡‚é—®é¢˜ä¹Ÿæ˜¯åœ¨åˆ©ç”¨å’Œæ¢ç´¢ä¹‹é—´æ‰¾åˆ°æœ€ä½³çš„å¹³è¡¡ï¼</p><p>ç”±äºç›®å‰ç¥ç»ç½‘ç»œçš„ä¼˜åŒ–æ–¹æ³•ä¸€èˆ¬éƒ½é‡‡å–éšæœºæ¢¯åº¦ä¸‹é™ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ç»„è¶…å‚æ•°çš„å­¦ä¹ æ›²çº¿æ¥é¢„ä¼°è¿™ç»„è¶…å‚æ•°é…ç½®æ˜¯å¦æœ‰å¸Œæœ›å¾—åˆ°æ¯”è¾ƒå¥½çš„ç»“æœï¼å¦‚æœä¸€ç»„è¶…å‚æ•°é…ç½®çš„å­¦ä¹ æ›²çº¿ä¸æ”¶æ•›æˆ–è€…æ”¶æ•›æ¯”è¾ƒå·®ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨<strong>æ—©æœŸåœæ­¢ï¼ˆ Early-Stoppingï¼‰</strong>ç­–ç•¥æ¥ä¸­æ­¢å½“å‰çš„è®­ç»ƒï¼</p><p>åŠ¨æ€èµ„æºåˆ†é…çš„å…³é”®æ˜¯å°†æœ‰é™çš„èµ„æºåˆ†é…ç»™æ›´æœ‰å¯èƒ½å¸¦æ¥æ”¶ç›Šçš„è¶…å‚æ•°ç»„åˆï¼ä¸€ç§æœ‰æ•ˆæ–¹æ³•æ˜¯<strong>é€æ¬¡å‡åŠï¼ˆ Successive Halvingï¼‰</strong> æ–¹æ³•ï¼Œå°†è¶…å‚æ•°ä¼˜åŒ–çœ‹ä½œä¸€ç§ééšæœºçš„æœ€ä¼˜è‡‚é—®é¢˜ï¼ å‡è®¾è¦å°è¯• ğ‘ ç»„è¶…å‚æ•°é…ç½®ï¼Œæ€»å…±å¯åˆ©ç”¨çš„èµ„æºé¢„ç®—ï¼ˆ æ‘‡è‡‚çš„æ¬¡æ•°ï¼‰ ä¸ºğµï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ğ‘‡ = âŒˆlog2(ğ‘)âŒ‰ -1è½®é€æ¬¡å‡åŠçš„æ–¹æ³•æ¥é€‰å–æœ€ä¼˜çš„é…ç½®ï¼</p><h3 id="å®ç°æ­¥éª¤ä¸ä¼ªä»£ç -1">3.1.1 å®ç°æ­¥éª¤ä¸ä¼ªä»£ç </h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119165313867.png" /></p><p>åœ¨é€æ¬¡å‡åŠæ–¹æ³•ä¸­ï¼Œ å°è¯•çš„è¶…å‚æ•°é…ç½®æ•°é‡ ğ‘ ååˆ†å…³é”®ï¼ å¦‚æœğ‘ è¶Šå¤§ï¼Œå¾—åˆ°æœ€ä½³é…ç½®çš„æœºä¼šä¹Ÿè¶Šå¤§ï¼Œ ä½†æ¯ç»„é…ç½®åˆ†åˆ°çš„èµ„æºå°±è¶Šå°‘ï¼Œè¿™æ ·æ—©æœŸçš„è¯„ä¼°ç»“æœå¯èƒ½ä¸å‡†ç¡®ï¼ åä¹‹ï¼Œ å¦‚æœ ğ‘ è¶Šå°ï¼Œæ¯ç»„è¶…å‚æ•°é…ç½®çš„è¯„ä¼°ä¼šè¶Šå‡†ç¡®ï¼Œ ä½†æœ‰å¯èƒ½æ— æ³•å¾—åˆ°æœ€ä¼˜çš„é…ç½®ï¼ å› æ­¤ï¼Œå¦‚ä½•è®¾ç½® ğ‘ æ˜¯å¹³è¡¡â€œåˆ©ç”¨-æ¢ç´¢â€ çš„ä¸€ä¸ªå…³é”®å› ç´ ï¼ä¸€ç§æ”¹è¿›çš„æ–¹æ³•æ˜¯<strong>HyperBandæ–¹æ³•</strong>ï¼Œ é€šè¿‡å°è¯•ä¸åŒçš„ğ‘æ¥é€‰å–æœ€ä¼˜å‚æ•°ï¼</p><h2 id="ç¥ç»æ¶æ„æœç´¢">3.2 ç¥ç»æ¶æ„æœç´¢</h2><p>ä¸Šé¢ä»‹ç»çš„è¶…å‚æ•°ä¼˜åŒ–æ–¹æ³•éƒ½æ˜¯åœ¨å›ºå®šï¼ˆ æˆ–å˜åŒ–æ¯”è¾ƒå°ï¼‰ çš„è¶…å‚æ•°ç©ºé—´ğ’³ä¸­è¿›è¡Œæœ€ä¼˜é…ç½®æœç´¢ï¼Œè€Œæœ€é‡è¦çš„ç¥ç»ç½‘ç»œæ¶æ„ä¸€èˆ¬è¿˜æ˜¯éœ€è¦ç”±æœ‰ç»éªŒçš„ä¸“å®¶æ¥è¿›è¡Œè®¾è®¡ .ç¥ç»æ¶æ„æœç´¢ï¼ˆ Neural Architecture Searchï¼Œ NASï¼‰æ˜¯ä¸€ä¸ªæ–°çš„æ¯”è¾ƒæœ‰å‰æ™¯çš„ç ”ç©¶æ–¹å‘ï¼Œ é€šè¿‡ç¥ç»ç½‘ç»œæ¥è‡ªåŠ¨å®ç°ç½‘ç»œæ¶æ„çš„è®¾è®¡ï¼ä¸€ä¸ªç¥ç»ç½‘ç»œçš„æ¶æ„å¯ä»¥ç”¨ä¸€ä¸ªå˜é•¿çš„å­—ç¬¦ä¸²æ¥æè¿°ï¼ åˆ©ç”¨å…ƒå­¦ä¹ çš„æ€æƒ³ï¼Œç¥ç»æ¶æ„æœç´¢åˆ©ç”¨ä¸€ä¸ªæ§åˆ¶å™¨æ¥ç”Ÿæˆå¦ä¸€ä¸ªå­ç½‘ç»œçš„æ¶æ„æè¿°ï¼æ§åˆ¶å™¨å¯ä»¥ç”±ä¸€ä¸ªå¾ªç¯ç¥ç»ç½‘ç»œæ¥å®ç°ï¼æ§åˆ¶å™¨çš„è®­ç»ƒå¯ä»¥é€šè¿‡å¼ºåŒ–å­¦ä¹ æ¥å®Œæˆï¼Œå…¶å¥–åŠ±ä¿¡å·ä¸ºç”Ÿæˆçš„å­ç½‘ç»œåœ¨å¼€å‘é›†ä¸Šçš„å‡†ç¡®ç‡ .</p><h2 id="ç»“æœåˆ†æ-1">3.3 ç»“æœåˆ†æ</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119191016077.png" /></p><p>åœ¨ä¸¤æ¬¡æŠ¥å‘Šä¸­æˆ‘ä»¬ä¸€å…±ä»‹ç»äº†5ç§è¶…å‚æ•°è°ƒä¼˜æ–¹å¼ï¼Œä¹Ÿéƒ½å°è¯•è¿‡åº”ç”¨åˆ°å®éªŒä¸­ï¼Œä½†å¹¶æ²¡æœ‰è·å¾—å¾ˆå¤§çš„æå‡ã€‚ä¸”ç»“åˆæ•°æ®é‡è¾ƒå°ï¼Œç½‘ç»œç»“æ„è¾ƒç®€å•çš„å®é™…ï¼Œæˆ‘ä»¬ä¾æ—§é€‰æ‹©äº†æ ¹æ®ä¸€äº›â€œç»éªŒç»“è®ºâ€æ¥è¿›è¡Œç½‘æ ¼æœç´¢ã€‚</p><p>é»˜è®¤å‚æ•°ä¸‹ï¼Œäº”æ¬¡äº”æŠ˜äº¤å‰éªŒè¯ç»“æœï¼š</p><p>Accuracy: 0.95</p><p>ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>neural_network <span class="token keyword">import</span> MLPClassifier<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>model_selection <span class="token keyword">import</span> cross_val_score<span class="token keyword">import</span> warningswarnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>mlp <span class="token operator">=</span> MLPClassifier<span class="token punctuation">(</span>hidden_layer_sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">,</span> solver<span class="token operator">=</span><span class="token string">'adam'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.0001</span><span class="token punctuation">,</span> batch_size<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> learning_rate<span class="token operator">=</span><span class="token string">'constant'</span><span class="token punctuation">,</span> learning_rate_init<span class="token operator">=</span><span class="token number">0.001</span><span class="token punctuation">,</span> power_t<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> max_iter<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> shuffle<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> random_state<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> tol<span class="token operator">=</span><span class="token number">0.0001</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> warm_start<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> nesterovs_momentum<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> early_stopping<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> validation_fraction<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> beta_1<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> beta_2<span class="token operator">=</span><span class="token number">0.999</span><span class="token punctuation">,</span> epsilon<span class="token operator">=</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">08</span><span class="token punctuation">,</span> n_iter_no_change<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> max_fun<span class="token operator">=</span><span class="token number">15000</span><span class="token punctuation">)</span> <span class="token comment">#å‡ä»¥å®˜ç½‘é»˜è®¤å‚æ•°è®¾ç½®</span>mlp<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X_std<span class="token punctuation">,</span> Y<span class="token punctuation">)</span>ACC <span class="token operator">=</span> cross_val_score<span class="token punctuation">(</span>mlp<span class="token punctuation">,</span> X_std<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> cv<span class="token operator">=</span>rkf<span class="token punctuation">,</span>scoring<span class="token operator">=</span><span class="token string">'accuracy'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Accuracy:'</span><span class="token punctuation">,</span>ACC<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç½‘æ ¼æœç´¢æœ€ä¼˜å‚æ•°çš„ç»“æœä¸ºï¼š</p><p>Accuracy: 0.96125</p><p>æ··æ·†çŸ©é˜µå¦‚å›¾ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119193317068.png" /></p><p>ROCæ›²çº¿å¦‚å›¾ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119193347579.png" /></p><p>è¯„ä»·æŒ‡æ ‡ï¼ˆç²¾ç¡®ç‡ï¼Œå¬å›ç‡å’ŒF1å€¼ï¼‰ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119193422505.png" /></p><p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„æ¨¡å‹åˆ†ç±»ç»“æœå®Œå…¨æ­£ç¡®ï¼Œç”šè‡³æœ‰å¯èƒ½å‡ºç°äº†è¿‡æ‹Ÿåˆã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ç»§ç»­ä¿®æ”¹å‚æ•°ï¼Œå‘ç°å³ä½¿ä¸è®¾ç½®ä»»ä½•è¶…å‚æ•°ä¹Ÿå¯ä»¥è¾¾åˆ°è¿™æ ·çš„å‡†ç¡®ç‡ï¼Œä¹Ÿä»å¦ä¸€æ–¹é¢è¯æ˜äº†ç¥ç»ç½‘ç»œæ‹Ÿåˆèƒ½åŠ›çš„å¼ºæ‚ã€‚</p><p>ç½‘æ ¼æœç´¢ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¶…å‚æ•°è°ƒä¼˜</span><span class="token keyword">import</span> warningswarnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>model_selection <span class="token keyword">import</span> GridSearchCVparameters <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'hidden_layer_sizes'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">'activation'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'identity'</span><span class="token punctuation">,</span> <span class="token string">'logistic'</span><span class="token punctuation">,</span><span class="token string">'tanh'</span><span class="token punctuation">,</span> <span class="token string">'relu'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">'solver'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'adam'</span><span class="token punctuation">,</span><span class="token string">'lbgfs'</span><span class="token punctuation">,</span><span class="token string">'sgd'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">'alpha'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0.0001</span><span class="token punctuation">,</span> <span class="token number">0.001</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">'learning_rate'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'constant'</span><span class="token punctuation">,</span> <span class="token string">'invscaling'</span><span class="token punctuation">,</span> <span class="token string">'adaptive'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>grid <span class="token operator">=</span> GridSearchCV<span class="token punctuation">(</span>mlp<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> cv<span class="token operator">=</span>rkf<span class="token punctuation">,</span> scoring<span class="token operator">=</span><span class="token string">'neg_mean_absolute_percentage_error'</span><span class="token punctuation">,</span>n_jobs<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>grid<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X_std<span class="token punctuation">,</span> Y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æœ€ä¼˜å‚æ•°ï¼š'</span><span class="token punctuation">,</span>grid<span class="token punctuation">.</span>best_params_<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æœ€ä¼˜æ¨¡å‹å¾—åˆ†ï¼š'</span><span class="token punctuation">,</span>grid<span class="token punctuation">.</span>best_score_<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="å››æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·-1">å››ã€æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·</h1><h2 id="ä¼˜åŒ–ä¸æ­£åˆ™åŒ–">4.1 ä¼˜åŒ–ä¸æ­£åˆ™åŒ–</h2><p>ç¥ç»ç½‘ç»œçš„ä¼˜åŒ–å’Œæ­£åˆ™åŒ–æ˜¯æ—¢å¯¹ç«‹åˆç»Ÿä¸€çš„å…³ç³»ï¼ä¸€æ–¹é¢æˆ‘ä»¬å¸Œæœ›ä¼˜åŒ–ç®—æ³•èƒ½æ‰¾åˆ°ä¸€ä¸ªå…¨å±€æœ€ä¼˜è§£ï¼ˆ æˆ–è¾ƒå¥½çš„å±€éƒ¨æœ€ä¼˜è§£ï¼‰ï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬åˆä¸å¸Œæœ›æ¨¡å‹ä¼˜åŒ–åˆ°æœ€ä¼˜è§£ï¼Œ è¿™å¯èƒ½é™·å…¥è¿‡æ‹Ÿåˆï¼ä¼˜åŒ–å’Œæ­£åˆ™åŒ–çš„ç»Ÿä¸€ç›®æ ‡æ˜¯æœŸæœ›é£é™©æœ€å°åŒ–ï¼</p><h3 id="ä¼˜åŒ–">4.1.1 ä¼˜åŒ–</h3><p>åœ¨ä¼˜åŒ–æ–¹é¢ï¼Œ è®­ç»ƒç¥ç»ç½‘ç»œæ—¶çš„ä¸»è¦éš¾ç‚¹æ˜¯éå‡¸ä¼˜åŒ–ä»¥åŠæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼åœ¨æ·±åº¦å­¦ä¹ æŠ€æœ¯å‘å±•çš„åˆæœŸï¼Œ æˆ‘ä»¬é€šå¸¸éœ€è¦åˆ©ç”¨é¢„è®­ç»ƒå’Œé€å±‚è®­ç»ƒç­‰æ¯”è¾ƒä½æ•ˆçš„æ–¹æ³•æ¥è¾…åŠ©ä¼˜åŒ–ï¼éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å‘å±•ï¼Œ æˆ‘ä»¬ç›®å‰é€šå¸¸å¯ä»¥é«˜æ•ˆåœ°ã€ç«¯åˆ°ç«¯åœ°è®­ç»ƒä¸€ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œï¼ è¿™äº›æé«˜è®­ç»ƒæ•ˆç‡çš„æ–¹æ³•é€šå¸¸åˆ†ä¸ºä»¥ä¸‹ 3ä¸ªæ–¹é¢ï¼š</p><ol type="1"><li>ä¿®æ”¹ç½‘ç»œæ¨¡å‹æ¥å¾—åˆ°æ›´å¥½çš„ä¼˜åŒ–åœ°å½¢ï¼Œ æ¯”å¦‚ä½¿ç”¨é€å±‚å½’ä¸€åŒ–ã€æ®‹å·®è¿æ¥ä»¥åŠReLUæ¿€æ´»å‡½æ•°ç­‰ï¼›</li><li>ä½¿ç”¨æ›´æœ‰æ•ˆçš„ä¼˜åŒ–ç®—æ³•ï¼Œ æ¯”å¦‚åŠ¨æ€å­¦ä¹ ç‡ä»¥åŠæ¢¯åº¦ä¼°è®¡ä¿®æ­£ç­‰ï¼›</li><li>ä½¿ç”¨æ›´å¥½çš„å‚æ•°åˆå§‹åŒ–æ–¹æ³•</li></ol><h3 id="æ³›åŒ–">4.1.2 æ³›åŒ–</h3><p>åœ¨æ³›åŒ–æ–¹é¢ï¼Œä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ä¸­æœ‰ä¸€äº›å¾ˆå¥½çš„ç†è®ºå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æ¨¡å‹çš„è¡¨ç¤ºèƒ½åŠ›ã€å¤æ‚åº¦å’Œæ³›åŒ–èƒ½åŠ›ä¹‹é—´æ‰¾åˆ°æ¯”è¾ƒå¥½çš„å¹³è¡¡ï¼Œä½†æ˜¯è¿™äº›ç†è®ºæ— æ³•è§£é‡Šæ·±åº¦ç¥ç»ç½‘ç»œåœ¨å®é™…åº”ç”¨ä¸­çš„æ³›åŒ–èƒ½åŠ›è¡¨ç°ï¼æ ¹æ®é€šç”¨è¿‘ä¼¼å®šç†ï¼Œç¥ç»ç½‘ç»œçš„è¡¨ç¤ºèƒ½åŠ›ååˆ†å¼ºå¤§ï¼ ä»ç›´è§‰ä¸Šï¼Œä¸€ä¸ªè¿‡åº¦å‚æ•°åŒ–çš„ç¥ç»ç½‘ç»œå¾ˆå®¹æ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆç°è±¡ï¼Œå› ä¸ºå®ƒçš„å®¹é‡è¶³å¤Ÿè®°ä½æ‰€æœ‰è®­ç»ƒæ•°æ®ï¼ ä½†æ˜¯å®éªŒè¡¨æ˜ï¼Œç¥ç»ç½‘ç»œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¾ç„¶ä¼˜å…ˆè®°ä½è®­ç»ƒæ•°æ®ä¸­çš„ä¸€èˆ¬æ¨¡å¼ï¼ˆ Patternï¼‰ï¼Œå³å…·æœ‰é«˜æ³›åŒ–èƒ½åŠ›çš„æ¨¡å¼ ï¼ ä½†ç›®å‰ï¼Œç¥ç»ç½‘ç»œçš„æ³›åŒ–èƒ½åŠ›è¿˜æ²¡æœ‰å¾ˆå¥½çš„ç†è®ºæ”¯æŒï¼åœ¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ¨¡å‹ä¸Šæ¯”è¾ƒæœ‰æ•ˆçš„â„“1 æˆ–â„“2æ­£åˆ™åŒ–åœ¨æ·±åº¦ç¥ç»ç½‘ç»œä¸­ä½œç”¨ä¹Ÿæ¯”è¾ƒæœ‰é™ï¼Œ è€Œä¸€äº›ç»éªŒçš„åšæ³•ï¼ˆæ¯”å¦‚å°çš„æ‰¹é‡å¤§å°ã€å¤§çš„å­¦ä¹ ç‡ã€æå‰åœæ­¢ã€ä¸¢å¼ƒæ³•ã€æ•°æ®å¢å¼ºï¼‰ ä¼šæ›´æœ‰æ•ˆã€‚</p><h2 id="ä¸å›å½’çš„å·®å¼‚">4.2 ä¸å›å½’çš„å·®å¼‚</h2><p>å’Œå›å½’é—®é¢˜ä¸åŒï¼Œ åˆ†ç±»é—®é¢˜ä¸­çš„ç›®æ ‡æ ‡ç­¾ ğ‘¦ æ˜¯ç¦»æ•£çš„ç±»åˆ«æ ‡ç­¾ï¼Œå› æ­¤åˆ†ç±»é—®é¢˜ä¸­çš„å†³ç­–å‡½æ•°éœ€è¦è¾“å‡ºç¦»æ•£å€¼æˆ–æ˜¯æ ‡ç­¾çš„åéªŒæ¦‚ç‡ï¼çº¿æ€§åˆ†ç±»æ¨¡å‹ä¸€èˆ¬æ˜¯ä¸€ä¸ªå¹¿ä¹‰çº¿æ€§å‡½æ•°ï¼Œå³ä¸€ä¸ªæˆ–å¤šä¸ªçº¿æ€§åˆ¤åˆ«å‡½æ•°åŠ ä¸Šä¸€ä¸ªéçº¿æ€§æ¿€æ´»å‡½æ•°ï¼æ‰€è°“â€œçº¿æ€§â€æ˜¯æŒ‡å†³ç­–è¾¹ç•Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¶…å¹³é¢ç»„æˆï¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119171348116.png" /></p><h2 id="å¯¹æ·±åº¦å­¦ä¹ æ¡†æ¶çš„åˆæ­¥äº†è§£">4.3 å¯¹æ·±åº¦å­¦ä¹ æ¡†æ¶çš„åˆæ­¥äº†è§£</h2><p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œ ä¸€èˆ¬é€šè¿‡è¯¯å·®åå‘ä¼ æ’­ç®—æ³•æ¥è¿›è¡Œå‚æ•°å­¦ä¹ ï¼é‡‡ç”¨æ‰‹å·¥æ–¹å¼æ¥è®¡ç®—æ¢¯åº¦å†å†™ä»£ç å®ç°çš„æ–¹å¼ä¼šéå¸¸ä½æ•ˆï¼Œ å¹¶ä¸”å®¹æ˜“å‡ºé”™ï¼æ­¤å¤–ï¼Œ æ·±åº¦å­¦ä¹ æ¨¡å‹éœ€è¦çš„è®¡ç®—æœºèµ„æºæ¯”è¾ƒå¤šï¼Œ ä¸€èˆ¬éœ€è¦åœ¨ CPU å’Œ GPUä¹‹é—´ä¸æ–­è¿›è¡Œåˆ‡æ¢ï¼Œ å¼€å‘éš¾åº¦ä¹Ÿæ¯”è¾ƒå¤§ï¼ å› æ­¤ï¼Œä¸€äº›æ”¯æŒè‡ªåŠ¨æ¢¯åº¦è®¡ç®—ã€æ— ç¼CPUå’ŒGPUåˆ‡æ¢ç­‰åŠŸèƒ½çš„æ·±åº¦å­¦ä¹ æ¡†æ¶å°±åº”è¿è€Œç”Ÿï¼æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ¡†æ¶åŒ…æ‹¬ï¼šTheanoã€Caffeã€TensorFlowã€Pytorchã€é£æ¡¨ï¼ˆPaddlePaddleï¼‰ã€Chainerå’ŒMXNetç­‰ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211119185714226.png" /></p><p>å› æ­¤æœ¬æ¬¡ä½œä¸šæˆ‘ä»¬æ²¡æœ‰å±€é™åœ¨scikit-learnä¸­ï¼Œæˆ‘ä»¬äº†è§£å¹¶å­¦ä¹ äº†TensorFlowï¼Œpytorchç­‰æ¡†æ¶çš„ä½¿ç”¨ï¼Œæ­å»ºäº†ç®€æ˜“çš„ç¥ç»ç½‘ç»œå¯¹æœ¬æ¬¡ä½œä¸šçš„æ•°æ®è¿›è¡Œåˆ†æã€‚è™½ç„¶æœ€ç»ˆå¾—åˆ°çš„æ•ˆæœä¸åŠsklearnï¼Œä½†æ˜¯åœ¨ä½“éªŒçš„è¿‡ç¨‹åŠ æ·±äº†å¯¹ç¥ç»ç½‘ç»œçš„ç†è§£ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å²­å›å½’ï¼Œç‰¹å¾å·¥ç¨‹åˆ†æadvertising.csv</title>
    <link href="/2021/10/28/ridge/"/>
    <url>/2021/10/28/ridge/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœºå™¨å­¦ä¹ ç¬¬äºŒæ¬¡ä½œä¸šè®°å½•ã€‚å°ç»„æˆå‘˜ï¼šæ–¹æ¡‚å®‰ï¼Œåˆ˜ç¥ï¼Œå‘¨æ•ã€‚</p><span id="more"></span><h1 id="ä¸€æ•°æ®åˆ†æ">ä¸€ã€æ•°æ®åˆ†æ</h1><h2 id="æ•°æ®ç¼ºå¤±æ£€æŸ¥">1.1 æ•°æ®ç¼ºå¤±æ£€æŸ¥</h2><p>é¦–å…ˆï¼Œä¸ºäº†æˆ‘ä»¬èƒ½æ­£å¸¸è¿›è¡Œæ•°æ®åˆ†æï¼Œæˆ‘ä»¬è¿›è¡Œäº†æ•°æ®ç¼ºå¤±åˆ†å¸ƒæƒ…å†µæ£€æŸ¥ã€‚ä»£ç åŠç»“æœå¦‚ä¸‹ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026214742931.png" /></p><p>ç¼ºå¤±å€¼æ€»æ•°ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026214800042.png" /></p><p>ç”±ä¸Šå¯çŸ¥ï¼Œæˆ‘ä»¬çš„æ•°æ®ä¸­æ²¡æœ‰ç¼ºå¤±å€¼ï¼Œä¸éœ€è¦è¿›è¡Œæ’å€¼å¤„ç†ã€‚</p><h2 id="é”€å”®é‡ä¸å„åª’ä½“æŠ•å…¥å…³ç³»åˆ†æ">1.2 é”€å”®é‡ä¸å„åª’ä½“æŠ•å…¥å…³ç³»åˆ†æ</h2><h3 id="æ•£ç‚¹å›¾">1.2.1 æ•£ç‚¹å›¾</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026214824135.png" /></p><p>ä»¥ä¸Šæ˜¯é”€å”®é‡ä¸å„é¡¹åª’ä½“æŠ•å…¥é‡çš„æ•£ç‚¹å›¾ã€‚ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œsaleså’ŒTVæŠ•å…¥é‡æœ‰æ˜æ˜¾çš„æ­£ç›¸å…³å…³ç³»ï¼Œéšç€TVæŠ•å…¥å¢å¤šï¼Œsaleså¤§ä½“ä¸Šå‘ˆä¸Šå‡è¶‹åŠ¿ã€‚saleså’ŒradioæŠ•å…¥é‡ä¹Ÿæœ‰è¾ƒå¼±çš„æ­£ç›¸å…³è¶‹åŠ¿ï¼Œä½†salesåˆ†å¸ƒåœ¨ä»¥radioæŠ•å…¥é‡ä¸ºæŒ‡æ ‡æ—¶ï¼Œåˆ†å¸ƒè¾ƒé›¶æ•£ï¼Œç›¸å…³å…³ç³»å¼±äºsalesä¸TVæŠ•å…¥é‡ã€‚è€Œsaleså’Œnewspaperçš„ç›¸å…³æ€§æœ€å¼±ï¼Œsalesé›†ä¸­åˆ†å¸ƒåœ¨newspaperä½æŠ•å…¥åŒºåŸŸå†…ã€‚</p><h3 id="å„é¡¹æ•°æ®åˆ†æ">1.2.2 å„é¡¹æ•°æ®åˆ†æ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026215012236.png" /></p><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼ŒTVç±»å¹¿å‘Šçš„å¹³å‡æŠ•å…¥é‡æœ€å¤§ï¼Œå…¶æŠ•å…¥é‡çš„æœ€å°å€¼ï¼ŒäºŒåˆ†ä½æ•°ï¼Œä¸­ä½æ•°å’Œå››åˆ†ä½æ•°ï¼Œæœ€å¤§å€¼å‡å¤§äºå…¶ä»–ç±»å‹çš„å¹¿å‘Šï¼Œè¯´æ˜ä¼ä¸šåå‘äºåœ¨TVç±»å¹¿å‘ŠæŠ•å…¥æ›´å¤šèµ„é‡‘ã€‚</p><h3 id="ç›¸å…³ç³»æ•°">1.2.3 ç›¸å…³ç³»æ•°</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026215047222.png" /></p><p>ä¸Šå›¾ä¸ºå››ä¸ªå˜é‡çš„ç›¸å…³ç³»æ•°çƒ­åŠ›å›¾ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œé”€å”®é‡å’ŒTVï¼Œradioï¼Œnewspaperçš„ç›¸å…³æ€§ä¾æ¬¡å‡å¼±ã€‚</p><h3 id="æ•£ç‚¹å›¾çŸ©é˜µå¤šå˜é‡ä¹‹é—´çš„å…³ç³»å¯è§†åŒ–">1.2.4æ•£ç‚¹å›¾çŸ©é˜µï¼Œå¤šå˜é‡ä¹‹é—´çš„å…³ç³»å¯è§†åŒ–</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026215104208.png" /></p><h2 id="å¾—å‡ºç»“è®º">1.3 å¾—å‡ºç»“è®º</h2><p>ç”±ä¸Šé¢çš„åˆ†æå¯çŸ¥ï¼Œé”€å”®é‡å’ŒTVæŠ•å…¥é‡ç›¸å…³æ€§æœ€å¤§ï¼Œå…¶æ¬¡æ˜¯radioï¼Œnewspaperï¼Œè¿™ä¹Ÿç¬¦åˆæˆ‘ä»¬ç›®å‰çš„ç¤¾ä¼šæƒ…å†µï¼Œäººä»¬æ›´å¤šçš„æ˜¯åœ¨ç”µè§†ç­‰ç”µå­äº§å“ä¸Šè·å–ä¿¡æ¯ã€‚æ‰€ä»¥ï¼ŒåŠ å¤§ä¸Šè¿°ä¸‰ç§å¹¿å‘Šæ–¹å¼çš„æŠ•å…¥ä¼šå¯¹é”€å”®é‡æœ‰ä¾æ¬¡é€’å‡çš„å¢å¹…å½±å“ã€‚</p><h1id="äºŒæè¿°10æŠ˜äº¤å‰éªŒè¯å¯¹æ•°æ®é›†çš„å¤„ç†">äºŒã€æè¿°10æŠ˜äº¤å‰éªŒè¯å¯¹æ•°æ®é›†çš„å¤„ç†</h1><h2 id="å¼•å…¥10æŠ˜äº¤å‰éªŒè¯çš„åŸå› ">2.1 å¼•å…¥10æŠ˜äº¤å‰éªŒè¯çš„åŸå› </h2><p>æ³›åŒ–èƒ½åŠ›æ˜¯æŒ‡æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒå,å¯¹æ–°æ•°æ®è¿›è¡Œå‡†ç¡®é¢„æµ‹çš„èƒ½åŠ›ã€‚åœ¨æœºå™¨å­¦ä¹ çš„æ¨¡å‹é€‰æ‹©ä¸­ï¼Œæˆ‘ä»¬è¦å¯¹å€™é€‰æ¨¡å‹çš„æ³›åŒ–è¯¯å·®è¿›è¡Œè¯„ä¼°ï¼Œç„¶åé€‰æ‹©æ³›åŒ–è¯¯å·®æœ€å°çš„é‚£ä¸ªæ¨¡å‹ã€‚è€Œå®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è·å¾—æ³›åŒ–è¯¯å·®ï¼Œè€Œè®­ç»ƒè¯¯å·®åˆç”±äºè¿‡æ‹Ÿåˆç°è±¡çš„å­˜åœ¨è€Œä¸é€‚åˆä½œä¸ºæ ‡å‡†ï¼Œæ‰€ä»¥æˆ‘ä»¬éšæœºå°†æ•°æ®é›†åˆ‡ä¸ºä¸‰éƒ¨åˆ†ï¼š</p><ul><li>è®­ç»ƒé›†ï¼šç”¨æ¥è®­ç»ƒæ¨¡å‹ï¼Œå¯¹åº”è®­ç»ƒè¯¯å·®ã€‚</li><li>éªŒè¯é›†ï¼šç”¨æ¥é€‰æ‹©æ¨¡å‹ï¼Œå¯¹åº”æµ‹è¯•è¯¯å·®ã€‚</li><li>æµ‹è¯•é›†ï¼šç”¨æ¥æœ€ç»ˆå¯¹å­¦ä¹ æ–¹æ³•è¿›è¡Œè¯„ä¼°ï¼Œå¯¹åº”æ³›åŒ–è¯¯å·®çš„è¿‘ä¼¼ã€‚</li></ul><p>ä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¸­æ•°æ®å¾€å¾€æ˜¯ä¸å……è¶³çš„ï¼Œä¸ºäº†é€‰æ‹©æ³›åŒ–èƒ½åŠ›æ›´å¥½çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®é›†Dè¿›è¡Œé€‚å½“çš„å¤„ç†ï¼Œä»ä¸­äº§ç”Ÿå‡ºè®­ç»ƒé›†Så’Œæµ‹è¯•é›†Tã€‚å‡ ç§å¸¸è§çš„åšæ³•æœ‰ï¼šç®€å•äº¤å‰éªŒè¯(holdoutcross-validation)ã€ç•™ä¸€äº¤å‰éªŒè¯(leave-one-outcross-validation,LOOCV)ã€<em>k</em>æŠ˜äº¤å‰éªŒè¯(<em>k</em>-foldcross-validation)ã€å¤šé‡<em>k</em>æŠ˜äº¤å‰éªŒè¯ã€åˆ†å±‚æ³•(stratification-splitcross-validation)ã€è‡ªåŠ©æ³•(bootstraps)ç­‰ã€‚è€Œç»¼åˆè€ƒè™‘å‡ ç§æ–¹æ³•çš„ç‰¹ç‚¹åï¼Œæœ¬æ¬¡æˆ‘ä»¬é€‰æ‹©çš„å¤„ç†æ–¹æ³•æ˜¯10æŠ˜äº¤å‰éªŒè¯æ³•ã€‚</p><h2 id="æŠ˜äº¤å‰éªŒè¯çš„åŸºæœ¬åŸç†">2.2 10æŠ˜äº¤å‰éªŒè¯çš„åŸºæœ¬åŸç†</h2><p>10æŠ˜äº¤å‰éªŒè¯æ˜¯æŒ‡å°†åŸå§‹æ•°æ®é›†éšæœºåˆ’åˆ†ä¸ºæ ·æœ¬æ•°é‡è¿‘ä¹ç›¸ç­‰çš„10ä¸ªå­é›†ï¼Œè½®æµå°†å…¶ä¸­çš„9ä¸ªåˆå¹¶ä½œä¸ºè®­ç»ƒé›†ï¼Œå…¶ä½™1ä¸ªä½œä¸ºæµ‹è¯•é›†ã€‚åœ¨æ¯æ¬¡è¯•éªŒä¸­è®¡ç®—æ­£ç¡®ç‡ç­‰è¯„ä»·æŒ‡æ ‡ï¼Œæœ€ç»ˆé€šè¿‡kæ¬¡è¯•éªŒåå–è¯„ä»·æŒ‡æ ‡çš„å¹³å‡å€¼æ¥è¯„ä¼°è¯¥æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p><p>10æŠ˜äº¤å‰éªŒè¯çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹:</p><ol type="1"><li>åŸå§‹æ•°æ®é›†åˆ’åˆ†ä¸º10ä¸ªæ ·æœ¬é‡å°½å¯èƒ½å‡è¡¡çš„å­é›†ï¼›</li><li>ä½¿ç”¨ç¬¬1ä¸ªå­é›†ä½œä¸ºæµ‹è¯•é›†ï¼Œç¬¬2ï½9ä¸ªå­é›†åˆå¹¶ä½œä¸ºè®­ç»ƒé›†ï¼›</li><li>ä½¿ç”¨è®­ç»ƒé›†å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒ,è®¡ç®—å¤šç§è¯„ä»·æŒ‡æ ‡åœ¨æµ‹è¯•é›†ä¸‹çš„ç»“æœï¼›</li><li>é‡å¤2-3æ­¥éª¤,è½®æµå°†ç¬¬2-10ä¸ªå­é›†ä½œä¸ºæµ‹è¯•é›†ï¼›</li><li>è®¡ç®—å„è¯„ä»·æŒ‡æ ‡çš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆç»“æœï¼Œæœ€ç»ˆé€‰å‡º10æ¬¡æµ‹è¯„ä¸­å¹³å‡æµ‹è¯•è¯¯å·®æœ€å°çš„æ¨¡å‹ã€‚</li></ol><p>10æŠ˜äº¤å‰éªŒè¯çš„åŸç†ç¤ºæ„è§ä¸‹å›¾ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211026214227086.png" /></p><p>ç”±äºå°†æ•°æ®é›†Dåˆ’åˆ†ä¸ºkä¸ªå­é›†åŒæ ·å­˜åœ¨å¤šç§åˆ’åˆ†æ–¹å¼ï¼Œä¸ºäº†å‡å°å› æ ·æœ¬åˆ’åˆ†ä¸åŒè€Œå¼•å…¥çš„å·®åˆ«ï¼ŒkæŠ˜äº¤å‰éªŒè¯é€šå¸¸è¦éšæœºä½¿ç”¨ä¸åŒçš„åˆ’åˆ†é‡å¤pæ¬¡ã€‚æ•…æˆ‘ä»¬å¯ä»¥é‡‡ç”¨â€œ10æ¬¡10æŠ˜äº¤å‰éªŒè¯â€ã€‚</p><h2 id="æŠ˜äº¤å‰éªŒè¯å‡½æ•°pythonä»£ç ">2.3 10æŠ˜äº¤å‰éªŒè¯å‡½æ•°pythonä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>model_selection <span class="token keyword">import</span> KFold  <span class="token comment"># ä»sklearnå¯¼å…¥KFoldåŒ…</span><span class="token keyword">def</span> <span class="token function">Ten_Flod_spilt</span><span class="token punctuation">(</span>fold<span class="token punctuation">,</span>data<span class="token punctuation">,</span>label<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    param fold: è¦å–ç¬¬å‡ æŠ˜çš„æ•°æ®ã€‚    param data: éœ€è¦åˆ†å—çš„æ•°æ®    param label: å¯¹åº”çš„éœ€è¦åˆ†å—æ ‡ç­¾    return: å¯¹åº”æŠ˜çš„è®­ç»ƒé›†ã€æµ‹è¯•é›†å’Œå¯¹åº”çš„æ ‡ç­¾    '''</span>    split_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    kf <span class="token operator">=</span> KFold<span class="token punctuation">(</span>n_splits<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> train<span class="token punctuation">,</span> test <span class="token keyword">in</span> kf<span class="token punctuation">.</span>split<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>        split_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>train<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        split_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>test<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    train<span class="token punctuation">,</span>test<span class="token operator">=</span>split_list<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> fold<span class="token punctuation">]</span><span class="token punctuation">,</span>split_list<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> fold <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">return</span>  data<span class="token punctuation">[</span>train<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token punctuation">[</span>train<span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token punctuation">[</span>test<span class="token punctuation">]</span>  <span class="token comment">#å·²ç»åˆ†å¥½å—çš„æ•°æ®é›†</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>åœ¨åç»­ä½¿ç”¨ä¸­åªéœ€å¾ªç¯è°ƒç”¨è¯¥å‡½æ•°å³å¯è¾¾åˆ°10æŠ˜äº¤å‰éªŒè¯çš„ç›®çš„ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        x_train<span class="token punctuation">,</span> x_test<span class="token punctuation">,</span> y_train<span class="token punctuation">,</span> y_test <span class="token operator">=</span> Ten_Flod_spilt<span class="token punctuation">(</span>i<span class="token punctuation">,</span>X_s<span class="token punctuation">,</span>y_s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h1 id="ä¸‰æè¿°æ‰€ä½¿ç”¨çš„çº¿æ€§æ¨¡å‹">ä¸‰ã€æè¿°æ‰€ä½¿ç”¨çš„çº¿æ€§æ¨¡å‹</h1><h2 id="åŸºæœ¬å½¢å¼">3.1 åŸºæœ¬å½¢å¼</h2><p>ç»™å®šç”±dä¸ªå±æ€§æè¿°çš„ç¤ºä¾‹<strong>x</strong>=(x<sub>1</sub>;x<sub>2</sub>;...;x<sub>d</sub>)ï¼Œå…¶ä¸­x<sub>i</sub>æ˜¯<strong>x</strong>åœ¨ç¬¬iä¸ªå±æ€§ä¸Šçš„å–å€¼ï¼Œçº¿æ€§å›å½’(linearregression)è¯•å›¾å­¦å¾—ä¸€ä¸ªé€šè¿‡å±æ€§çš„çº¿æ€§ç»„åˆæ¥è¿›è¡Œé¢„æµ‹çš„å‡½æ•°ï¼Œå³</p><p><span class="math display">\[f(\boldsymbol{x})=w_{1} x_{1}+w_{2} x_{2}+\ldots+w_{d} x_{d}+b\]</span></p><p>ä¸€èˆ¬ç”¨å‘é‡å½¢å¼å†™æˆ</p><p><span class="math display">\[f(\boldsymbol{x})=\boldsymbol{w}^{\mathrm{T}} \boldsymbol{x}+b\]</span></p><p>å…¶ä¸­<strong>w</strong>=(w<sub>1</sub>;w<sub>2</sub>;... ;w<sub>d</sub>)ã€‚<strong>w</strong>å’Œbå­¦å¾—ä¹‹åï¼Œæ¨¡å‹å°±å¾—ä»¥ç¡®å®šã€‚</p><p>æ•…æœ¬é¢˜ä¸­çš„æ¨¡å‹åº”è¯¥ä¸º</p><p><span class="math display">\[\widehat{Sales}=w_{1} Â·TV+w_{2} Â·radio+w_{3}Â·newspaper+bï¼Œä½¿å¾—\widehat{Sales}\cong Sales\]</span></p><p>æ­¤å¤„æœ‰ä¸‰ä¸ªå±æ€§æè¿°æ ·æœ¬ï¼Œæ•…åˆç§°ä¸ºå¤šå…ƒçº¿æ€§å›å½’(multivariate linearregression)ã€‚</p><p>å…¶åŸºæœ¬å½¢å¼ä¸º</p><p><span class="math display">\[\hat{f}\left(\hat{x}_{N+1}\right)=\hat{x}_{N+1}^{T}\widehat{\omega}^{*}\\å…¶ä¸­  \hat{x}_{N+1}=\left(x_{N+1} ; 1\right) \in \mathbb{R}^{n+1},\widehat{\omega}^{*}=\left(\omega^{*} ; b^{*}\right) \in\mathbb{R}^{n+1}\]</span></p><h2 id="å²­å›å½’">3.2 å²­å›å½’</h2><p>å‰æ´ªè¯ºå¤«æ­£åˆ™åŒ–ä»¥å®‰å¾·çƒˆÂ·å°¼å¤æ‹‰è€¶ç»´å¥‡Â·å‰æ´ªè¯ºå¤«å‘½åï¼Œä¸ºéé€‚å®šæ€§é—®é¢˜çš„æ­£åˆ™åŒ–ä¸­æœ€å¸¸è§çš„æ–¹æ³•ã€‚åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œæœ¬æ–¹æ³•è¢«ç§°ä¸ºè„Šå›å½’æˆ–å²­å›å½’ï¼ˆridgeregressionï¼‰ï¼›åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸåˆ™ç§°ä¸ºæƒé‡è¡°å‡æˆ–æƒå€¼è¡°å‡ï¼ˆweightdecayï¼‰ã€‚å› ä¸ºæœ‰ä¸åŒçš„æ•°å­¦å®¶ç‹¬ç«‹å‘ç°æ­¤æ–¹æ³•ï¼Œæ­¤æ–¹æ³•åˆç§°åšå‰æ´ªè¯ºå¤«ï¼ç±³å‹’æ³•ï¼ˆTikhonovâ€“Millermethodï¼‰ã€è²åˆ©æµ¦æ–¯ï¼å›¾ç±³æ³•ï¼ˆPhillipsâ€“Twomeymethodï¼‰ã€å—é™çº¿æ€§åæ¼”ï¼ˆconstrained linear inversionmethodï¼‰ï¼Œæˆ–çº¿æ€§æ­£è§„åŒ–ï¼ˆlinear regularizationï¼‰ã€‚</p><p><span class="math display">\[min\ L(W)=\frac{1}{2}(XW-y)^T(XW-y)+\frac{1}{2}\alpha||W||^2_2\]</span></p><p><span class="math display">\[W=(X^TX+\alpha I)^{-1}X^Ty\]</span></p><p>æ ¹æ®4.2ã€4.3çš„åˆ†æï¼Œæˆ‘ä»¬æœ€ç»ˆå†³å®šåœ¨æœ€å°äºŒä¹˜æ³•çš„åŸºç¡€ä¸Šé‡‡å–L2æ­£åˆ™åŒ–ï¼Œå³å²­å›å½’ã€‚ç›¸åº”åœ°ï¼Œä¸ºäº†ä½¿ç”¨å²­å›å½’å’Œç¼©å‡æŠ€æœ¯ï¼Œé¦–å…ˆéœ€è¦å¯¹ç‰¹å¾åšæ ‡å‡†åŒ–å¤„ç†ã€‚å› ä¸ºï¼Œæˆ‘ä»¬éœ€è¦ä½¿æ¯ä¸ªç»´åº¦ç‰¹å¾å…·æœ‰ç›¸åŒçš„é‡è¦æ€§ï¼Œæ•…é‡‡ç”¨äº†z-scoreæ ‡å‡†åŒ–ã€‚éšç€æ¨¡å‹å¤æ‚åº¦çš„æå‡ï¼Œåœ¨è®­ç»ƒé›†ä¸Šçš„æ•ˆæœå°±è¶Šå¥½ï¼Œå³æ¨¡å‹çš„åå·®å°±è¶Šå°ï¼›ä½†æ˜¯åŒæ—¶æ¨¡å‹çš„æ–¹å·®å°±è¶Šå¤§ã€‚å¯¹äºå²­å›å½’çš„Î±è€Œè¨€ï¼Œéšç€Î±çš„å¢å¤§ï¼Œ<spanclass="math inline">\(|X^TX+\alpha I|\)</span>å°±è¶Šå¤§ï¼Œ<spanclass="math inline">\((X^TX+\alpha I)^{-1}\)</span>å°±è¶Šå°ï¼Œæ¨¡å‹çš„æ–¹å·®å°±è¶Šå°ï¼›è€ŒÎ±è¶Šå¤§ä½¿å¾—<strong>W</strong>çš„ä¼°è®¡å€¼æ›´åŠ åç¦»çœŸå®å€¼ï¼Œæ¨¡å‹çš„åå·®å°±è¶Šå¤§ã€‚æ‰€ä»¥å²­å›å½’çš„å…³é”®æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆç†çš„Î±å€¼æ¥å¹³è¡¡æ¨¡å‹çš„æ–¹å·®å’Œåå·®ã€‚</p><p>æœ¬æ¬¡ä½¿ç”¨10æŠ˜äº¤å‰éªŒè¯æ³•æ¥ç¡®å®šÎ±å€¼ï¼Œæ¯ä¸€ç§è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸‹éƒ½ä¼šæœ‰å¯¹åº”çš„ä¸€ä¸ªæ¨¡å‹åŠæ¨¡å‹è¯„åˆ†ï¼ˆå¦‚å‡æ–¹è¯¯å·®ï¼‰ï¼Œè¿›è€Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå¹³å‡è¯„åˆ†ã€‚å¯¹äºÎ±å€¼åˆ™é€‰æ‹©å¹³å‡è¯„åˆ†æœ€ä¼˜çš„Î±å€¼ã€‚</p><h2 id="ç‰¹å¾å·¥ç¨‹">3.3 ç‰¹å¾å·¥ç¨‹</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211027233323219.png" /></p><p>å¦‚å›¾æ‰€ç¤ºä¸ºæ¢¯åº¦ä¸‹é™æ³•ï¼Œæœ€å°äºŒä¹˜æ³•å’Œsklearnè°ƒç”¨æ‰€å¾—ç»“æœä¸çœŸå®å€¼çš„å¯¹æ¯”æŠ˜çº¿å›¾ã€‚ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸‰ç§æŠ˜çº¿éƒ½å·²ç»æ¥è¿‘é‡åˆï¼Œä½†åˆä¸çœŸå®å€¼å­˜åœ¨å·®å¼‚ã€‚æŸ¥é˜…èµ„æ–™åï¼Œæˆ‘ä»¬äº†è§£äº†ç‰¹å¾å·¥ç¨‹çš„ç›¸å…³çŸ¥è¯†ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/967090-20170116151505067-1134887580.png" /></p><p>â€œæ•°æ®å†³å®šäº†æœºå™¨å­¦ä¹ çš„ä¸Šé™ï¼Œè€Œç®—æ³•åªæ˜¯å°½å¯èƒ½é€¼è¿‘è¿™ä¸ªä¸Šé™â€ï¼Œè¿™é‡Œçš„æ•°æ®æŒ‡çš„å°±æ˜¯ç»è¿‡ç‰¹å¾å·¥ç¨‹å¾—åˆ°çš„æ•°æ®ã€‚ç‰¹å¾å·¥ç¨‹æŒ‡çš„æ˜¯æŠŠåŸå§‹æ•°æ®è½¬å˜ä¸ºæ¨¡å‹çš„è®­ç»ƒæ•°æ®çš„è¿‡ç¨‹ï¼Œå®ƒçš„ç›®çš„å°±æ˜¯è·å–æ›´å¥½çš„è®­ç»ƒæ•°æ®ç‰¹å¾ï¼Œä½¿å¾—æœºå™¨å­¦ä¹ æ¨¡å‹é€¼è¿‘è¿™ä¸ªä¸Šé™ã€‚ç‰¹å¾å·¥ç¨‹èƒ½ä½¿å¾—æ¨¡å‹çš„æ€§èƒ½å¾—åˆ°æå‡ï¼Œæœ‰æ—¶ç”šè‡³åœ¨ç®€å•çš„æ¨¡å‹ä¸Šä¹Ÿèƒ½å–å¾—ä¸é”™çš„æ•ˆæœã€‚ç‰¹å¾å·¥ç¨‹åœ¨æœºå™¨å­¦ä¹ ä¸­å æœ‰éå¸¸é‡è¦çš„ä½œç”¨ï¼Œä¸€èˆ¬è®¤ä¸ºæ‹¬ç‰¹å¾æ„å»ºã€ç‰¹å¾æå–ã€ç‰¹å¾é€‰æ‹©ä¸‰ä¸ªéƒ¨åˆ†ã€‚ç‰¹å¾æ„å»ºæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä¸€å®šçš„ç»éªŒã€‚ç‰¹å¾æå–ä¸ç‰¹å¾é€‰æ‹©éƒ½æ˜¯ä¸ºäº†ä»åŸå§‹ç‰¹å¾ä¸­æ‰¾å‡ºæœ€æœ‰æ•ˆçš„ç‰¹å¾ã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ç‰¹å¾æå–å¼ºè°ƒé€šè¿‡ç‰¹å¾è½¬æ¢çš„æ–¹å¼å¾—åˆ°ä¸€ç»„å…·æœ‰æ˜æ˜¾ç‰©ç†æˆ–ç»Ÿè®¡æ„ä¹‰çš„ç‰¹å¾ï¼›è€Œç‰¹å¾é€‰æ‹©æ˜¯ä»ç‰¹å¾é›†åˆä¸­æŒ‘é€‰ä¸€ç»„å…·æœ‰æ˜æ˜¾ç‰©ç†æˆ–ç»Ÿè®¡æ„ä¹‰çš„ç‰¹å¾å­é›†ã€‚ä¸¤è€…éƒ½èƒ½å¸®åŠ©å‡å°‘ç‰¹å¾çš„ç»´åº¦ã€æ•°æ®å†—ä½™ï¼Œç‰¹å¾æå–æœ‰æ—¶èƒ½å‘ç°æ›´æœ‰æ„ä¹‰çš„ç‰¹å¾å±æ€§ï¼Œç‰¹å¾é€‰æ‹©çš„è¿‡ç¨‹ç»å¸¸èƒ½è¡¨ç¤ºå‡ºæ¯ä¸ªç‰¹å¾çš„é‡è¦æ€§å¯¹äºæ¨¡å‹æ„å»ºçš„é‡è¦æ€§ã€‚</p><p>æœ¬æ¬¡ä½œä¸šä¸­ä¸»è¦ä½¿ç”¨äº†ç‰¹å¾æ„å»ºã€ç‰¹å¾é€‰æ‹©ã€ç‰¹å¾ç¼©æ”¾ï¼Œå…·ä½“ç»“æœå°†åœ¨ç¬¬äº”éƒ¨åˆ†è®¨è®ºã€‚</p><h1 id="å››æè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•">å››ã€æè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•</h1><h2 id="æ•°æ®é¢„å¤„ç†">4.1 æ•°æ®é¢„å¤„ç†</h2><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211027090542621.png" /></p><p>æœ¬æ¬¡æ•°æ®å¤„ç†ä½¿ç”¨çš„æ˜¯z-scoreæ ‡å‡†åŒ–ï¼Œè½¬æ¢å…¬å¼ä¸ºï¼š</p><p><span class="math display">\[z=\frac{x-\mu}{\sigma}\]</span></p><p>ä½¿ç”¨pythonå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fit_transform</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    std_ <span class="token operator">=</span> np<span class="token punctuation">.</span>std<span class="token punctuation">(</span>x<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># æ ‡å‡†å·®</span>    mean_ <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>x<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># å‡å€¼</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> mean_<span class="token punctuation">)</span> <span class="token operator">/</span> std_<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ç­–ç•¥">4.2 ç­–ç•¥</h2><h3 id="ç»éªŒé£é™©æœ€å°åŒ–">4.2.1 ç»éªŒé£é™©æœ€å°åŒ–</h3><p>å‡æ–¹è¯¯å·®æ˜¯å›å½’ä»»åŠ¡ä¸­æœ€å¸¸ç”¨çš„æ€§èƒ½åº¦é‡ï¼Œå› æ­¤æˆ‘ä»¬å¯è¯•å›¾è®©å‡æ–¹è¯¯å·®æœ€å°åŒ–ï¼Œå³</p><p><span class="math display">\[\begin{aligned}\left(w^{*}, b^{*}\right) &amp;=\underset{(w, b)}{\arg \min }\sum_{i=1}^{m}\left(f\left(x_{i}\right)-y_{i}\right)^{2} \\&amp;=\underset{(w, b)}{\arg \min } \sum_{i=1}^{m}\left(y_{i}-wx_{i}-b\right)^{2}\end{aligned}\]</span></p><p>å‡æ–¹è¯¯å·®æœ‰éå¸¸å¥½çš„å‡ ä½•æ„ä¹‰ï¼Œå®ƒå¯¹åº”äº†å¸¸ç”¨çš„æ¬§å‡ é‡Œå¾—è·ç¦»æˆ–ç®€ç§°â€œæ¬§æ°è·ç¦»â€(Euclideandistance)ã€‚åŸºäºå‡æ–¹è¯¯å·®æœ€å°åŒ–æ¥è¿›è¡Œæ¨¡å‹æ±‚è§£çš„æ–¹æ³•ç§°ä¸ºâ€œæœ€å°äºŒä¹˜æ³•â€(leastsquare method)ã€‚å…·ä½“æ±‚è§£è¿‡ç¨‹åœ¨4.3ä¸­è¿›è¡Œä»‹ç»ã€‚</p><h3 id="ç»“æ„é£é™©æœ€å°åŒ–">4.2.2 ç»“æ„é£é™©æœ€å°åŒ–</h3><h4 id="æ­£åˆ™åŒ–">4.2.2.1 æ­£åˆ™åŒ–</h4><p>å½“æ¨¡å‹çš„å¤æ‚åº¦å¢å¤§æ—¶ï¼Œè®­ç»ƒè¯¯å·®ä¼šé€æ¸å‡å°å¹¶è¶‹äº0ï¼›è€Œæµ‹è¯•è¯¯å·®ä¼šå…ˆå‡å°ï¼Œè¾¾åˆ°æœ€å¤§å€¼ååˆå¢å¤§ã€‚å½“é€‰æ‹©çš„æ¨¡å‹å¤æ‚åº¦è¿‡å¤§æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿‡æ‹Ÿåˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211027095448459.png" /></p><p>ä¸ºäº†é¿å…å› ä¸ºè¿‡æ‹Ÿåˆé—®é¢˜è€Œå¯¼è‡´æ‹Ÿåˆæ•ˆæœä¸ä½³ï¼Œæˆ‘ä»¬åœ¨ç»éªŒé£é™©ä¸ŠåŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹æˆ–ç½šé¡¹ï¼Œä½¿ç»“æ„é£é™©æœ€å°ï¼Œè¿™ç§æ–¹æ³•å«åšæ­£åˆ™åŒ–ï¼Œä¸€èˆ¬å…·æœ‰å¦‚ä¸‹å½¢å¼ï¼š</p><p><span class="math display">\[\min _{f \in \mathcal{F}} \sum_{i=1}^{N} L\left(y_{i},f\left(x_{i}\right)\right)+\lambda J(f)\]</span></p><h4 id="l1ä¸l2æ­£åˆ™åŒ–">4.2.2.2 L1ä¸L2æ­£åˆ™åŒ–</h4><p>ä½¿ç”¨L1èŒƒæ•°ï¼ˆä¹Ÿç§°æ›¼å“ˆé¡¿è·ç¦»æˆ–TaxicabèŒƒæ•°ï¼Œåªå…è®¸åœ¨ä¸ç©ºé—´è½´å¹³è¡Œè¡Œå¾„çš„è·ç¦»ï¼‰åˆå«<strong>lasso</strong>å›å½’ï¼ŒæŸå¤±å‡½æ•°å˜ä¸ºï¼š</p><p><span class="math display">\[J(\mathbf{W})=\frac{1}{2 n}(\mathbf{X}\mathbf{W}-\mathbf{Y})^{T}(\mathbf{X}\mathbf{W}-\mathbf{Y})+\alpha\|W\|_{1}\]</span></p><p>ä½¿ç”¨L2èŒƒæ•°ï¼ˆä¹Ÿç§°æ¬§å‡ é‡Œå¾·è·ç¦»ï¼Œæ˜¯å‘é‡åˆ°åŸç‚¹çš„æœ€çŸ­è·ç¦»ï¼‰åˆå«<strong>ridge</strong>å›å½’ï¼ŒæŸå¤±å‡½æ•°å˜ä¸ºï¼š</p><p><span class="math display">\[J(\mathbf{W})=\frac{1}{2}(\mathbf{X}\mathbf{W}-\mathbf{Y})^{T}(\mathbf{X} \mathbf{W}-\mathbf{Y})+\frac{1}{2}\alpha\|W\|_{2}^{2}\]</span></p><p>L1èƒ½ä½¿å¾—ä¸€äº›ç‰¹å¾çš„ç³»æ•°å˜å°ï¼Œç”šè‡³è¿˜ä½¿ä¸€äº›ç»å¯¹å€¼è¾ƒå°çš„ç³»æ•°ç›´æ¥å˜ä¸º0ï¼Œäº§ç”Ÿç¨€ç–è§£ï¼Œèµ·åˆ°ç‰¹å¾é€‰æ‹©çš„ä½œç”¨ï¼Œå¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p><p>L2çš„ä¼˜ç‚¹æ˜¯å¯ä»¥é™åˆ¶|w|çš„å¤§å°ï¼Œä»è€Œä½¿æ¨¡å‹æ›´ç®€å•ï¼Œæ›´ç¨³å®šï¼Œå³ä½¿åŠ å…¥ä¸€äº›å¹²æ‰°æ ·æœ¬ä¹Ÿä¸ä¼šå¯¹æ¨¡å‹äº§ç”Ÿè¾ƒå¤§çš„å½±å“ï¼Œè€Œä¸”è¿˜èƒ½è§£å†³éæ­£å®šçš„é—®é¢˜ï¼Œå¼ºåˆ¶ä½¿XTXå¯é€†æœ‰è§£ã€‚</p><p><span class="math display">\[\theta=\left(X X^{T}+\alpha I\right)^{-1} X Y\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/1335117-20180708193526314-357302334.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/1335117-20180708194712773-1094778410.png" /></p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œä¸¤ä¸ªåæ ‡åˆ†åˆ«æ˜¯è¦å­¦ä¹ åˆ°çš„ä¸¤ä¸ªå‚æ•°Ï‰1å’ŒÏ‰2ï¼›å½©è‰²çº¿æ˜¯æŸå¤±å‡½æ•°Jçš„ç­‰é«˜çº¿å³æŸå¤±å€¼ç›¸ç­‰çº¿ï¼›æ–¹å½¢å’Œåœ†å½¢å°±åˆ†åˆ«æ˜¯L1å’ŒL2æ‰€äº§ç”Ÿçš„é¢å¤–è¯¯å·®ï¼ˆçº¦æŸç©ºé—´ï¼‰ï¼›æœ€åçš„ç›®æ ‡è¦æ˜¯ä¸¤è€…æœ€å°ï¼Œå³è¦å¾—åˆ°èƒ½ä½¿ä¸¤è€…ç›¸åŠ æœ€å°çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„é»‘è‰²äº¤ç‚¹ã€‚åœ¨ç”»ç­‰å·®å›¾æ—¶ï¼ŒL1çš„æ•ˆæœå°±å¾ˆå®¹æ˜“ä¸åæ ‡è½´ç›¸äº¤äº†ï¼Œè¿™å°±æ˜¯ä¼šäº§ç”Ÿå¾ˆå¤š0ï¼Œå³é€ æˆå‚æ•°ç¨€ç–çš„åŸå› ã€‚è€Œä¸”åŒæ—¶å¦‚æœç»™ä¸€ä¸ªå¾®å°çš„åç§»ï¼ŒL2ç§»åŠ¨ä¸ä¼šå¾ˆå¤§ï¼Œè€ŒL1å¯èƒ½ä¼šç§»åŠ¨åˆ°æ–¹å½¢è¾¹ä¸Šäº§ç”Ÿå¾ˆå¤šçš„äº¤ç‚¹ï¼Œæ‰€ä»¥L1æ¯”è¾ƒä¸ç¨³å®šã€‚</p><p>L2å€¾å‘äºä½¿Ï‰çš„åˆ†é‡å–å€¼æ›´å‡è¡¡ï¼Œå³éé›¶åˆ†é‡ä¸ªæ•°æ›´ç¨ å¯†ï¼Œè€ŒL1å€¾å‘Ï‰çš„åˆ†é‡å–å€¼æ›´ç¨€ç–ï¼Œå³éé›¶åˆ†é‡ä¸ªæ•°æ›´å°‘ã€‚æ‰€ä»¥ä»å›¾å¯ä»¥çœ‹å‡ºL1çš„è¾¹ç¼˜æ¯”è¾ƒå°–é”ï¼Œä¸ç›®æ ‡å‡½æ•°çš„ç­‰é«˜çº¿ç›¸äº¤æ—¶ï¼Œäº¤ç‚¹ä¼šå¸¸åœ¨é‚£äº›å°–é”çš„åœ°æ–¹ï¼Œæ‰€ä»¥å¾ˆå¤šçš„å‚æ•°å°±æ˜¯0ï¼Œå³L1èƒ½äº§ç”Ÿç¨€ç–è§£ã€‚æ‰€ä»¥åœ¨è°ƒå‚æ—¶å¦‚æœæˆ‘ä»¬ä¸»è¦çš„ç›®çš„åªæ˜¯ä¸ºäº†è§£å†³è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬é€‰æ‹©L2æ­£åˆ™åŒ–å°±å¤Ÿäº†ã€‚ä½†æ˜¯å¦‚æœé€‰æ‹©L2æ­£åˆ™åŒ–å‘ç°è¿˜æ˜¯è¿‡æ‹Ÿåˆï¼Œå³é¢„æµ‹æ•ˆæœå·®çš„æ—¶å€™ï¼Œå°±å¯ä»¥è€ƒè™‘L1æ­£åˆ™åŒ–ã€‚å¦å¤–ï¼Œå¦‚æœæ¨¡å‹çš„ç‰¹å¾éå¸¸å¤šï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€äº›ä¸é‡è¦çš„ç‰¹å¾ç³»æ•°å½’é›¶ï¼Œä»è€Œè®©æ¨¡å‹ç³»æ•°ç¨€ç–åŒ–çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨L1æ­£åˆ™åŒ–ã€‚</p><p>ç»¼åˆè€ƒè™‘ï¼Œæˆ‘ä»¬åœ¨æœ¬æ¬¡çš„æŸå¤±å‡½æ•°ä¸­å¼•å…¥çš„æ˜¯L2æ­£åˆ™åŒ–ã€‚</p><h2 id="ç®—æ³•">4.3 ç®—æ³•</h2><h3 id="æœ€å°äºŒä¹˜æ³•">4.3.1 æœ€å°äºŒä¹˜æ³•</h3><h4 id="é—®é¢˜åˆ†æ">4.3.1.1 é—®é¢˜åˆ†æ</h4><p>æˆ‘ä»¬çš„ç­–ç•¥æ˜¯</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028184420327.png" /></p><p>æˆ‘ä»¬è¿›è¡Œå±•å¼€</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028184438472.png" /></p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬è¿›è¡Œæ¢¯åº¦æ¨å¯¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028184450724.png" /></p><p>ç”±äº<span class="math inline">\(L(W)\)</span>æ˜¯å…³äº<spanclass="math inline">\(W\)</span>çš„å‡¸å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ¢¯åº¦ä¸ºé›¶çš„ç‚¹ï¼Œå³æ˜¯æˆ‘ä»¬è¦æ±‚çš„æœ€ä¼˜è§£ã€‚</p><p><span class="math display">\[ä»¤\frac{\partial L}{\partial W}=0\\å¾—(X^TX+\alpha I)W=X^Ty\]</span></p><p>æˆ‘ä»¬è¦é€šè¿‡æ­¤æ–¹æ³•æ±‚å¾—<spanclass="math inline">\(W\)</span>ï¼Œéœ€è¦çš„æ¡ä»¶æ˜¯<spanclass="math inline">\(X^TX+\alpha I\)</span>å¯é€†ï¼Œè‹¥å…¶å¯é€†ï¼Œåˆ™<spanclass="math inline">\(W\)</span>çš„è§£æ˜¯</p><p><span class="math display">\[W=(X^TX+\alpha I)^{-1}X^Ty\]</span></p><p>å› ä¸ºæœ€å°äºŒä¹˜æ³•è¦æ±‚<span class="math inline">\(X^TX+\alphaI\)</span>å¿…é¡»å­˜åœ¨å¯é€†çŸ©é˜µï¼Œåœ¨å®é™…é—®é¢˜ä¸­å¯èƒ½ä¸æ»¡è¶³ï¼Œäºæ˜¯æˆ‘ä»¬ä¸‹é¢é‡‡ç”¨æ¢¯åº¦ä¸‹é™æ³•è¿›è¡Œè¿­ä»£æ±‚è§£ã€‚</p><h4 id="ä»£ç å®ç°">4.3.1.2 ä»£ç å®ç°</h4><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">lms</span><span class="token punctuation">(</span>x_train<span class="token punctuation">,</span> x_test<span class="token punctuation">,</span> y_train<span class="token punctuation">,</span> y_test<span class="token punctuation">)</span><span class="token punctuation">:</span>    x_train_<span class="token operator">=</span>np<span class="token punctuation">.</span>c_<span class="token punctuation">[</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">[</span>x_train<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>x_train<span class="token punctuation">]</span>    x_test_<span class="token operator">=</span>np<span class="token punctuation">.</span>c_<span class="token punctuation">[</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">[</span>x_test<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>x_test<span class="token punctuation">]</span>    theta_n <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>inv<span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x_train_<span class="token punctuation">.</span>T<span class="token punctuation">,</span> x_train_<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0.1</span><span class="token operator">*</span>np<span class="token punctuation">.</span>eye<span class="token punctuation">(</span>x_train_<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_train_<span class="token punctuation">.</span>T<span class="token punctuation">)</span><span class="token punctuation">,</span> y_train<span class="token punctuation">)</span>  <span class="token comment"># theta = (X`X)^(-1)X`Yï¼Œå…¶ä¸­X`è¡¨ç¤ºXçš„è½¬ç½®ï¼Œä½¿ç”¨L2èŒƒæ•°æ­£åˆ™åŒ–</span>    y_pre <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x_test_<span class="token punctuation">,</span> theta_n<span class="token punctuation">)</span>    mse <span class="token operator">=</span> np<span class="token punctuation">.</span>average<span class="token punctuation">(</span><span class="token punctuation">(</span>y_test <span class="token operator">-</span> y_pre<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> theta_n<span class="token punctuation">,</span> y_pre<span class="token punctuation">,</span> mse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ¢¯åº¦ä¸‹é™æ³•">4.3.2 æ¢¯åº¦ä¸‹é™æ³•</h3><h4 id="é—®é¢˜åˆ†æ-1">4.3.2.1 é—®é¢˜åˆ†æ</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸‹å¼</p><p><span class="math display">\[ä»¤\hat{\omega}=W\\E(\hat{\omega})=\frac{1}{2}(X\hat{\omega}-y)^T(X\hat{\omega}-y)+\frac{1}{2}\alpha||\hat{\omega}||^2_2\quad,\hat{\omega}=\mathop{argmin}_\hat{\omega}\E(\hat{\omega})\]</span></p><p>æ¢¯åº¦ä¸‹é™æ³•æ˜¯ä¸€ç§è¿­ä»£ç®—æ³•ï¼šæˆ‘ä»¬é€‰å–é€‚å½“çš„åˆå§‹å€¼<spanclass="math inline">\(\hat{\omega}^{(0)}\)</span>ï¼Œä¸æ–­è¿­ä»£ï¼Œæ›´æ–°<spanclass="math inline">\(\hat{\omega}\)</span>çš„å€¼ï¼Œè¿›è¡Œç›®æ ‡å‡½æ•°çš„æå°åŒ–ï¼Œç›´åˆ°æ”¶æ•›ã€‚ç”±äºè´Ÿæ¢¯åº¦æ–¹å‘æ˜¯ä½¿å¾—å‡½æ•°å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Œåœ¨è¿­ä»£çš„æ¯ä¸€æ­¥ï¼Œä»¥è´Ÿæ¢¯åº¦æ–¹å‘æ›´æ–°<spanclass="math inline">\(\hat{\omega}\)</span>çš„å€¼ï¼Œä»è€Œè¾¾åˆ°å‡å°å‡½æ•°å€¼çš„ç›®çš„ã€‚å¦‚ä¸‹å›¾å½¢è±¡åŒ–è¡¨ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211027100605390.png" /></p><h4 id="æ ¸å¿ƒæ€æƒ³">4.3.2.2 æ ¸å¿ƒæ€æƒ³</h4><ol type="1"><li><spanclass="math inline">\(E(\hat{\omega})\)</span>æ˜¯å…·æœ‰ä¸€é˜¶è¿ç»­åå¯¼æ•°çš„å‡¸å‡½æ•°ï¼Œå…¶æå€¼ç‚¹åœ¨ä¸€é˜¶å¯¼æ•°ä¸ºé›¶çš„åœ°æ–¹å–å¾—</li><li>ä¸€é˜¶æ³°å‹’å±•å¼€ï¼š<spanclass="math inline">\(E(\hat{\omega})\thickapproxE(\hat{\omega}^{(k)})+\nablaE(\hat{\omega}^{(k)})(\hat{\omega}-\hat{\omega}^{(k)})\)</span>ï¼Œå…¶ä¸­ï¼Œ<spanclass="math inline">\(\nabla E(\hat{\omega}^{(k)})\)</span>æ˜¯<spanclass="math inline">\(E(\hat{\omega})\)</span>åœ¨<spanclass="math inline">\(\hat{\omega}^{(k)}\)</span>çš„æ¢¯åº¦ï¼š</li></ol><p><span class="math display">\[\nabla E(\hat{\omega}^{(k)})=\frac{\partial E(\hat{\omega})}{\partial\hat{\omega}}|_{\hat{\omega}=\hat{\omega}^{(k)}}\]</span></p><ol start="3" type="1"><li>æ±‚å–ç¬¬k+1æ¬¡è¿­ä»£å€¼ï¼š<spanclass="math inline">\(\hat{\omega}^{k+1}=\hat{\omega}^{(k)}+\eta_k*(-\nablaE(\hat{\omega}^{(k)}))\)</span>ï¼Œå…¶ä¸­<spanclass="math inline">\(\eta_k\)</span>æ˜¯æ­¥é•¿ï¼Œæœ‰æˆ‘ä»¬æœ€åˆæŒ‡å®šã€‚æ¢¯åº¦å¦‚ä¸‹ï¼ˆæ¨å¯¼åœ¨ä¸Šé¢éƒ¨åˆ†ï¼‰ï¼š<span class="math display">\[\frac{\partial E}{\partial \hat{\omega}}=X^TX\hat{\omega}-X^Ty+\alphaI\hat{\omega}\quad(Iæ˜¯n\times nçš„å•ä½çŸ©é˜µ)\]</span></li></ol><h4 id="æ±‚è§£æ­¥éª¤">4.3.2.3 æ±‚è§£æ­¥éª¤</h4><p>è¾“å…¥ï¼šç›®æ ‡å‡½æ•°<spanclass="math inline">\(E(\hat{\omega})\)</span>ï¼Œæ¢¯åº¦å‡½æ•°<spanclass="math inline">\(\nablaE(\hat{\omega})\)</span>ï¼Œè®¡ç®—ç²¾åº¦Îµï¼Œæ­¥é•¿<spanclass="math inline">\(\eta_k\)</span>ï¼›</p><p>è¾“å‡ºï¼š <spanclass="math inline">\(E(\hat{\omega})\)</span>çš„æå°ç‚¹<spanclass="math inline">\(\hat{\omega}^*\)</span>ã€‚</p><p>ï¼ˆ1ï¼‰å–åˆå§‹å€¼<span class="math inline">\(\hat{\omega}^{(0)}\in\mathbb{R}^{d+1}\)</span>ï¼Œç½®k=0ï¼›</p><p>ï¼ˆ2ï¼‰è®¡ç®—<spanclass="math inline">\(E(\hat{\omega}^{(k)})\)</span>ï¼›</p><p>ï¼ˆ3ï¼‰è®¡ç®—æ¢¯åº¦<span class="math inline">\(\nablaE(\hat{\omega}^{(k)})\)</span>ï¼Œå½“<span class="math inline">\(||\nablaE(\hat{\omega}^{(k)})||&lt;\varepsilon\)</span>æ—¶ï¼Œä»¤<spanclass="math inline">\(\hat{\omega}^*=\hat{\omega}^{(k)}\)</span>ï¼Œ</p><p>åœæ­¢è¿­ä»£ï¼›</p><p>ï¼ˆ4ï¼‰ç½®<spanclass="math inline">\(\hat{\omega}^{(k+1)}=\hat{\omega}^{(k)}+\eta_k(-\nablaE(\hat{\omega}^{(k)}))\)</span>ï¼Œè®¡ç®—<spanclass="math inline">\(E(\hat{\omega}^{(k+1)})\)</span>ï¼Œ</p><p>å½“<spanclass="math inline">\(||E(\hat{\omega}^{(k+1)})-E(\hat{\omega}^{(k)})||&lt;\varepsilon\)</span>æˆ–<spanclass="math inline">\(||\hat{\omega}^{(k+1)}-\hat{\omega}^{(k)}||&lt;\varepsilon\)</span>æ—¶ï¼Œ</p><p>ä»¤<spanclass="math inline">\(\hat{\omega}^*=\hat{\omega}^{(k)}\)</span>ï¼Œåœæ­¢è¿­ä»£ï¼›</p><p>ï¼ˆ5ï¼‰å¦åˆ™ï¼Œç½®k=k+1ï¼Œè½¬æ­¥éª¤ï¼ˆ3ï¼‰ã€‚</p><h4 id="ä»£ç å®ç°-1">4.3.2.4 ä»£ç å®ç°</h4><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GradientDescent_MultiLine</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> lr<span class="token punctuation">,</span> epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>lr <span class="token operator">=</span> lr  <span class="token comment"># å­¦ä¹ ç‡ï¼Œç”¨æ¥æ§åˆ¶æ­¥é•¿ï¼ˆæƒé‡è°ƒæ•´å¹…åº¦ï¼‰</span>        self<span class="token punctuation">.</span>epochs <span class="token operator">=</span> epochs  <span class="token comment"># å¾ªç¯è¿­ä»£çš„æ¬¡æ•°</span>        self<span class="token punctuation">.</span>lose <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># æŸå¤±å€¼è®¡ç®—ï¼ˆæŸå¤±å‡½æ•°ï¼‰ï¼šå‡æ–¹è¯¯å·®</span>    <span class="token triple-quoted-string string">'''æ ¹æ®æä¾›çš„è®­ç»ƒæ•°æ®å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒ'''</span>    <span class="token keyword">def</span> <span class="token function">fit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        y <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>y<span class="token punctuation">)</span>        y <span class="token operator">=</span> np<span class="token punctuation">.</span>squeeze<span class="token punctuation">(</span>y<span class="token punctuation">)</span>  <span class="token comment"># å»æ‰å†—ä½™çš„ç»´åº¦</span>        self<span class="token punctuation">.</span>w <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> x<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># åˆå§‹æƒé‡ï¼Œæƒé‡å‘é‡åˆå§‹å€¼ä¸º0ï¼ˆæˆ–ä»»ä½•å…¶ä»–å€¼ï¼‰ï¼Œé•¿åº¦æ¯”Xçš„ç‰¹å¾æ•°é‡å¤š1ï¼ˆå¤šå‡ºæ¥çš„ä¸ºæˆªè·ï¼‰</span>        <span class="token comment"># å¼€å§‹è®­ç»ƒ</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>            y_hat <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># è®¡ç®—é¢„æµ‹å€¼</span>            error <span class="token operator">=</span> y <span class="token operator">-</span> y_hat  <span class="token comment"># è®¡ç®—çœŸå®å€¼ä¸é¢„æµ‹å€¼ä¹‹é—´çš„å·®è·</span>            self<span class="token punctuation">.</span>lose<span class="token punctuation">.</span>append<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>error <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token operator">*</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>self<span class="token punctuation">.</span>w<span class="token punctuation">.</span>T<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å°†æŸå¤±åŠ å…¥åˆ°æŸå¤±åˆ—è¡¨ä¸­ï¼Œä½¿ç”¨L2èŒƒæ•°æ­£åˆ™åŒ–</span>            <span class="token comment">#print("è¿­ä»£æ¬¡æ•°:&#123;0&#125;,è¿›åº¦ï¼š&#123;1&#125;%".format(i + 1, 100.0 * (i + 1) / self.epochs), "  loss:", np.sum(error ** 2) / 2)</span>            <span class="token comment"># j &lt;- j + Î± * sum((y - y_hat) * x(j))</span>            x_<span class="token operator">=</span>np<span class="token punctuation">.</span>c_<span class="token punctuation">[</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>x<span class="token punctuation">]</span>            <span class="token comment">#self.w[0] += self.lr * np.sum(error)</span>            <span class="token comment">#self.w[1:] += self.lr * np.dot(x.T, error)</span>            I<span class="token operator">=</span>np<span class="token punctuation">.</span>identity<span class="token punctuation">(</span>x_<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>w<span class="token operator">=</span>self<span class="token punctuation">.</span>w<span class="token operator">-</span>self<span class="token punctuation">.</span>lr<span class="token operator">*</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x_<span class="token punctuation">.</span>T<span class="token punctuation">,</span> x_<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token operator">*</span>I<span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token operator">-</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x_<span class="token punctuation">.</span>T<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1id="äº”åˆ†ææ¨¡å‹è®­ç»ƒç»“æœåŒ…æ‹¬è®­ç»ƒè¯¯å·®å’Œæµ‹è¯•è¯¯å·®">äº”ã€åˆ†ææ¨¡å‹è®­ç»ƒç»“æœï¼ŒåŒ…æ‹¬è®­ç»ƒè¯¯å·®å’Œæµ‹è¯•è¯¯å·®</h1><h2 id="è¯„ä¼°æŒ‡æ ‡è®¡ç®—å…¬å¼">5.1 è¯„ä¼°æŒ‡æ ‡è®¡ç®—å…¬å¼</h2><p>è®­ç»ƒè¯¯å·®æ˜¯æ¨¡å‹å…³äºè®­ç»ƒæ•°æ®é›†çš„å¹³å‡æŸå¤±ï¼›æµ‹è¯•è¯¯å·®æ˜¯æ¨¡å‹å…³äºæµ‹è¯•æ•°æ®é›†çš„å¹³å‡æŸå¤±ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p><span class="math display">\[R_{e m p}(\hat{f})=\frac{1}{N} \sum_{i=1}^{N} L\left(y,\hat{f}\left(x_{i}\right)\right)\]</span></p><p><span class="math display">\[e_{t e s t}=\frac{1}{N^{\prime}} \sum_{i=1}^{N^{\prime}} L\left(y_{i},\hat{f}\left(x_{i}\right)\right)\]</span></p><p>å…¶ä¸­Nä¸ºè®­ç»ƒæ ·æœ¬å®¹é‡ï¼Œ<em>N</em>â€²ä¸ºæµ‹è¯•æ ·æœ¬å®¹é‡ã€‚ç”±äºæˆ‘ä»¬åœ¨çº¿æ€§å›å½’ä¸­ä½¿ç”¨çš„æ˜¯å¹³æ–¹æŸå¤±å‡½æ•°ï¼Œæ•…ä¸Šè¿°è®¡ç®—ç»“æœåˆå«å‡æ–¹è¯¯å·®MSEï¼ˆMean Squared Errorï¼‰ï¼š</p><p><span class="math display">\[M S E=\frac{1}{m} \sum_{i=1}^{m}\left(y_{\text {test}}^{(i)}-\hat{y}_{\text {test }}^{(i)}\right)^{2}\]</span></p><p>ä½†æ˜¯ï¼ŒMSEå…¬å¼æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ä¼šæ”¹å˜é‡çº²ã€‚å› ä¸ºå…¬å¼å¹³æ–¹äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªMSEå¼€æ–¹ï¼Œå¾—åˆ°ç¬¬äºŒä¸ªè¯„ä»·æŒ‡æ ‡ï¼šå‡æ–¹æ ¹è¯¯å·®RMSEï¼ˆRoot Mean Squared Errorï¼‰ï¼š</p><p><span class="math display">\[R M S E = \sqrt{M S E}=\sqrt{\frac{1}{m} \sum_{i=1}^{m}\left(y_{\text{test }}^{(i)}-\hat{y}_{\text {test }}^{(i)}\right)^{2}}\]</span></p><p>ä½†æ˜¯MSEä¸ç”šå…¨é¢ï¼ŒæŸäº›æƒ…å†µä¸‹å†³å®šç³»æ•° R2ï¼ˆcoefficient ofdeterminationï¼‰æ˜¾å¾—å°¤ä¸ºæœ‰ç”¨ï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯MSEçš„æ ‡å‡†åŒ–ç‰ˆæœ¬ï¼Œç”¨äºæ›´å¥½åœ°è§£é‡Šæ¨¡å‹çš„æ€§èƒ½ã€‚R2å€¼çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><p><span class="math display">\[R^{2}=1-\frac{\left(\sum_{i=1}^{m}\left(\hat{y}^{(i)}-y^{(i)}\right)^{2}\right)/ m}{\left(\sum_{i=1}^{m}\left(y^{(i)}-\bar{y}\right)^{2}\right) /m}=1-\frac{M S E(\hat{y}, y)}{\operatorname{Var}(y)}\]</span></p><h2 id="è¯¯å·®åˆ†ææ€è·¯">5.2 è¯¯å·®åˆ†ææ€è·¯</h2><p>ç»“åˆå‰æ–‡çš„æ¨å¯¼åˆ†æï¼Œæˆ‘ä»¬æœ€ç»ˆé‡‡ç”¨çš„æ˜¯çº¿æ€§æœ€å°äºŒä¹˜æ³•ä¸L2æ­£åˆ™åŒ–ï¼Œå³alphaå–å€¼ä¸º1.0çš„<strong>Ridgeå›å½’</strong>ï¼Œå¹¶ç»“åˆç‰¹å¾å·¥ç¨‹ä¸­ç‰¹å¾æ„å»ºï¼ˆå°†<strong>TV<em>radio<strong>ï¼Œ</strong>radio</em>newspaper</strong>ä½œä¸ºæ–°çš„ç‰¹å¾ï¼‰ï¼Œç‰¹å¾é€‰æ‹©ï¼ˆåŠ å…¥æ–°çš„ç‰¹å¾ï¼Œèˆå¼ƒç›¸å…³ç³»æ•°è¾ƒå°çš„newspaperï¼‰ï¼Œç‰¹å¾ç¼©æ”¾ï¼ˆå°†TVï¼Œradioï¼Œnewspaperè¿›è¡Œå¼€æ–¹ã€å¹³æ–¹ã€ä¸‰æ¬¡æ–¹ç­‰ï¼‰çš„æ€è·¯è¿›è¡Œäº†14ç§æƒ…å†µçš„å®éªŒï¼Œå¹¶å¾—å‡ºäº†æ¯ä¸€ç§æƒ…å†µçš„MSEï¼ŒRMSEï¼ŒR<sup>2</sup>ã€‚</p><p>æ‰€ä½¿ç”¨çš„ä»£ç ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python">X <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>data_s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'TV'</span><span class="token punctuation">,</span><span class="token string">'radio'</span><span class="token punctuation">,</span><span class="token string">'newspaper'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>y <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>data_s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'sales'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>clf<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'MSE=%f'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token operator">*</span>cross_val_score<span class="token punctuation">(</span>clf<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cv<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> scoring<span class="token operator">=</span><span class="token string">'neg_mean_squared_error'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'RMSE=%f'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token operator">*</span>cross_val_score<span class="token punctuation">(</span>clf<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cv<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> scoring<span class="token operator">=</span><span class="token string">'neg_root_mean_squared_error'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'R2=%f'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">*</span>cross_val_score<span class="token punctuation">(</span>clf<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cv<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> scoring<span class="token operator">=</span><span class="token string">'r2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'%'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>clf<span class="token punctuation">.</span>coef_<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>clf<span class="token punctuation">.</span>intercept_<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="è®­ç»ƒç»“æœ">5.3 è®­ç»ƒç»“æœ</h2><p>14ç§æƒ…å†µçš„è®­ç»ƒè¯¯å·®åŠæµ‹è¯•è¯¯å·®è®°å½•åœ¨jupyternotebookçš„ipynbæ–‡ä»¶ä¸­ï¼Œæ­¤å¤„å±•ç¤ºå…¶ä¸­ä¸‰ç§ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028143446583.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028143509634.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211028144137987.png" /></p><p>ä¸Šå›¾æ‰€ç¤ºçš„ç¬¬13ç§æƒ…å†µè®­ç»ƒæ‰€å¾—æ¨¡å‹çš„å„é¡¹è¯„ä¼°æŒ‡æ ‡æœ€ä¼˜ï¼Œæ•…å°†å…¶modelæ–‡ä»¶ä¿å­˜ï¼ŒåŠ©æ•™è€å¸ˆå¯ä»¥ä½¿ç”¨test.ipynbè‡ªåŠ¨è½½å…¥æ¨¡å‹ï¼Œå¹¶è®¡ç®—å‡ºæµ‹è¯•è¯¯å·®MSEã€‚</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> joblib<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> mean_squared_error model <span class="token operator">=</span> joblib<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'model.pickle'</span><span class="token punctuation">)</span> <span class="token comment">#è½½å…¥æ¨¡å‹</span>data<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'5_test.csv'</span><span class="token punctuation">)</span> <span class="token comment">#è¯»å…¥æ•°æ®</span>data_s <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token operator">-</span>data<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>data<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å½’ä¸€åŒ–</span>data_s<span class="token punctuation">[</span><span class="token string">'TV_min'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_s<span class="token punctuation">[</span><span class="token string">'TV'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token operator">**</span><span class="token number">0.2</span><span class="token punctuation">)</span>data_s<span class="token punctuation">[</span><span class="token string">'TV_radio'</span><span class="token punctuation">]</span><span class="token operator">=</span>data_s<span class="token punctuation">[</span><span class="token string">'TV'</span><span class="token punctuation">]</span><span class="token operator">*</span>data_s<span class="token punctuation">[</span><span class="token string">'radio'</span><span class="token punctuation">]</span>X <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>data_s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'TV_radio'</span><span class="token punctuation">,</span><span class="token string">'TV_min'</span><span class="token punctuation">,</span><span class="token string">'radio'</span><span class="token punctuation">,</span><span class="token string">'newspaper'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>y <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>data_s<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'sales'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•è¯¯å·®MSE=%f'</span><span class="token operator">%</span>mean_squared_error<span class="token punctuation">(</span>y<span class="token punctuation">,</span>model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="å…­æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·">å…­ã€æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·</h1><h2 id="å­¦ä¹ æ•°æ®åˆ†æå¤„ç†">6.1 å­¦ä¹ æ•°æ®åˆ†æå¤„ç†</h2><p>åœ¨è¿›è¡Œè®¡ç®—ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹æ•°æ®è¿›è¡Œäº†é¢„å¤„ç†å’Œåˆ†æã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥äº†æ•°æ®æ˜¯å¦ç¼ºå¤±ã€‚ç„¶åï¼Œæˆ‘ä»¬ç”»å‡ºäº†æ•£ç‚¹å›¾ï¼Œæ•£ç‚¹å›¾çŸ©é˜µï¼Œç›¸å…³ç³»æ•°çƒ­åŠ›å›¾ç­‰ï¼Œåˆ†æäº†é”€å”®é‡å’Œå„é¡¹å¹¿å‘ŠæŠ•å…¥é‡ä¹‹é—´çš„æ•°æ®å…³ç³»ï¼Œä»¥ä¾¿äºå¯¹æ•°æ®çš„è¿›ä¸€æ­¥å¤„ç†ã€‚åœ¨å¯¹æ•°æ®çš„å¤„ç†ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œäº†æ•°æ®æ ‡å‡†åŒ–ï¼Œå°†ä¸åŒé‡çº§çš„æ•°æ®ç»Ÿä¸€è½¬åŒ–ä¸ºåŒä¸€é‡çº§ï¼Œä»¥ä¿è¯æ•°æ®ä¹‹é—´çš„å¯æ¯”æ€§ã€‚è€Œåï¼Œæˆ‘ä»¬æŸ¥é˜…èµ„æ–™ï¼Œä¸ºäº†è·å–æ›´å¥½çš„è®­ç»ƒæ•°æ®ç‰¹å¾ï¼Œäº†è§£äº†ç‰¹å¾å·¥ç¨‹ç›¸å…³å†…å®¹ï¼Œå†æ ¹æ®ä¹‹å‰å¯¹æ•°æ®çš„åˆ†æï¼Œæˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œäº†ç‰¹å¾æ„å»ºã€ç‰¹å¾é€‰æ‹©ç­‰ï¼Œå…·ä½“ç»“æœä¸Šé¢å·²ç»å±•ç¤ºã€‚</p><h2 id="åŠ æ·±å¯¹åæŠ˜äº¤å‰éªŒè¯çš„ç†è§£">6.2 åŠ æ·±å¯¹åæŠ˜äº¤å‰éªŒè¯çš„ç†è§£</h2><p>åœ¨æœºå™¨å­¦ä¹ çš„æ¨¡å‹é€‰æ‹©ä¸­ï¼Œæˆ‘ä»¬è¦å¯¹å€™é€‰æ¨¡å‹çš„æ³›åŒ–è¯¯å·®è¿›è¡Œè¯„ä¼°ï¼Œç„¶åé€‰æ‹©æ³›åŒ–è¯¯å·®æœ€å°çš„é‚£ä¸ªæ¨¡å‹ã€‚è€Œå®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è·å¾—æ³›åŒ–è¯¯å·®ï¼Œè€Œè®­ç»ƒè¯¯å·®åˆç”±äºè¿‡æ‹Ÿåˆç°è±¡çš„å­˜åœ¨è€Œä¸é€‚åˆä½œä¸ºæ ‡å‡†ï¼Œæ‰€ä»¥æˆ‘ä»¬éšæœºå°†æ•°æ®é›†åˆ‡ä¸ºä¸‰éƒ¨åˆ†ï¼šè®­ç»ƒé›†ï¼ŒéªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚åœ¨åæŠ˜äº¤å‰éªŒè¯ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŸç§ç‰¹å®šçš„åˆ’åˆ†ï¼Œå°†æ‰€æœ‰æ•°æ®åˆ’åˆ†ä¸ºåä¸ªï¼Œå¹¶ä¾æ¬¡é€‰å–ä½œä¸ºæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„ä½œä¸ºè®­ç»ƒé›†ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åŠ æ·±äº†å¯¹åæŠ˜äº¤å‰éªŒè¯çš„ç†è§£ã€‚</p><h2 id="å¯¹äºæ­£åˆ™åŒ–çš„ç†è§£åŠ æ·±">6.3 å¯¹äºæ­£åˆ™åŒ–çš„ç†è§£åŠ æ·±</h2><p>æ­£åˆ™åŒ–çš„ç›®çš„ï¼šé˜²æ­¢è¿‡æ‹Ÿåˆã€‚è¿‡æ‹ŸåˆæŒ‡çš„æ˜¯ç»™å®šä¸€å †æ•°æ®ï¼Œè¿™å †æ•°æ®å¸¦æœ‰å™ªå£°ï¼Œåˆ©ç”¨æ¨¡å‹å»æ‹Ÿåˆè¿™å †æ•°æ®ï¼Œå¯èƒ½ä¼šæŠŠå™ªå£°æ•°æ®ä¹Ÿç»™æ‹Ÿåˆäº†ï¼Œè¿™ä¸€æ–¹é¢ä¼šé€ æˆæ¨¡å‹æ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚ï¼ŒåŸæœ¬ä¸€æ¬¡å‡½æ•°èƒ½å¤Ÿæ‹Ÿåˆçš„æ•°æ®ï¼Œç”±äºæ•°æ®å¸¦æœ‰å™ªå£°ï¼Œå¯¼è‡´éœ€è¦ç”¨äº”æ¬¡å‡½æ•°æ¥æ‹Ÿåˆï¼›å¦ä¸€æ–¹é¢ï¼ŒåŒæ—¶ä¼šå¯¼è‡´æ¨¡å‹çš„æ³›åŒ–æ€§èƒ½å¾ˆå·®ï¼Œåœ¨æµ‹è¯•é›†ä¸Šçš„ç»“æœå‡†ç¡®ç‡éå¸¸é«˜ï¼Œä½†æµ‹è¯•æ–°æ•°æ®æ—¶ï¼Œå› ä¸ºå¾—åˆ°çš„æ˜¯è¿‡æ‹Ÿåˆçš„æ¨¡å‹ï¼Œæ­£ç¡®ç‡ä¼šå¾ˆä½ã€‚</p><p>æ­£åˆ™åŒ–çš„æœ¬è´¨ï¼šçº¦æŸï¼ˆé™åˆ¶ï¼‰è¦ä¼˜åŒ–çš„å‚æ•°ã€‚æœ¬æ¥<strong>è§£ç©ºé—´</strong>æ˜¯å…¨éƒ¨åŒºåŸŸï¼Œä½†é€šè¿‡æ­£åˆ™åŒ–æ·»åŠ äº†ä¸€äº›çº¦æŸï¼Œä½¿å¾—è§£ç©ºé—´å˜å°äº†ï¼Œç”šè‡³åœ¨ä¸ªåˆ«æ­£åˆ™åŒ–æ–¹å¼ä¸‹ï¼Œè§£å˜å¾—ç¨€ç–äº†ã€‚æ­£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/1335117-20180708193526314-357302334.png" /><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/1335117-20180708194712773-1094778410.png" /></p><p>å½©è‰²çº¿å°±æ˜¯ä¼˜åŒ–è¿‡ç¨‹ä¸­é‡åˆ°çš„ç­‰é«˜çº¿ï¼Œä¸€åœˆä»£è¡¨ä¸€ä¸ªç›®æ ‡å‡½æ•°å€¼ï¼Œåœ†å¿ƒå°±æ˜¯æ ·æœ¬è§‚æµ‹å€¼ï¼ˆå‡è®¾ä¸€ä¸ªæ ·æœ¬ï¼‰ï¼ŒåŠå¾„å°±æ˜¯è¯¯å·®å€¼ï¼Œå—é™æ¡ä»¶å°±æ˜¯é»‘è‰²è¾¹ç•Œï¼ˆå°±æ˜¯æ­£åˆ™åŒ–çš„éƒ¨åˆ†ï¼‰ï¼ŒäºŒè€…ç›¸äº¤å¤„ï¼Œæ‰æ˜¯æœ€ä¼˜å‚æ•°ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒL1 ä¸L2çš„ä¸åŒå°±åœ¨äºL1åœ¨å’Œæ¯ä¸ªåæ ‡è½´ç›¸äº¤çš„åœ°æ–¹éƒ½æœ‰â€œè§’â€å‡ºç°ï¼Œè€Œç›®æ ‡å‡½æ•°çš„æµ‹åœ°çº¿é™¤éä½ç½®æ‘†å¾—éå¸¸å¥½ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½ä¼šåœ¨è§’çš„åœ°æ–¹ç›¸äº¤ã€‚æ³¨æ„åˆ°åœ¨è§’çš„ä½ç½®å°±ä¼šäº§ç”Ÿç¨€ç–æ€§ï¼Œä¾‹å¦‚å›¾ä¸­çš„ç›¸äº¤ç‚¹å°±æœ‰w1=0ï¼Œè€Œæ›´é«˜ç»´çš„æ—¶å€™é™¤äº†è§’ç‚¹ä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šè¾¹çš„è½®å»“ä¹Ÿæ˜¯æ—¢æœ‰å¾ˆå¤§çš„æ¦‚ç‡æˆä¸ºç¬¬ä¸€æ¬¡ç›¸äº¤çš„åœ°æ–¹ï¼Œåˆä¼šäº§ç”Ÿç¨€ç–æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒL2å°±æ²¡æœ‰è¿™æ ·çš„æ€§è´¨ï¼Œå› ä¸ºæ²¡æœ‰è§’ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡ç›¸äº¤çš„åœ°æ–¹å‡ºç°åœ¨å…·æœ‰ç¨€ç–æ€§çš„ä½ç½®çš„æ¦‚ç‡å°±å˜å¾—éå¸¸å°äº†ã€‚è¿™å°±ä»ç›´è§‚ä¸Šæ¥è§£é‡Šäº†ä¸ºä»€ä¹ˆL1-regularizationèƒ½äº§ç”Ÿç¨€ç–æ€§ï¼Œè€ŒL2-regularization ä¸è¡Œçš„åŸå› äº†ã€‚</p><h2 id="å…³äºç®—æ³•çš„æ‹©ä¼˜">6.4 å…³äºç®—æ³•çš„æ‹©ä¼˜</h2><p>æœ€å¼€å§‹æˆ‘ä»¬åˆ†æç»“æ„é£é™©æœ€å°åŒ–çš„ç­–ç•¥ï¼Œæœ€å°äºŒä¹˜æ³•å¯èƒ½ä¸å¯é€†ï¼ŒåŒæ—¶ä¸ºäº†å¢åŠ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæˆ‘ä»¬åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥äº†æƒ©ç½šé¡¹ï¼Œç”±äºå¯¹L1ï¼ŒL2æ­£åˆ™åŒ–çš„åˆ†æï¼Œæˆ‘ä»¬é€‰æ‹©L2æ­£åˆ™åŒ–ï¼Œç»è¿‡æ¨å¯¼ï¼Œå‘ç°æœ€å°äºŒä¹˜æ³•å¯ä»¥ç›´æ¥å¾—åˆ°è§£æè§£ï¼Œè§£å†³äº†Wç³»æ•°çŸ©é˜µéæ­£å®šé—®é¢˜ã€‚ç”±äºæ¢¯åº¦ä¸‹é™æ³•æ˜¯é€šè¿‡è¿­ä»£é€¼è¿‘ç»“æœï¼Œæ‰€ä»¥åªèƒ½å¾—åˆ°è¿‘ä¼¼è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æœ€å°äºŒä¹˜æ³•æ¥è¿›è¡Œè®¡ç®—ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€»è¾‘å›å½’æ¨¡å‹åŠlbfgsç®—æ³•å…¬å¼æ¨å¯¼</title>
    <link href="/2021/10/23/logistic/"/>
    <url>/2021/10/23/logistic/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœºå™¨å­¦ä¹ ç¬¬ä¸€æ¬¡ä½œä¸šè®°å½•ã€‚å°ç»„æˆå‘˜ï¼šæ–¹æ¡‚å®‰ï¼Œåˆ˜ç¥ï¼Œå‘¨æ•ã€‚</p><span id="more"></span><h2 id="ä¸€æè¿°é€»è¾‘å›å½’æ¨¡å‹">ä¸€ã€æè¿°é€»è¾‘å›å½’æ¨¡å‹</h2><h3 id="æ•°æ®">1.1æ•°æ®</h3><p><span class="math display">\[D=\{(x_1,y_1),(x_2,y_2),\dots,(x_N,y_N)\},x_i\in\mathbb{R}^n,y_i\in\{0,1\}\]</span></p><h3 id="æ¨¡å‹">1.2æ¨¡å‹</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235517425.png" /></p><p>æœ€åˆæ¨¡å‹ï¼š</p><p><span class="math display">\[f(x_i)=\omega^Tx_i+b,ä½¿å¾—f(x_i)\simeq g(y_i)\]</span></p><p>æˆ‘ä»¬çš„æ ‡è®°å˜é‡yçš„èŒƒå›´æ˜¯0æˆ–1ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿå°†ä¸Šè¿°xçš„çº¿æ€§ç»„åˆè½¬åŒ–ä¸º0æˆ–1ï¼Œæœ€ç†æƒ³çš„æ˜¯é˜¶è·ƒå‡½æ•°ã€‚</p><p><span class="math display">\[é˜¶è·ƒå‡½æ•°ï¼šy=g^{-1}(\omega^Tx+b)= \begin{cases}0, &amp; \omega^Tx+b&lt;0\\0.5, &amp; \omega^Tx+b=0\\1, &amp; \omega^Tx+b&gt;0\end{cases}\]</span></p><p>ä½†ç”±äºé˜¶è·ƒå‡½æ•°ä¸è¿ç»­ï¼Œä¸æ»¡è¶³å•è°ƒå¯å¾®çš„æ¡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›é€šè¿‡ä¸€ä¸ªä¸€å®šç¨‹åº¦ä¸Šè¿‘ä¼¼é˜¶è·ƒå‡½æ•°çš„â€œæ›¿ä»£å‡½æ•°â€ï¼Œå¹¶ä¸”å¸Œæœ›å®ƒå•è°ƒå¯å¾®ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬æƒ³åˆ°äº†é€»è¾‘æ–¯è’‚å‡½æ•°ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235558559.png" /></p><p>å®ƒçš„å›¾åƒå¦‚ä¸‹ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/1990595-20200922165029694-1712738583.png" /></p><p>å› ä¸ºLogisticå›å½’ä¸»è¦ç”¨äºåˆ†ç±»é—®é¢˜ï¼Œä»¥äºŒåˆ†ç±»ä¸ºä¾‹ï¼Œå¯¹äºæ‰€ç»™æ•°æ®é›†å‡è®¾å­˜åœ¨è¿™æ ·çš„ä¸€æ¡ç›´çº¿å¯ä»¥å°†æ•°æ®å®Œæˆçº¿æ€§å¯åˆ†ã€‚<imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/tW5koNMJrG193KEtuAH7cQ.png" /></p><p>å½“æˆ‘ä»¬è¦æ‰¾åˆ°åˆ†ç±»æ¦‚ç‡ P(Y=1) ä¸è¾“å…¥å‘é‡ xçš„ç›´æ¥å…³ç³»æ—¶ï¼Œæˆ‘ä»¬å¼•å…¥Sigmoidå‡½æ•°ï¼Œç„¶åé€šè¿‡æ¯”è¾ƒæ¦‚ç‡å€¼æ¥åˆ¤æ–­ç±»åˆ«ã€‚</p><p>å¼•å…¥sigmoidå‡½æ•°å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><p>ä½†å› ä¸ºé€»è¾‘æ–¯è’‚å‡½æ•°çš„å€¼åŸŸåœ¨[0,1]ä¹‹é—´ï¼Œæ— æ³•ç›´æ¥è¾“å‡º0æˆ–1ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè€ƒè™‘åˆ°<spanclass="math inline">\(\omega^Tx+b\)</span>å–å€¼æ˜¯è¿ç»­çš„ï¼Œå› æ­¤å®ƒä¸èƒ½æ‹Ÿåˆç¦»æ•£å˜é‡ã€‚å¯ä»¥è€ƒè™‘ç”¨å®ƒæ¥æ‹Ÿåˆæ¡ä»¶æ¦‚ç‡<spanclass="math inline">\(p(y=1|x)\)</span>ï¼Œå› ä¸ºæ¦‚ç‡çš„å–å€¼ä¹Ÿæ˜¯è¿ç»­çš„,æˆ‘ä»¬å°†é€»è¾‘æ–¯è’‚å‡½æ•°çš„è¾“å‡ºä½œä¸ºè¾“å…¥xèƒ½é¢„æµ‹åˆ°yä¸º1çš„æ¦‚ç‡ï¼Œå¹¶åˆ©ç”¨å¯¹æ•°å‡ ç‡å‡½æ•°ï¼Œå¾—åˆ°ä¸‹é¢ä¸‰ä¸ªå¼å­ã€‚é€šè¿‡æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬å°†çº¿æ€§æ¨¡å‹è½¬æ¢ä¸ºæ¦‚ç‡æ¨¡å‹ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235625407.png" /></p><h3 id="ç­–ç•¥">1.3ç­–ç•¥</h3><p>åœ¨ç­–ç•¥ä¸Šï¼Œæˆ‘ä»¬é‡‡ç”¨æå¤§ä¼¼ç„¶æ³•ã€‚å³é€‰æ‹©æœ€ä¼˜çš„wï¼Œbä½¿å¾—æˆ‘ä»¬è¾“å…¥xå¾—åˆ°çš„æ­£ç¡®çš„yçš„æ¦‚ç‡æœ€å¤§ï¼Œå³ä¸‹å¼ï¼š</p><p><span class="math display">\[(w^*,b^*)=\mathop{argmax}\limits_{(w,b)}\prod_{i=1}^Np(y_i|x_i;\omega,b)\]</span></p><p>æˆ‘ä»¬è¿™é‡Œåšä¸€ç‚¹å˜æ¢ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235646944.png" /></p><p>å› ä¸ºä¸Šå¼æ˜¯è¿ä¹˜çš„å‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹æ•°ä¼¼ç„¶å‡½æ•°å°†ä¹‹è½¬åŒ–ä¸ºæ±‚å’Œï¼Œå³ä¸‹å¼ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235715659.png" /></p><p>ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œæˆ‘ä»¬åšä»¥ä¸‹å¤„ç†</p><p><span class="math display">\[assume \ that\  \hat{\omega}=(\omega;b),\hat{x}=(x;1)\]</span></p><p>åˆ™ä¸Šå¼å¯åŒ–ä¸º</p><p><span class="math display">\[\hat{\omega^*}=\mathop{argmin}\limits_{\hat{\omega}}\sum_{i=1}^N(-y_i\hat{\omega}x_i+ln(1+e^{\hat{\omega}^T\hat{x}_i}))\]</span></p><p>è¿™æ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œå¯ç”¨ç»å…¸çš„æ•°å€¼ä¼˜åŒ–ç®—æ³•ï¼Œå¦‚æ¢¯åº¦ä¸‹é™æ³•ã€ç‰›é¡¿æ³•æ±‚è§£ã€‚</p><p>æœ€ç»ˆï¼Œæˆ‘ä»¬å­¦å¾—çš„é€»è¾‘æ–¯è’‚å›å½’æ¨¡å‹ä¸º</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235742051.png" /></p><h2 id="äºŒæè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•">äºŒã€æè¿°è®­ç»ƒæ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•</h2><h3 id="æ¢¯åº¦ä¸‹é™æ³•">2.1æ¢¯åº¦ä¸‹é™æ³•</h3><h4 id="é—®é¢˜åˆ†æ">2.1.1é—®é¢˜åˆ†æ</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸‹å¼</p><p><span class="math display">\[E(\hat{\omega})=\sum_{i=1}^N(-y_i\hat{\omega}^T\hat{x}_i+ln(1+e^{\hat{\omega}^T\hat{x}_i})),\hat{\omega}^*=\mathop{argmin}_{\hat{\omega}}E(\hat{\omega})\]</span></p><p>æ¢¯åº¦ä¸‹é™æ³•æ˜¯ä¸€ç§è¿­ä»£ç®—æ³•ï¼šæˆ‘ä»¬é€‰å–é€‚å½“çš„åˆå§‹å€¼<spanclass="math inline">\(\hat{\omega}^{(0)}\)</span>ï¼Œä¸æ–­è¿­ä»£ï¼Œæ›´æ–°<spanclass="math inline">\(\hat{\omega}\)</span>çš„å€¼ï¼Œè¿›è¡Œç›®æ ‡å‡½æ•°çš„æå°åŒ–ï¼Œç›´åˆ°æ”¶æ•›ã€‚ç”±äºè´Ÿæ¢¯åº¦æ–¹å‘æ˜¯ä½¿å¾—å‡½æ•°å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Œåœ¨è¿­ä»£çš„æ¯ä¸€æ­¥ï¼Œä»¥è´Ÿæ¢¯åº¦æ–¹å‘æ›´æ–°<spanclass="math inline">\(\hat{\omega}\)</span>çš„å€¼ï¼Œä»è€Œè¾¾åˆ°å‡å°å‡½æ•°å€¼çš„ç›®çš„ã€‚å¦‚ä¸‹å›¾å½¢è±¡åŒ–è¡¨ç¤ºï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023152139696.png" /></p><h4 id="æ ¸å¿ƒæ€æƒ³">2.1.2æ ¸å¿ƒæ€æƒ³ï¼š</h4><ol type="1"><li><spanclass="math inline">\(E(\hat{\omega})\)</span>æ˜¯å…·æœ‰ä¸€é˜¶è¿ç»­åå¯¼æ•°çš„å‡¸å‡½æ•°ï¼Œå…¶æå€¼ç‚¹åœ¨ä¸€é˜¶å¯¼æ•°ä¸ºé›¶çš„åœ°æ–¹å–å¾—</li><li>ä¸€é˜¶æ³°å‹’å±•å¼€ï¼š<spanclass="math inline">\(E(\hat{\omega})\thickapproxE(\hat{\omega}^{(k)})+\nablaE(\hat{\omega}^{(k)})(\hat{\omega}-\hat{\omega}^{(k)})\)</span>ï¼Œå…¶ä¸­ï¼Œ<spanclass="math inline">\(\nabla E(\hat{\omega}^{(k)})\)</span>æ˜¯<spanclass="math inline">\(E(\hat{\omega})\)</span>åœ¨<spanclass="math inline">\(\hat{\omega}^{(k)}\)</span>çš„æ¢¯åº¦ï¼š</li></ol><p><span class="math display">\[\nabla E(\hat{\omega}^{(k)})=\frac{\partial E(\hat{\omega})}{\partial\hat{\omega}}|_{\hat{\omega}=\hat{\omega}^{(k)}}\]</span></p><ol start="3" type="1"><li>æ±‚å–ç¬¬k+1æ¬¡è¿­ä»£å€¼ï¼š<spanclass="math inline">\(\hat{\omega}^{k+1}=\hat{\omega}^{(k)}+\eta_k*(-\nablaE(\hat{\omega}^{(k)}))\)</span>ï¼Œå…¶ä¸­<spanclass="math inline">\(\eta_k\)</span>æ˜¯æ­¥é•¿ï¼Œç”±æˆ‘ä»¬æœ€åˆæŒ‡å®šã€‚æ¢¯åº¦æ¨å¯¼ï¼š</li></ol><p><span class="math display">\[E(\hat{\omega})=\sum_{i=1}^N(-y_i\hat{\omega}^T\hat{x}_i+ln(1+e^{\hat{\omega}^T\hat{x}_i}))\\\nablaE(\hat{\omega}^{(k)})=\sum_{i=1}^N-y_i\hat{x}_i+\frac{1}{1+e^{\hat{\omega}^T\hat{x}_i}}*e^{\hat{\omega}^T\hat{x}_i}*\hat{x}_i\\=-\sum_{i=1}^Nx_i(y_i-\frac{e^{\hat{\omega}^T\hat{x}_i}}{1+e^{\hat{\omega}^T\hat{x}_i}})\]</span></p><h4 id="ä¼ªä»£ç ">2.1.3ä¼ªä»£ç ï¼š</h4><p>è¾“å…¥ï¼šç›®æ ‡å‡½æ•°<spanclass="math inline">\(E(\hat{\omega})\)</span>ï¼Œæ¢¯åº¦å‡½æ•°<spanclass="math inline">\(\nablaE(\hat{\omega})\)</span>ï¼Œè®¡ç®—ç²¾åº¦Îµï¼Œæ­¥é•¿<spanclass="math inline">\(\eta_k\)</span>ï¼›</p><p>è¾“å‡ºï¼š <spanclass="math inline">\(E(\hat{\omega})\)</span>çš„æå°ç‚¹<spanclass="math inline">\(\hat{\omega}^*\)</span>ã€‚</p><p>ï¼ˆ1ï¼‰å–åˆå§‹å€¼<span class="math inline">\(\hat{\omega}^{(0)}\in\mathbb{R}^{d+1}\)</span>ï¼Œç½®k=0ï¼›</p><p>ï¼ˆ2ï¼‰è®¡ç®—<spanclass="math inline">\(E(\hat{\omega}^{(k)})\)</span>ï¼›</p><p>ï¼ˆ3ï¼‰è®¡ç®—æ¢¯åº¦<span class="math inline">\(\nablaE(\hat{\omega}^{(k)})\)</span>ï¼Œå½“<span class="math inline">\(||\nablaE(\hat{\omega}^{(k)})||&lt;\varepsilon\)</span>æ—¶ï¼Œä»¤<spanclass="math inline">\(\hat{\omega}^*=\hat{\omega}^{(k)}\)</span>ï¼Œ</p><p>åœæ­¢è¿­ä»£ï¼›</p><p>ï¼ˆ4ï¼‰ç½®<spanclass="math inline">\(\hat{\omega}^{(k+1)}=\hat{\omega}^{(k)}+\eta_k(-\nablaE(\hat{\omega}^{(k)}))\)</span>ï¼Œè®¡ç®—<spanclass="math inline">\(E(\hat{\omega}^{(k+1)})\)</span>ï¼Œ</p><p>å½“<spanclass="math inline">\(||E(\hat{\omega}^{(k+1)})-E(\hat{\omega}^{(k)})||&lt;\varepsilon\)</span>æˆ–<spanclass="math inline">\(||\hat{\omega}^{(k+1)}-\hat{\omega}^{(k)}||&lt;\varepsilon\)</span>æ—¶ï¼Œ</p><p>ä»¤<spanclass="math inline">\(\hat{\omega}^*=\hat{\omega}^{(k)}\)</span>ï¼Œåœæ­¢è¿­ä»£ï¼›</p><p>ï¼ˆ5ï¼‰å¦åˆ™ï¼Œç½®k=k+1ï¼Œè½¬æ­¥éª¤ï¼ˆ3ï¼‰ã€‚</p><h4 id="åˆ†æ">2.1.4åˆ†æ</h4><p>ä¼˜ç‚¹ï¼šæ–¹æ³•ç®€å•ï¼Œæ˜“ç†è§£</p><p>ç¼ºç‚¹ï¼šè¿­ä»£æ¬¡æ•°å¤šï¼Œä¸‹é™é€Ÿåº¦æ…¢ï¼Œå¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬é‡‡ç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œè¿­ä»£è¿‘50000æ¬¡æ‰æ”¶æ•›</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023152205584.png" /></p><p>ä¸”å‡†ç¡®ç‡å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºå‡†ç¡®ç‡ä¸é«˜ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023152217061.png" /></p><h3 id="ç‰›é¡¿æ³•">2.2ç‰›é¡¿æ³•</h3><h4 id="æ ¸å¿ƒæ€æƒ³-1">2.2.1æ ¸å¿ƒæ€æƒ³ï¼š</h4><p><spanclass="math inline">\(E(\hat{\omega})\)</span>æ˜¯å…·æœ‰äºŒé˜¶è¿ç»­åå¯¼æ•°çš„å‡½æ•°</p><p>äºŒé˜¶æ³°å‹’å±•å¼€ï¼š<span class="math inline">\(E(\hat{\omega})\thickapproxE(\hat{\omega}^{(k)})+\nablaE(\hat{\omega}^{(k)})(\hat{\omega}-\hat{\omega}^{(k)})+\frac{1}{2}(\hat{\omega}-\hat{\omega}^{(k)})^TH(\hat{\omega}^{(k)})(\hat{\omega}-\hat{\omega}^{(k)})\)</span></p><p><span class="math display">\[\nabla E(\hat{\omega})=\frac{\partial E(\hat{\omega})}{\partial\hat{\omega}}|_{(d+1)\times 1},H(\hat{\omega})=\frac{\partial^2E(\hat{\omega})}{\partial \hat{\omega}_i \partial\hat{\omega}_j}|_{(d+1)\times 1}\]</span></p><p>åˆ©ç”¨äºŒé˜¶æ³°å‹’å±•å¼€<spanclass="math inline">\(E(\hat{\omega})\)</span>å–æå°ç‚¹çš„å¿…è¦æ¡ä»¶<spanclass="math inline">\(\nablaE(\hat{\omega})=0\)</span>ï¼Œåœ¨ç¬¬kæ¬¡è¿­ä»£<spanclass="math inline">\(\hat{\omega}^{(k)}\)</span>ï¼Œæ±‚<spanclass="math inline">\(\nablaE(\hat{\omega}^{(k)})+H(\hat{\omega}^{(k)})(\hat{\omega}-\hat{\omega}^{(k)})=0\)</span>çš„ç‚¹ï¼Œä½œä¸ºç¬¬k+1æ¬¡è¿­ä»£å€¼<spanclass="math inline">\(\hat{\omega}^{(k+1)}\)</span></p><h4 id="ä¼ªä»£ç -1">2.2.2ä¼ªä»£ç </h4><p>è¾“å…¥ï¼šç›®æ ‡å‡½æ•°<spanclass="math inline">\(E(\hat{\omega})\)</span>ï¼Œæ¢¯åº¦å‡½æ•°<spanclass="math inline">\(\nabla E(\hat{\omega})\)</span>ï¼Œæµ·æ£®çŸ©é˜µ<spanclass="math inline">\(H(\hat{\omega})\)</span>ï¼Œç²¾åº¦Îµï¼›</p><p>è¾“å‡ºï¼š<spanclass="math inline">\(E(\hat{\omega})\)</span>çš„æå°ç‚¹<spanclass="math inline">\(\hat{\omega}^*\)</span>ã€‚</p><p>ï¼ˆ1ï¼‰å–åˆå§‹å€¼<span class="math inline">\(\hat{\omega}^{(0)}\in\mathbb{R}^{n+1}\)</span>ï¼Œç½®k=0ï¼›</p><p>ï¼ˆ2ï¼‰è®¡ç®—æ¢¯åº¦<span class="math inline">\(\nablaE(\hat{\omega}^{(k)})\)</span>ï¼›</p><p>ï¼ˆ3ï¼‰å½“<spanclass="math inline">\(||E(\hat{\omega}^{(k)})||&lt;\varepsilon\)</span>æ—¶ï¼Œä»¤<spanclass="math inline">\(\hat{\omega}^*=\hat{\omega}^{(k)}\)</span>ï¼Œåœæ­¢è¿­ä»£ï¼›</p><p>å¦åˆ™ï¼Œè®¡ç®—æµ·æ£®çŸ©é˜µ<spanclass="math inline">\(H(\hat{\omega}^{(k)})\)</span> ï¼›</p><p>ï¼ˆ4ï¼‰ç½®<spanclass="math inline">\(\hat{\omega}^{(k+1)}=\hat{\omega}^{(k)}-(H(\hat{\omega}))^{(-1)}\nablaE(\hat{\omega}^{(k)})\)</span>ï¼›</p><p>ï¼ˆ5ï¼‰ç½®k=k+1ï¼Œè½¬æ­¥éª¤ï¼ˆ2ï¼‰ã€‚</p><h4 id="åˆ†æ-1">2.2.3åˆ†æ</h4><p>ç‰›é¡¿æ³•ä¼˜ç‚¹ï¼šä¸‹é™é€Ÿåº¦å¿«ï¼Œå±äºäºŒæ¬¡æ”¶æ•›</p><p>ç¼ºç‚¹ï¼šæµ·æ£®çŸ©é˜µè®¡ç®—å¤æ‚åº¦é«˜ï¼Œä¸”è¦æ±‚å¯é€†æ‰èƒ½è®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬æŸ¥é˜…èµ„æ–™ï¼Œå°†é‡‡ç”¨æ‹Ÿç‰›é¡¿æ³•ã€‚</p><h3 id="bfgsç®—æ³•">2.3 BFGSç®—æ³•:</h3><p>ç”±äºä¸Šè¿°ç‰›é¡¿å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„æµ·æ£®çŸ©é˜µä¸æ˜“å¾—åˆ°ï¼Œå› æ­¤æˆ‘ä»¬æœ‰ä»¥ä¸‹è¿­ä»£å…¬å¼æ¥é€¼è¿‘æµ·æ£®çŸ©é˜µï¼š</p><p><span class="math display">\[H_{k+1}=H_k+\frac{y_ky_k^T}{y_k^Ts_k}-\frac{H_ks_ks_k^TH_k^T}{s_k^TH_k^Ts_k}\]</span></p><p>ä½†è®¡ç®—é‡è¿˜æ˜¯å¾ˆå¤§ï¼ŒçŸ©é˜µç›¸ä¹˜å¤ªå¤šã€‚æ‰€ä»¥æˆ‘ä»¬æœ€ç»ˆé‡‡å–<spanclass="math inline">\(Sherman-Morrison\)</span>å…¬å¼è¿›è¡Œå˜æ¢å¯å¾—ï¼š</p><p><span class="math display">\[H_{k+1}=\left(I-\frac{s_{k} y_{k}^{T}}{y_{k}^{T} s_{k}}\right)H_{k}\left(I-\frac{y_{k} s_{k}^{T}}{y_{k}^{T} s_{k}}\right)+\frac{s_{k}s_{k}^{T}}{y_{k}^{T}s_{k}} \quad(1)\]</span></p><p>å…¬å¼æ¨å¯¼å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\begin{array}{l}\text { Sherman Morrison å…¬å¼: }\\\left(\mathrm{A}+\frac{u u^{T}}{t}\right)^{-1}=A^{-1}-\frac{A^{-1} uu^{T} A^{-1}}{t+u^{T} A^{-1} u}\\\left(\mathrm{H}+\frac{y y^{T}}{y^{T} \mathrm{~s}}-\frac{H s s^{T}\mathrm{H}}{s^{T} H s}\right)^{-1}\\=\left(\mathrm{H}+\frac{y y^{T}}{y^{T}\mathrm{~s}}\right)^{-1}+\left(\mathrm{H}+\frac{y y^{T}}{y^{T}\mathrm{~s}}\right)^{-1} \frac{H s s^{T} H}{s^{T} H^{T} s-s^{T}H\left(\mathrm{H}+\frac{y y^{T}}{y^{T} \mathrm{~S}}\right)^{-1}\mathrm{Hs}}\left(\mathrm{H}+\frac{y y^{T}}{y^{T}\mathrm{~S}}\right)^{-1}\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} S+y^{T} H^{-1}y}\right)+\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} S+y^{T} H^{-1}y}\right) \frac{H s s^{T} H}{s^{T} H S-s^{T} H\left(H^{-1}-\frac{H^{-1}y y^{T}-1}{y^{T} s+y^{T} H^{-1} y}\right) H s}\left(H^{-1}-\frac{H^{-1}y y^{T} H^{-1}}{y^{T} S+y^{T} H^{-1} y}\right)\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T}H^{-1} y}\right)+\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T}\mathrm{~s}+y^{T} H^{-1} y}\right) \frac{H s s^{T} H}{\frac{s^{T} yy^{T} s}{y^{T} \mathrm{~s}+y^{T} H^{-1} y}}\left(H^{-1}-\frac{H^{-1} yy^{T} H^{-1}}{y^{T} \mathrm{~S}+y^{T} H^{-1} y}\right)\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T}H^{-1} y}\right)+\frac{H^{-1} H s s^{T} H H^{-1}}{\frac{s^{T} y y^{T}S}{y^{T} s+y^{T} H^{-1} y}}-\frac{H^{-1} H s s^{T} H}{\frac{s^{T} yy^{T} s}{}}{y^{T} \mathrm{~s}+y^{T} H^{-1} y} H^{-1} \frac{yy^{T}}{y^{T} \mathrm{~s}+y^{T} H^{-1} y} H^{-1}\\-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T} H^{-1} y} \frac{Hs s^{T} H}{\frac{s^{T} y y^{T} S}{y^{T} \mathrm{~s}+y^{T} H^{-1} y}}H^{-1}\\+H^{-1} \frac{y y^{T}}{y^{T} \mathrm{~s}+y^{T} H^{-1} y} H^{-1} \frac{Hs s^{T} H}{\frac{s^{T} y y^{T} S}{y^{T} \mathrm{~s}+y^{T} H^{-1} y}}H^{-1} \frac{y y^{T}}{y^{T} \mathrm{~s}+y^{T} H^{-1} y} H^{-1}\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T}H^{-1} y}\right)+\frac{s s^{T}\left(y^{T} \mathrm{~s}+y^{T} H^{-1}y\right)}{s^{T} y y^{T} s}-\frac{s s^{T} y y^{T} H^{-1}}{s^{T} y y^{T}S}-\frac{H^{-1} y y^{T} S S^{T}}{s^{T} y y^{T} S}\\+\frac{H^{-1} y y^{T} S s^{T} y y^{T} H^{-1}}{\left(y^{T}\mathrm{~s}+y^{T} H^{-1} y\right) s^{T} y y^{T} S}\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T}H^{-1} y}\right)+\frac{s s^{T}\left(y^{T} \mathrm{~s}+y^{T} H^{-1}y\right)}{\left(s^{T} y\right)^{2}}-\frac{s\left(s^{T} y\right) y^{T}H^{-1}}{\left(s^{T} y\right)^{2}}-\frac{H^{-1} y\left(y^{T} s\right)s^{T}}{\left(s^{T} y\right)^{2}}\\+\frac{H^{-1} y\left(y^{T} S s^{T} y\right) y^{T} H^{-1}}{\left(y^{T}\mathrm{~s}+y^{T} H^{-1} y\right) s^{T} y y^{T} S}\\=\left(H^{-1}-\frac{H^{-1} y y^{T} H^{-1}}{y^{T} \mathrm{~s}+y^{T}H^{-1} y}\right)+\frac{s s^{T}\left(y^{T} \mathrm{~s}+y^{T} H^{-1}y\right)}{\left(s^{T} y\right)^{2}}-\frac{s y^{T} H^{-1}}{s^{T}y}-\frac{H^{-1} y s^{T}}{s^{T} y}+\frac{H^{-1} y y^{T}H^{-1}}{\left(y^{T} \mathrm{~s}+y^{T} H^{-1} y\right)}\\=H^{-1}+\frac{s s^{T}\left(y^{T} \mathrm{~s}+y^{T} H^{-1}y\right)}{\left(s^{T} y\right)^{2}}-\frac{s y^{T} H^{-1}}{s^{T}y}-\frac{H^{-1} y s^{T}}{s^{T} y}\\=H^{-1}+\frac{s s^{T} y^{T} \mathrm{~s}}{\left(s^{T}y\right)^{2}}+\frac{s s^{T} y^{T} H^{-1} y}{\left(s^{T}y\right)^{2}}-\frac{s y^{T} H^{-1}}{s^{T} y}-\frac{H^{-1} y s^{T}}{s^{T}y}\\=H^{-1}\left(I-\frac{y s^{T}}{s^{T} y}\right)-\frac{s y^{T}H^{-1}}{s^{T} y}\left(I-\frac{y s^{T}}{s^{T} y}\right)+\frac{ss^{T}}{s^{T} y}\\=\left(I-\frac{s y^{T}}{s^{T} y}\right) H^{-1}\left(I-\frac{ys^{T}}{s^{T} y}\right)+\frac{s s^{T}}{s^{T} y}\end{array}\]</span></p><h3 id="l-bfgsç®—æ³•">2.4 L-BFGSç®—æ³•</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235811630.png" /></p>$$<span class="math display">\[\begin{array}{c}H_{k+1}=V_{k}^{T} H_{k} V_{k}+\rho_{k} s_{k} s_{k}^{T} \\\end{array}\]</span><p>$$</p><p>ç»™å®šåˆå§‹çŸ©é˜µ<spanclass="math inline">\(H_0=I\)</span>ï¼Œåˆ©ç”¨ä¸Šå¼ï¼Œå¯å¾—ï¼š</p><p><span class="math display">\[\begin{aligned}H_{1}&amp;=V_{0}^{T} H_{0} V_{0}+\rho_{0} s_{0} s_{0}^{T}\\H_{2} &amp;=V_{1}^{T} H_{1} V_{1}+\rho_{1} s_{1} s_{1}^{T} \\&amp;=V_{1}^{T}\left(V_{0}^{T} H_{0} V_{0}+\rho_{0} s_{0}s_{0}^{T}\right) V_{1}+\rho_{1} s_{1} s_{1}^{T} \\&amp;\left.=V_{1}^{T} V_{0}^{T} H_{0} V_{0} V_{1}+V_{1}^{T} \rho_{0}s_{0} s_{0}^{T}\right) V_{1}+\rho_{1} s_{1} s_{1}^{T} \\&amp; \\\quad H_{k+1} &amp;=\left(V_{k}^{T} V_{k-1}^{T} \ldots V_{1}^{T}V_{0}^{T}\right) H_{0}\left(V_{0} V_{1} \ldots V_{k-1} V_{k}\right) \\&amp;+\left(V_{k}^{T} V_{k-1}^{T} \ldots V_{1}^{T}\right) \rho_{1} s_{1}s_{1}^{T}\left(V_{1} \ldots V_{k-1} V_{k}\right) \\&amp;+\ldots \\&amp;+\left(V_{k}^{T}\right) \rho_{k-1} s_{k-1}s_{k-1}^{T}\left(V_{k}\right) \\&amp;+\rho_{k} s_{k} s_{k}^{T}\end{aligned}\]</span></p><p>åªä¿ç•™æœ€è¿‘çš„mæ­¥åï¼Œä¸Šå¼çš„è¿­ä»£å…¬å¼å˜ä¸ºï¼š</p><p><span class="math display">\[\begin{aligned}H_{k+1} &amp;=\left(V_{k}^{T} V_{k-1}^{T} \ldots V_{k-m}^{T}\right)H_{0}\left(V_{k-m} \ldots V_{k-1} V_{k}\right) \\&amp;+\left(V_{k}^{T} V_{k-1}^{T} \ldots V_{k-m+1}^{T}\right) \rho_{k-m}s_{k-m} s_{k-m}^{T}\left(V_{k-m+1} \ldots V_{k-1} V_{k}\right) \\+&amp; \ldots \\&amp;+\left(V_{k}^{T}\right) \rho_{k-1} s_{k-1}s_{k-1}^{T}\left(V_{k}\right) \\&amp;+\rho_{k} s_{k} s_{k}^{T}\end{aligned}\]</span></p><p>æ‰€æ±‚æ–¹å‘ä¸ºï¼š</p><p><span class="math display">\[\begin{aligned}H_{k} \nabla f &amp;=\left(V_{K-1}^{T} V_{K-2}^{T} \ldotsV_{K-m}^{T}\right) H_{0}\left(V_{K-m} V_{K-m+1} \ldots V_{K-1}\right)\nabla f \\&amp;+\left(V_{K-1}^{T} \ldots V_{K-m+1}^{T}\right)\rho_{k-m} s_{k-m}s_{k-m}^T(V_{k-m+1}\dots V_{k-1}V_{k}) \nabla f\\&amp;+\ldots \\&amp;+V_{k-1} \rho_{k-1} s_{k-1}s_{k-1}^TV_k\nabla f \\&amp;+\rho_{k} s_{k}s_{k}^T\nabla f\end{aligned}\]</span></p><p>Two-Loop ç®—æ³•ï¼š</p><p><span class="math display">\[\begin{array}{l}q_{k} \leftarrow \nabla f_{k} \\\text { for } i=k-1 \text { to } k-m \text { do } \\\quad \alpha_{i}=\rho_{i} s_{i}^{T} q_{i+1} \\q_{i}=q_{i+1}-\alpha_{i} y_{i} \\\text { end for } \\r_{k-m-1}=H_{0} q_{k-m} \\\text { for } i=k-m, k-m+1 \text { to } k-1 \text { do } \\\quad \beta_{i}=\rho_{i} y_{i}^{T} r_{i-1} \\r_{i}=r_{i-1}+s_{i} \alpha_{i}-\beta_{i} \\\text { end for } \\\text { End, The result is } H_{k+1} \nabla f=r\end{array}\]</span></p><p>Two-Loopç®—æ³•è§£æ---ç¬¬ä¸€ä¸ªå¾ªç¯ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235846434.png" /></p><p>é‡å†™å…¬å¼ï¼š</p><p><span class="math display">\[\begin{aligned}H_{k} \nabla f &amp;=\left(V_{K-1}^{T} V_{K-2}^{T} \ldotsV_{K-m}^{T}\right) H_{0}\left(V_{K-m} V_{K-m+1} \ldots V_{K-1}\right)\nabla f \\&amp;+\left(V_{K-1}^{T} \ldots V_{K-m+1}^{T}\right) s_{k-m} \alpha_{k-m}\\&amp;+\ldots \\&amp;+V_{k-1} s_{k-1} \alpha_{k-2} \\&amp;+s_{k-1} \alpha_{k-1}\end{aligned}\]</span></p><p>Two-Loopç®—æ³•è§£æ---ç¬¬äºŒä¸ªå¾ªç¯ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023235910775.png" /></p><p>åˆå§‹:</p><p><span class="math display">\[r_{k-\mathrm{m}}=V_{k-\mathrm{m}} H_{0} V_{k-\mathrm{m}}V_{k-\mathrm{m}+1} \ldots V_{k-1} \nabla\mathrm{f}+\mathrm{s}_{k-\mathrm{m}} \alpha_{k-m}\]</span></p><p>å¾—ï¼š</p><p><span class="math display">\[\begin{aligned}r_{k-\mathrm{m}+\mathrm{i}} &amp;=V_{k-\mathrm{m}+\mathrm{i}} \ldotsV_{k-\mathrm{m}} H_{0} V_{k-\mathrm{m}} \ldotsV_{k-\mathrm{m}+\mathrm{i}} \nabla \mathrm{f} \\&amp;+\left(V_{k-\mathrm{m}+\mathrm{i}} \ldots V_{k-\mathrm{m}+1}\right)\mathrm{s}_{k-\mathrm{m}} \alpha_{k-m} \\&amp;+\left(V_{k-\mathrm{m}+\mathrm{i}} \ldots V_{k-\mathrm{m}+2}\right)\mathrm{s}_{k-\mathrm{m}+1} \alpha_{k-m+1}\\&amp;+\dots\\&amp;s_{k-m+1}\alpha_{k-m+i}\end{aligned}\]</span></p><p><span class="math inline">\(r_{k-1}\)</span>å³æ˜¯æ‰€æ±‚çš„æœç´¢æ–¹å‘dã€‚</p><p>ä½¿ç”¨LBFGSæ±‚è§£é€»è¾‘å›å½’æ¨¡å‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>linear_model <span class="token keyword">import</span> LogisticRegression<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> accuracy_score<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> StandardScaler<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment"># è¿›ä¸€æ­¥å¤„ç†æ•°æ®é›†å’Œæµ‹è¯•é›†ï¼Œå°†è¾“å…¥å’Œè¾“å‡ºåˆ†å‰²</span>train<span class="token punctuation">.</span>columns<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'x1'</span><span class="token punctuation">,</span><span class="token string">'x2'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>test<span class="token punctuation">.</span>columns<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'x1'</span><span class="token punctuation">,</span><span class="token string">'x2'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>X_train <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>train<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'x1'</span><span class="token punctuation">,</span> <span class="token string">'x2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>y_train <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>train<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>X_test <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>test<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'x1'</span><span class="token punctuation">,</span> <span class="token string">'x2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>y_test <span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>test<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ sklearn çš„ LogisticRegression ä½œä¸ºæ¨¡å‹</span><span class="token comment"># å…¶ä¸­æœ‰ penaltyï¼Œsolverï¼Œmulti_class å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„å‚æ•°ï¼Œä¸åŒçš„å‚æ•°æœ‰ä¸åŒçš„å‡†ç¡®ç‡</span>model <span class="token operator">=</span> LogisticRegression<span class="token punctuation">(</span>solver<span class="token operator">=</span><span class="token string">'newton-cg'</span><span class="token punctuation">)</span><span class="token comment"># newton-cg sag lbfgs liblinear</span><span class="token comment"># å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–</span>ss <span class="token operator">=</span> StandardScaler<span class="token punctuation">(</span><span class="token punctuation">)</span>X_train <span class="token operator">=</span> ss<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>X_train<span class="token punctuation">)</span> X_test <span class="token operator">=</span> ss<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>X_test<span class="token punctuation">)</span><span class="token comment"># æ‹Ÿåˆ</span>model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span><span class="token comment"># é¢„æµ‹æµ‹è¯•é›†</span>predictions <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X_test<span class="token punctuation">)</span><span class="token comment"># æ‰“å°å‡†ç¡®ç‡</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š'</span><span class="token punctuation">,</span> accuracy_score<span class="token punctuation">(</span>y_test<span class="token punctuation">,</span> predictions<span class="token punctuation">)</span><span class="token punctuation">)</span>weights <span class="token operator">=</span> np<span class="token punctuation">.</span>column_stack<span class="token punctuation">(</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>intercept_<span class="token punctuation">,</span> model<span class="token punctuation">.</span>coef_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#print(weights)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ä¸‰ç»˜åˆ¶rocæ›²çº¿å’Œpræ›²çº¿">ä¸‰ã€ç»˜åˆ¶ROCæ›²çº¿å’ŒPRæ›²çº¿</h2><div class="code-wrapper"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">è¯¥éƒ¨åˆ†å‡ºç°çš„è‹±è¯­ç¼©å†™ï¼šTP: True PositiveFP: False PositiveFN: False NegativeTN: True NegativeP: PrecisionR: RecallTPR: True Positive RateFPR: False Positive Rate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="rocæ›²çº¿">3.1 ROCæ›²çº¿</h3><h4 id="ä»‹ç»">3.1.1ä»‹ç»</h4><p>ROCå…¨ç§°æ˜¯â€œå—è¯•è€…å·¥ä½œç‰¹å¾â€(Receiver OperatingCharacteristic)æ›²çº¿ï¼Œå®ƒæºäºâ€œäºŒæˆ˜â€ä¸­ç”¨äºæ•Œæœºæ£€æµ‹çš„é›·è¾¾ä¿¡å·åˆ†ææŠ€æœ¯ï¼ŒäºŒåä¸–çºªå…­ä¸ƒåå¹´ä»£å¼€å§‹è¢«ç”¨äºä¸€äº›å¿ƒç†å­¦ã€åŒ»å­¦æ£€æµ‹åº”ç”¨ä¸­ï¼Œæ­¤åè¢«å¼•å…¥æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œç”¨æ¥è¯„åˆ¤åˆ†ç±»ã€æ£€æµ‹ç»“æœçš„å¥½åã€‚å› æ­¤ï¼ŒROCæ›²çº¿æ˜¯éå¸¸é‡è¦å’Œå¸¸è§çš„ç»Ÿè®¡åˆ†ææ–¹æ³•ã€‚</p><p>ä¸ºäº†ç»˜åˆ¶ROCæ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºä¸¤ä¸ªé‡è¦é‡çš„å€¼ï¼ˆ</p><p><strong>TPR</strong>ã€<strong>FPR</strong>ï¼‰ï¼Œåˆ†åˆ«ä»¥å®ƒä»¬ä¸ºæ¨ªã€çºµåæ ‡ä½œå›¾ã€‚å…¶ä¸­çš„TPã€FPã€TNã€FNæ¥è‡ªäº<strong>æ··æ·†çŸ©é˜µ</strong>ï¼Œä¸”TP+FP+TN+FN=æ ·æœ¬æ€»æ•°ã€‚</p><p><span class="math display">\[TPR=\frac{TP}{TP+FN}\]</span></p><p><span class="math display">\[FPR=\frac{FP}{FP + TN}\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023004557339.png" /></p><h4 id="ç”»å›¾æµç¨‹">3.1.2ç”»å›¾æµç¨‹</h4><ol type="1"><li>ç»™å®šm+ä¸ªæ­£ä¾‹å’Œm-ä¸ªè´Ÿä¾‹ï¼Œæ ¹æ®å­¦ä¹ å™¨é¢„æµ‹ç»“æœå¯¹æ ·ä¾‹è¿›è¡Œæ’åº</li><li>ç„¶åæŠŠåˆ†ç±»é˜ˆå€¼è®¾ä¸ºæœ€å¤§ï¼Œå³æŠŠæ‰€æœ‰æ ·ä¾‹å‡é¢„æµ‹ä¸ºåä¾‹ï¼Œæ­¤æ—¶çœŸæ­£ä¾‹ç‡å’Œå‡æ­£ä¾‹ç‡å‡ä¸º0ï¼Œåœ¨åæ ‡(0,0)å¤„æ ‡è®°ä¸€ä¸ªç‚¹</li><li>å°†åˆ†ç±»é˜ˆå€¼ä¾æ¬¡è®¾ä¸ºæ¯ä¸ªæ ·ä¾‹çš„é¢„æµ‹å€¼ï¼Œå³ä¾æ¬¡å°†æ¯ä¸ªæ ·ä¾‹åˆ’åˆ†ä¸ºæ­£ä¾‹ï¼Œè®¾å‰ä¸€ä¸ªæ ‡è®°ç‚¹åæ ‡ä¸º(x,y)ï¼Œå½“å‰è‹¥ä¸ºçœŸæ­£ä¾‹ï¼Œåˆ™å¯¹åº”æ ‡è®°ç‚¹çš„åæ ‡ä¸º<spanclass="math inline">\(\left ( x,y+\frac{1}{m^{+}} \right)\)</span>ï¼›å½“å‰è‹¥ä¸ºå‡æ­£ä¾‹ï¼Œåˆ™å¯¹åº”æ ‡è®°ç‚¹çš„åæ ‡ä¸º<spanclass="math inline">\(\left ( x+\frac{1}{m^{-}},y \right )\)</span></li><li>æœ€åç”¨çº¿æ®µè¿æ¥ç›¸é‚»ç‚¹</li></ol><h4 id="aucåˆ†æ">3.1.3 AUCåˆ†æ</h4><p>ROCæ›²çº¿ä¸‹æ–¹çš„é¢ç§¯ä¹Ÿæœ‰ç€é‡è¦æ„ä¹‰ï¼ˆè‹±è¯­ï¼šArea under the Curve of ROC(AUC ROC)ï¼‰ï¼Œå…¶æ„ä¹‰æ˜¯ï¼š</p><ul><li>å› ä¸ºæ˜¯åœ¨1x1çš„æ–¹æ ¼é‡Œæ±‚é¢ç§¯ï¼ŒAUCå¿…åœ¨0~1ä¹‹é—´ã€‚</li><li>å‡è®¾é˜ˆå€¼ä»¥ä¸Šæ˜¯æ­£ä¾‹ï¼Œä»¥ä¸‹æ˜¯åä¾‹ï¼›</li><li>ç®€å•è¯´ï¼š<strong>AUCå€¼è¶Šå¤§çš„åˆ†ç±»å™¨ï¼Œæ­£ç¡®ç‡è¶Šé«˜ã€‚</strong></li></ul><p>ä»AUCåˆ¤æ–­åˆ†ç±»å™¨ï¼ˆé¢„æµ‹æ¨¡å‹ï¼‰ä¼˜åŠ£çš„æ ‡å‡†ï¼š</p><ul><li>AUC =1ï¼Œæ˜¯å®Œç¾åˆ†ç±»å™¨ï¼Œé‡‡ç”¨è¿™ä¸ªé¢„æµ‹æ¨¡å‹æ—¶ï¼Œå­˜åœ¨è‡³å°‘ä¸€ä¸ªé˜ˆå€¼èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ã€‚ç»å¤§å¤šæ•°é¢„æµ‹çš„åœºåˆï¼Œä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ã€‚</li><li>0.5 &lt; AUC &lt;1ï¼Œä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾ç½®é˜ˆå€¼çš„è¯ï¼Œèƒ½æœ‰é¢„æµ‹ä»·å€¼ã€‚</li><li>AUC = 0.5ï¼Œè·ŸéšæœºçŒœæµ‹ä¸€æ ·ï¼ˆä¾‹ï¼šä¸¢é“œæ¿ï¼‰ï¼Œæ¨¡å‹æ²¡æœ‰é¢„æµ‹ä»·å€¼ã€‚</li><li>AUC &lt;0.5ï¼Œæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼›ä½†åªè¦æ€»æ˜¯åé¢„æµ‹è€Œè¡Œï¼Œå°±ä¼˜äºéšæœºçŒœæµ‹ã€‚</li></ul><p>å‡è®¾ROCæ›²çº¿ç”±ä¸º{ ( x1,y1 ),â‹¯,( xNâ€²,yNâ€² )}çš„ç‚¹æŒ‰éœ€è¿æ¥è€Œæˆä¸”æœ‰x<sub>1</sub>=0,x<sub>N'</sub>=1ï¼Œåˆ™AUCå¯ä¼°ç®—ä¸ºï¼š</p><p><span class="math display">\[AUC=\frac{1}{2} \sum_{j=1}^{N{}&#39;-1} \left ( x_{j+1}-x_{j}  \right )\left ( y_{j+1}+y_{j}  \right )\]</span></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023143342594.png" /></p><p>å¦‚å›¾å³ä¸ºä½¿ç”¨æœ¬æ¬¡ä½œä¸šæ‰€æä¾›æ•°æ®ç»˜åˆ¶çš„ROCæ›²çº¿ã€‚ç”±äºæµ‹è¯•æ ·ä¾‹æœ‰é™ï¼Œæ‰€ä»¥ä»…èƒ½è·å¾—æœ‰é™ä¸ªï¼ˆçœŸæ­£ä¾‹ç‡ï¼Œå‡æ­£ä¾‹ç‡ï¼‰åæ ‡å¯¹ï¼Œæ— æ³•äº§ç”Ÿå…‰æ»‘çš„ROCæ›²çº¿ï¼›ç”±æ­¤è®¡ç®—å¾—åˆ°çš„AUCçš„å€¼ä¸º0.9648ï¼Œå¯ä»¥å¾—çŸ¥è¯¥æ¨¡å‹çš„æ€§èƒ½è¾ƒä¼˜ã€‚</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">draw_roc</span><span class="token punctuation">(</span>confidence_scores<span class="token punctuation">,</span> data_labels<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#çœŸæ­£ç‡ï¼Œå‡æ­£ç‡</span>    fpr<span class="token punctuation">,</span> tpr<span class="token punctuation">,</span> thresholds <span class="token operator">=</span> roc_curve<span class="token punctuation">(</span>data_labels<span class="token punctuation">,</span> confidence_scores<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'ROC Curve'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'FPR'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'TPR'</span><span class="token punctuation">)</span>     <span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> auc    auc<span class="token operator">=</span>auc<span class="token punctuation">(</span>fpr<span class="token punctuation">,</span> tpr<span class="token punctuation">)</span> <span class="token comment">#AUCè®¡ç®—</span>    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>fpr<span class="token punctuation">,</span>tpr<span class="token punctuation">,</span><span class="token string">'k--'</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token string">'roc_curve(AUC=%0.4f)'</span> <span class="token operator">%</span> auc<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="præ›²çº¿">3.2 PRæ›²çº¿</h3><h4 id="ä»‹ç»-1">3.2.1ä»‹ç»</h4><p>PRæ›²çº¿å…¨ç§°ä¸ºæŸ¥å‡†ç‡-æŸ¥å…¨ç‡æ›²çº¿ï¼ŒæŸ¥å‡†ç‡Pä¸æŸ¥å…¨ç‡Råˆ†åˆ«å®šä¹‰ä¸ºï¼š</p><p><span class="math display">\[P=\frac{TP}{TP+FP}ï¼ŒR=\frac{TP}{TP+FN}\]</span></p><p>æŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡æ˜¯ä¸€å¯¹çŸ›ç›¾çš„åº¦é‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒæŸ¥å‡†ç‡é«˜æ—¶ï¼ŒæŸ¥å…¨ç‡å¾€å¾€åä½ï¼›è€ŒæŸ¥å…¨ç‡é«˜æ—¶ï¼ŒæŸ¥å‡†ç‡å¾€å¾€åä½ã€‚</p><h4 id="ç”»å›¾æµç¨‹-1">3.2.2ç”»å›¾æµç¨‹</h4><p>ç»˜åˆ¶PRæ›²çº¿çš„æµç¨‹ä¸ROCæ›²çº¿ç±»ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœæŒ‰æ­£ä¾‹å¯èƒ½æ€§å¤§å°å¯¹æ ·ä¾‹è¿›è¡Œæ’åºï¼Œå†é€ä¸ªæ ·æœ¬çš„é€‰æ‹©é˜ˆå€¼ï¼Œåœ¨è¯¥æ ·æœ¬ä¹‹å‰çš„éƒ½å±äºæ­£ä¾‹ï¼Œè¯¥æ ·æœ¬ä¹‹åçš„éƒ½å±äºè´Ÿä¾‹ã€‚æ¯ä¸€ä¸ªæ ·æœ¬ä½œä¸ºåˆ’åˆ†é˜ˆå€¼æ—¶ï¼Œéƒ½å¯ä»¥è®¡ç®—å¯¹åº”çš„precisionå’Œrecallï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»¥æ­¤ç»˜åˆ¶æ›²çº¿ã€‚</p><h4 id="apåˆ†æ">3.2.3 APåˆ†æ</h4><p>å…¶ä¸­å¹³è¡¡ç‚¹æ˜¯æ›²çº¿ä¸Šâ€œæŸ¥å‡†ç‡=æŸ¥å…¨ç‡â€æ—¶çš„å–å€¼ï¼Œå¯ç”¨äºåº¦é‡PRæ›²çº¿æœ‰äº¤å‰çš„åˆ†ç±»å™¨æ€§èƒ½é«˜ä½ã€‚ä¸AUCç±»ä¼¼ï¼ŒPRæ›²çº¿ä¸‹æ–¹é¢ç§¯ä¹Ÿæœ‰é‡è¦æ„ä¹‰ã€‚PRæ›²çº¿ä¸‹çš„é¢ç§¯ç§°ä¹‹ä¸ºAP(AveragePrecision)ï¼Œé€šå¸¸æ¥è¯´ä¸€ä¸ªè¶Šå¥½çš„åˆ†ç±»å™¨ï¼ŒAPå€¼è¶Šé«˜ã€‚</p><p>å¯¹äºè¿ç»­çš„PRæ›²çº¿ï¼Œæœ‰ï¼š</p><p><span class="math display">\[AP=\int_{0}^{1} p\left ( r \right ) \mathrm{d}r\]</span></p><p>ä½†ç”±äºæ›²çº¿å¯èƒ½å‡ºç°ä¸å¯å¯¼çš„éƒ¨åˆ†ï¼Œæ•…æˆ‘ä»¬å¸¸å¸¸æ±‚å…¶è¿‘ä¼¼å€¼ï¼š</p><p><span class="math display">\[p_{\text {interp }}(r)=\max _{\tilde{r} \geq r} p(\tilde{r})\]</span></p><p>å¯¹äºç¦»æ•£çš„PRæ›²çº¿ï¼Œæœ‰ï¼š</p><p><span class="math display">\[\mathrm{AP}=\sum_{k=1}^{n} p(k) \Delta r(k)\]</span></p><p>å¦å¤–PRæ›²çº¿å¹³è¡¡ç‚¹æ›´ç”¨å¸¸ç”¨çš„æ˜¯F1åº¦é‡ï¼š</p><p><span class="math display">\[F 1=\frac{2 \times P \times R}{P+R}=\frac{2 \times T P}{\text { æ ·ä¾‹æ€»æ•°}+T P-T N}\]</span></p><p>æ¯”F1åº¦é‡æ›´ä¸€èˆ¬çš„å½¢å¼æ˜¯F<sub>Î²</sub>ï¼š</p><p><span class="math display">\[F_{\beta}=\frac{\left(1+\beta^{2}\right) \times P \timesR}{\left(\beta^{2} \times P\right)+R}\]</span></p><ul><li>Î²=1ï¼šæ ‡å‡†F1</li><li>Î²&gt;1ï¼šåé‡æŸ¥å…¨ç‡ï¼ˆé€ƒçŠ¯ä¿¡æ¯æ£€ç´¢ï¼‰</li><li>Î²&lt;1ï¼šåé‡æŸ¥å‡†ç‡ï¼ˆå•†å“æ¨èç³»ç»Ÿï¼‰</li></ul><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211023150341520.png" /></p><p>å¦‚å›¾å³ä¸ºä½¿ç”¨æœ¬æ¬¡ä½œä¸šæ‰€æä¾›æ•°æ®ç»˜åˆ¶çš„PRæ›²çº¿ã€‚åœ¨ç°å®ä»»åŠ¡ä¸­ï¼ŒPRæ›²çº¿æ˜¯éå•è°ƒã€ä¸å¹³æ»‘çš„ï¼Œåœ¨å¾ˆå¤šå±€éƒ¨æœ‰ä¸Šä¸‹æ³¢åŠ¨ï¼›ç”±æ­¤è®¡ç®—å¾—åˆ°çš„APçš„å€¼ä¸º0.9751ï¼Œå¯ä»¥å¾—çŸ¥è¯¥æ¨¡å‹çš„æ€§èƒ½è¾ƒä¼˜ã€‚</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">draw_pr</span><span class="token punctuation">(</span>confidence_scores<span class="token punctuation">,</span> data_labels<span class="token punctuation">)</span><span class="token punctuation">:</span>    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'PR Curve'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Recall'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Precision'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">#ç²¾ç¡®ç‡ï¼Œå¬å›ç‡ï¼Œé˜ˆå€¼</span>    precision<span class="token punctuation">,</span>recall<span class="token punctuation">,</span>thresholds <span class="token operator">=</span> precision_recall_curve<span class="token punctuation">(</span>data_labels<span class="token punctuation">,</span>confidence_scores<span class="token punctuation">)</span>     <span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> average_precision_score    AP <span class="token operator">=</span> average_precision_score<span class="token punctuation">(</span>data_labels<span class="token punctuation">,</span> confidence_scores<span class="token punctuation">)</span> <span class="token comment"># è®¡ç®—AP</span>    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>recall<span class="token punctuation">,</span> precision<span class="token punctuation">,</span><span class="token string">'k--'</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token string">'pr_curve(AP=%0.4f)'</span> <span class="token operator">%</span> AP<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å››æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·">å››ã€æ€»ç»“æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ”¶è·</h2><h3 id="åŠ æ·±äº†å¯¹é€»è¾‘æ–¯è’‚å›å½’çš„ç†è§£">4.1åŠ æ·±äº†å¯¹é€»è¾‘æ–¯è’‚å›å½’çš„ç†è§£</h3><h4 id="ç®€è¿°å¯¹æ¨¡å‹çš„ç†è§£">4.1.1ç®€è¿°å¯¹æ¨¡å‹çš„ç†è§£ï¼š</h4><p>å› ä¸ºçº¿æ€§å›å½’æ¨¡å‹äº§ç”Ÿçš„é¢„æµ‹å€¼æ˜¯ä¸€ç³»åˆ—å®å€¼ã€‚ä¸ºäº†ä½¿å¾—è¾“å‡ºçš„é¢„æµ‹ç»“æœå˜æˆåˆ†ç±»æ‰€éœ€çš„0å’Œ1ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çº¿æ€§å›å½’çš„åŸºç¡€å¼å­å¤–å†å¥—ä¸€ä¸ªå‡½æ•°å°†å…¶è¾“å‡ºå˜æˆ0å’Œ1ï¼Œåˆè¦æ±‚è¯¥å‡½æ•°å•è°ƒå¯å¾®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥logisticå‡½æ•°ï¼Œå°†è¾“å‡ºçš„é¢„æµ‹ç»“æœæˆåŠŸè½¬ä¸ºæ¦‚ç‡å€¼ã€‚è¿™æ ·ï¼Œé€»è¾‘æ–¯è’‚å›å½’æ¨¡å‹è¢«æˆåŠŸåº”ç”¨äºè§£å†³åˆ†ç±»æ¨¡å‹ã€‚</p><h4 id="å…³äºç®—æ³•çš„æ‹©ä¼˜">4.1.2å…³äºç®—æ³•çš„æ‹©ä¼˜ï¼š</h4><p>åœ¨ä»£ç å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ€å¼€å§‹ä½¿ç”¨çš„æ˜¯æ¢¯åº¦ä¸‹é™æ³•ï¼Œä½†æ˜¯è¿­ä»£é€Ÿåº¦è¾ƒæ…¢ï¼Œæ‹Ÿåˆæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼›ä¹‹åæˆ‘ä»¬é€‰æ‹©äº†ç‰›é¡¿æ³•ï¼Œä½†æ˜¯å› ä¸ºè®¡ç®—æµ·æ£®çŸ©é˜µçš„å¤æ‚åº¦å¤ªé«˜ï¼Œæˆ‘ä»¬é€‰æ‹©ç”¨ä¸€ç§æ‹Ÿç‰›é¡¿æ³•â€”â€”â€˜L-BFGSâ€™æ¥é€¼è¿‘æµ·æ£®çŸ©é˜µï¼Œæœ€ç»ˆè¾¾åˆ°äº†æˆ‘ä»¬ç†æƒ³çš„æ•ˆæœã€‚</p><p>æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/æ‹Ÿç‰›é¡¿æ³•ç›¸æ¯”ï¼Œä¸¤è€…éƒ½æ˜¯è¿­ä»£æ±‚è§£ï¼Œä¸è¿‡æ¢¯åº¦ä¸‹é™æ³•æ˜¯æ¢¯åº¦æ±‚è§£ï¼Œè€Œç‰›é¡¿æ³•/æ‹Ÿç‰›é¡¿æ³•æ˜¯ç”¨äºŒé˜¶çš„æµ·æ£®çŸ©é˜µçš„é€†çŸ©é˜µæˆ–ä¼ªé€†çŸ©é˜µæ±‚è§£ã€‚ç›¸å¯¹è€Œè¨€ï¼Œä½¿ç”¨ç‰›é¡¿æ³•/æ‹Ÿç‰›é¡¿æ³•æ”¶æ•›æ›´å¿«ã€‚</p><h3 id="å®ç°äº†ä»£ç æŠ€èƒ½çš„æå‡">4.2å®ç°äº†ä»£ç æŠ€èƒ½çš„æå‡</h3><p>åœ¨ä»£ç å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†æœºå™¨å­¦ä¹ å·¥å…·åŒ…sklearnä¸­çš„é‡è¦å‡½æ•°â€”â€”LogisticRegressionå‡½æ•°ï¼Œç†Ÿæ‚‰äº†å®ƒçš„å¸¸ç”¨å‚æ•°åŠæ„ä¹‰ï¼Œä¸‹é¢ä»¥è¡¨æ ¼å½¢å¼åˆ—å‡ºæˆ‘ä»¬åœ¨æ­¤æ¬¡æ¨¡å‹è®­ç»ƒä¸­ä½¿ç”¨åˆ°çš„å‚æ•°ã€‚</p><table><colgroup><col style="width: 2%" /><col style="width: 50%" /><col style="width: 46%" /></colgroup><thead><tr class="header"><th>å‚æ•°</th><th>æ„ä¹‰</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr class="odd"><td>penalty</td><td>strç±»å‹ï¼Œå¯é€‰é¡¹æœ‰{â€˜L1â€™,â€˜L2â€™}ï¼Œç”¨æ¥ç¡®å®šæƒ©ç½šé¡¹çš„è§„èŒƒã€‚â€˜newton-cgâ€™ï¼Œâ€˜sagâ€™å’Œâ€˜lbfgsâ€™ä»…æ”¯æŒâ€˜L2â€™æƒ©ç½šé¡¹ã€‚</td><td>è¯¥å‚æ•°æ˜¯ä¸ºäº†æ·»åŠ æƒ©ç½šé¡¹ï¼Œé¿å…è¿‡æ‹Ÿåˆï¼Œç”¨ä»¥æé«˜å‡½æ•°çš„æ³›åŒ–èƒ½åŠ›ã€‚æˆ‘ä»¬åœ¨æœ¬æ¬¡æ¨¡å‹è®­ç»ƒä¸­ä½¿ç”¨çš„æ˜¯â€˜L2â€™ã€‚</td></tr><tr class="even"><td>solver</td><td>å¯é€‰çš„ä¼˜åŒ–ç®—æ³•æœ‰{â€˜newton-cgâ€™ï¼Œâ€˜lbfgsâ€™,â€˜liblinearâ€™,â€˜sagâ€™}</td><td>å°æ•°æ®é›†ä¸­ï¼Œliblinearæ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ï¼Œsagå’Œsagaå¯¹å¤§æ•°æ®æ›´å¿«ï¼›å¤šåˆ†ç±»é—®é¢˜ä¸­ï¼Œé™¤äº†liblinearå…¶å®ƒå››ç§ç®—æ³•éƒ½å¯ä»¥ä½¿ç”¨ï¼›newton-cgï¼Œlbfgså’Œsagä»…èƒ½ä½¿ç”¨L2æƒ©ç½šé¡¹ï¼›æˆ‘ä»¬ç»è¿‡å¯¹æ¯”ï¼Œé€‰æ‹©çš„ç®—æ³•æ˜¯lbfgsã€‚</td></tr><tr class="odd"><td>multi_class</td><td>strç±»å‹ï¼Œå¯é€‰å‚æ•°æœ‰{â€˜ovrâ€™ï¼Œâ€˜multinomialâ€™}å¦‚æœæ˜¯äºŒå…ƒåˆ†ç±»é—®é¢˜åˆ™ä¸¤ä¸ªé€‰é¡¹ä¸€æ ·ï¼Œå¦‚æœæ˜¯å¤šå…ƒåˆ†ç±»åˆ™ovrå°†è¿›è¡Œå¤šæ¬¡äºŒåˆ†ç±»ï¼Œåˆ†åˆ«ä¸ºä¸€ç±»åˆ«å’Œå‰©ä½™å…¶å®ƒæ‰€æœ‰ç±»åˆ«;multinomialåˆ™åˆ†åˆ«è¿›è¡Œä¸¤ä¸¤åˆ†ç±»ï¼Œéœ€è¦T(T-1)/2æ¬¡åˆ†ç±»ã€‚</td><td>åœ¨å¤šåˆ†ç±»ä¸­ï¼Œovrå¿«ï¼Œç²¾åº¦ä½; multinomialæ…¢ï¼Œç²¾åº¦é«˜ã€‚</td></tr></tbody></table><h3id="æé«˜äº†å…¬å¼æ¨å¯¼å’Œæ–‡ç« æ’ç‰ˆèƒ½åŠ›">4.3æé«˜äº†å…¬å¼æ¨å¯¼å’Œæ–‡ç« æ’ç‰ˆèƒ½åŠ›</h3><p>æŠ¥å‘Šä¸­çš„æ‰€æœ‰å…¬å¼ï¼Œæˆ‘ä»¬éƒ½è„šè¸å®åœ°ï¼Œä¸€æ­¥æ­¥æ‰‹åŠ¨æ¨å¯¼ï¼Œå¹¶å­¦ä¹ ä½¿ç”¨latexå°†å…¶æ‰‹åŠ¨è¾“å…¥å¹¶æ’ç‰ˆã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹ç®—æ³•ä¸­å…¬å¼çš„æ¥æºæ›´åŠ æ¸…æ¥šï¼Œå¯¹å…¶åŸç†ç†è§£æ›´åŠ æ·±é€ã€‚è¿™æé«˜äº†æˆ‘ä»¬çš„å…¬å¼æ¨å¯¼èƒ½åŠ›å’Œæ–‡ç« æ’ç‰ˆèƒ½åŠ›ã€‚</p><h3id="é”»ç‚¼äº†å°ç»„åˆä½œç²¾ç¥æé«˜äº†å°ç»„åˆä½œèƒ½åŠ›">4.4é”»ç‚¼äº†å°ç»„åˆä½œç²¾ç¥ï¼Œæé«˜äº†å°ç»„åˆä½œèƒ½åŠ›</h3><p>åœ¨æ­£å¼å†™æŠ¥å‘Šä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹æœ¬æ¬¡ä½œä¸šä»»åŠ¡ä»¥åŠå¯¹é€»è¾‘æ–¯è’‚å›å½’æ¨¡å‹çš„ç†è§£è¿›è¡Œäº†è®¨è®ºï¼›ç„¶åä¸ºäº†åŠ æ·±å½¼æ­¤å¯¹çŸ¥è¯†çš„æŒæ¡ç¨‹åº¦ï¼Œæ¯ä¸ªäººéƒ½å¯¹ä»£ç è¿›è¡Œäº†ç‹¬ç«‹ç¼–å†™ï¼Œåœ¨å®ç°çš„è¿‡ç¨‹ä¸­æ¢è®¨äº’åŠ©ï¼›æœ€åï¼Œæˆ‘ä»¬æ ¹æ®å½¼æ­¤çš„ä¼˜åŠ¿é¡¹å¯¹ä»»åŠ¡è¿›è¡Œäº†åˆ†å·¥åˆä½œï¼Œé½å¿ƒååŠ›åˆ›ä½œå‡ºäº†è¿™ä»½å°½å¯èƒ½å®Œå–„çš„æŠ¥å‘Šã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>typora+picgo+github(cdn)é«˜æ•ˆå†™ä½œ[giteeè¾¾å’©]</title>
    <link href="/2021/10/20/picgo/"/>
    <url>/2021/10/20/picgo/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è§£å†³hexoåšå®¢å›¾ç‰‡ä¸Šä¼ é—®é¢˜</p><span id="more"></span><p>Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p><p>Markdown è¯­è¨€åœ¨ 2004 ç”±çº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰åˆ›å»ºã€‚</p><p>Markdown ç¼–å†™çš„æ–‡æ¡£å¯ä»¥å¯¼å‡º HTML ã€Wordã€å›¾åƒã€PDFã€Epubç­‰å¤šç§æ ¼å¼çš„æ–‡æ¡£ã€‚</p><p>Markdown ç¼–å†™çš„æ–‡æ¡£åç¼€ä¸º <strong>.md</strong>,<strong>.markdown</strong>ã€‚</p><hr /><p><a href="https://typora.io/">Typora</a> gives you a seamlessexperience as both a reader and a writer.</p><p>It removes the preview window, mode switcher, syntax symbols of</p><p>markdown source code, and all other unnecessary distractions.Instead,</p><p>it provides a real live preview feature to help you concentrate onthe content itself.</p><hr /><p>æ‡’å¾—è§£é‡Šäº†ï¼Œæ€»ä¹‹markdownçœŸå¥½ç”¨ï¼Œtyporayydsï¼ï¼ˆæ­£å¼ç‰ˆå¼€å§‹æ”¶è´¹äº†ï¼Œä½†è¿˜æ˜¯å¾ˆè‰¯å¿ƒï¼‰</p><p>ä½†æ˜¯ä¸€ç›´ä»¥æ¥æˆ‘éƒ½è§‰å¾—å†™blogæ˜¯ä¸ªå¾ˆç—›è‹¦çš„è¿‡ç¨‹ï¼Œé™¤äº†å› ä¸ºæˆ‘æ‡’ï¼Œå°±æ˜¯æ¯æ¬¡éƒ½å¾—ä¸€å¼ ä¸€å¼ ä¸Šä¼ å›¾ç‰‡ï¼Œæ‰€ä»¥è¿Ÿè¿Ÿæœªæ›´æ–°ã€‚</p><p>ç›´åˆ°æˆ‘ä½¿ç”¨äº†typora+picgo+giteeè¿™ä¸€ç»„åˆã€‚</p><hr /><p><a href="https://github.com/PicGo/">Picgo</a>çš„GitHubé¡µé¢ä¸ŠåŒ…å«äº†<ahref="https://github.com/PicGo/PicGo-Core">core</a>ï¼Œ<ahref="https://github.com/PicGo/vs-picgo">vscodeçš„æ‰©å±•ç‰ˆ</a>å’Œå„ç§å„æ ·<ahref="https://github.com/PicGo/Awesome-PicGo">awesomeçš„æ’ä»¶</a>ã€‚</p><p>ä¸è¿‡æˆ‘é€‰æ‹©çš„æ˜¯ç¼–è¯‘å¥½çš„<ahref="https://github.com/Molunerfinn/PicGo/releases">å‘è¡Œç‰ˆç¨‹åº</a>ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020213735806.png" /></p><p>å®‰è£…è¿‡ç¨‹ä¸­æ²¡ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Œæ€»ä¹‹å°±æ˜¯ä¸€è·¯ç‚¹ä¸‹å»ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020213944319.png" /></p><p>æ‰“å¼€ååº”è¯¥æ˜¯ä¸€ä¸ªè¿™æ ·çš„ç•Œé¢ï¼Œæˆ‘é¦–å…ˆæ’é™¤GitHubå’ŒImguräº†ï¼Œæ¯•ç«Ÿä¸èƒ½ä¿è¯æ¯ä¸€ä½ç”¨æˆ·éƒ½ç§‘å­¦ä¸Šç½‘ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘æ ¹æ®ç½‘ä¸Šçš„æ•™ç¨‹æŒ‰é¡ºåºå°è¯•äº†SMMSï¼Œä¸ƒç‰›äº‘ï¼Œåˆæ‹äº‘Â·Â·Â·</p><p>ç¬¬ä¸€ä¸ªé…ç½®å¥½ä¸Šä¼ ä¸äº†ï¼Œåé¢ä¿©é…ç½®å¾—ä¹Ÿå¾ˆå®Œç¾ï¼Œä»€ä¹ˆåŸŸåç»‘å®šï¼ŒcdnåŠ é€ŸÂ·Â·Â·ç»“æœæœ¬åœ°å›¾ç‰‡æ˜¾ç¤ºï¼Œä¸Šä¼ åˆ°åšå®¢ä¸Šå°±æ˜¾ç¤ºä¸äº†äº†ï¼ŒåŸå› ä¸å¾—è€ŒçŸ¥ã€‚</p><p>æœ€åæˆ‘é€‰æ‹©äº†å…è´¹ï¼Œè®¿é—®é€Ÿåº¦è¿˜å¿«çš„Giteeã€‚</p><p>é¦–å…ˆåœ¨æ’ä»¶è®¾ç½®ä¸­æœç´¢å¹¶ä¸‹è½½ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020215002022.png" /></p><p>å¦‚æœæ²¡æœ‰Giteeè´¦æˆ·ï¼Œå…ˆè¿›è¡Œ<a href="https://gitee.com/">æ³¨å†Œ</a>ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020220550100.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020220758789.png" /></p><p>è®°å¥½æˆ‘çº¢æ¡†å‡ºæ¥çš„å†…å®¹ï¼Œç„¶ååˆ°ä¸ªäººè®¾ç½®é‡Œç”Ÿæˆç§äººä»¤ç‰Œã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020221019061.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020221038756.png" /></p><p>æè¿°ç”±ä½ å†³å®šï¼Œåªéœ€è¦é€‰æ‹©å›¾ä¸­ä¸¤é¡¹ï¼Œç„¶åæŠŠä»¤ç‰Œ<strong>å¤åˆ¶</strong>å¥½å¤‡ç”¨ã€‚ï¼ˆå…³é—­ä¹‹åå°±ä¸å†æ˜æ–‡æ˜¾ç¤ºäº†ï¼ï¼‰</p><p>æœ€ååœ¨picgoä¸­å¡«å¥½å„é¡¹å‚æ•°ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020221334908.png" /></p><p>æŠŠgiteeè®¾ç½®ä¸ºé»˜è®¤å›¾åºŠä¹‹åè‡³æ­¤å·²ç»å¯ä»¥ä½¿ç”¨Ctrl+Cå¤åˆ¶å›¾ç‰‡ï¼ŒCtrlï¼‹Shiftï¼‹Pä¸Šä¼ è‡³å›¾åºŠï¼ŒCtrl+Vç²˜è´´åˆ°typoraä¸­ã€‚</p><p>ä¸ºäº†ç®€åŒ–æ“ä½œï¼Œå¯ä»¥åœ¨typoraçš„åå¥½è®¾ç½®ä¸­è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211020222002514.png" /></p><p>ï¼ˆé¡ºä¾¿éªŒè¯ä¸€ä¸‹æˆåŠŸä¸å¦ï¼‰</p><p>å¤§åŠŸå‘Šæˆï¼Œä»æ­¤å†™ä½œå¯ä»¥å®Œå…¨æŠ›å¼ƒå›¾ç‰‡çš„è‹¦æ¼ï¼Œä¸€é”®ä¸Šä¼ ï¼Œso easy~</p><p>å¦å¤–æ¨èä¸¤ä¸ªæˆ‘å¸¸å¸¸ä½¿ç”¨çš„å›¾ç‰‡<ahref="https://bigjpg.com/">æ— æŸæ”¾å¤§</a>å’Œ<ahref="https://www.picdiet.com/zh-cn">æ— æŸå‹ç¼©</a>çš„ç½‘ç«™ã€‚</p><p>è™½ç„¶è‡ªåŠ¨åŒ–ä¸Šä¼ ä¹‹åæˆ‘å°±ä¸ä¼šå»è°ƒæ•´å›¾ç‰‡çš„å¤§å°äº†Â·Â·Â·Â·Â·Â·</p><hr /><h1 id="æ›´æ–°">2022.3.30æ›´æ–°</h1><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330110138852.png" /></p><p>å›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºå‡ å¤©äº†ï¼Œè¿˜ä»¥ä¸ºæ˜¯æˆ‘ç½‘ç»œç¯å¢ƒä¸å¥½ã€‚ä¸Šäº†çŸ¥ä¹æ‰çŸ¥é“ï¼ŒåŸæ¥giteeç›´æ¥æŠŠå¤–é“¾å±è”½äº†ï¼Œç”šè‡³æŠŠæ‰€æœ‰å›¾ç‰‡æ›¿æ¢æˆä»–ä»¬çš„logoï¼Œæ°”æŠ–å†·ï¼</p><p>åªèƒ½è¿å¤œæŠŠæˆ‘200å¤šå¼ å›¾ç‰‡ä¸‹è½½ç„¶åä¸Šä¼ åˆ°GitHubï¼Œé‡æ–°é…ç½®å¥½picgoï¼Œå†æŠŠä»¥å¾€æ‰€æœ‰æ–‡ç« çš„å›¾ç‰‡é“¾æ¥å‰ç¼€æ›¿æ¢äº†ã€‚</p><p>GitHubåœ¨picgoé‡Œè‡ªå¸¦ï¼Œä¸éœ€è¦æ’ä»¶ï¼Œé…ç½®æ–¹æ³•è·Ÿä¸Šé¢å¤§åŒå°å¼‚ï¼Œæˆ‘å°±ä¸é‡æ–°å†™ä¸€éäº†ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20220330110738648.png" /></p><p>è®¾å®šä»“åº“åï¼šç”¨æˆ·å/æ–°å»ºçš„ä»“åº“å</p><p>è®¾å®šåˆ†æ”¯åï¼šmasteræˆ–è€…mainå‡å¯</p><p>è®¾å®šTokenï¼šç±»ä¼¼äºgitee</p><p>å­˜å‚¨è·¯å¾„ï¼šä»“åº“é‡Œçš„æ–‡ä»¶å¤¹åï¼Œå¯ä»»å–ï¼Œä¸Šä¼ åä¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•</p><p><strong>è®¾å®šè‡ªå®šä¹‰åŸŸå</strong>ï¼šè™½ç„¶å¯ä»¥ç”¨GitHubçš„å‰ç¼€ï¼Œä½†ç”±äºè€ƒè™‘åˆ°è®¿é—®é€Ÿåº¦é—®é¢˜ï¼Œæ•…é‡‡å–å›½å†…cdnåŠ é€Ÿçš„æ–¹æ³•è§£å†³ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><p>https://cdn.jsdelivr.net/gh/ç”¨æˆ·å/æ–°å»ºçš„ä»“åº“å@åˆ†æ”¯å</p><hr /><h1 id="æ›´æ–°-1">2022.5.29æ›´æ–°</h1><p>æ‡’å¾—å†™äº†</p><p>å‚è€ƒhttps://www.myql.xyz/post/92e90c46/</p><p>ç°åœ¨æˆ‘ç«™æ‰€æœ‰å›¾ç‰‡æ›¿æ¢æˆäº†coding</p><p>ä½œè€…å†™çš„éå¸¸è¯¦ç»†ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹æ³¨æ„æ˜¯åˆ†æ”¯ï¼Œææ¸…æ¥šæ˜¯mainè¿˜æ˜¯masterè¿˜æ˜¯ä»€ä¹ˆï¼Œä»–çš„ä»£ç è¿™éƒ¨åˆ†è¦æ”¹ï¼›</p><p>å›¢é˜Ÿåä¸å¤ªå‡†ç¡®ï¼Œåº”è¯¥æ˜¯ä½ è®¾ç½®å›¢é˜Ÿåçš„é‚£ä¸ªåŸŸåã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨æœç´¢ç®—æ³•è§£å†³å…«æ•°ç é—®é¢˜</title>
    <link href="/2021/10/19/8puzzle/"/>
    <url>/2021/10/19/8puzzle/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>äººå·¥æ™ºèƒ½å¯¼è®ºä½œä¸šè®°å½•ã€‚</p><span id="more"></span><h2 id="ä¸€é—®é¢˜æè¿°ä¸åˆ†æ">ä¸€ã€é—®é¢˜æè¿°ä¸åˆ†æ</h2><p>å…«æ•°ç é—®é¢˜å°±æ˜¯åœ¨ä¸€ä¸ªå¤§å°ä¸º3Ã—3çš„ä¹å®«æ ¼ä¸Š,æ”¾ç½®8å—ç¼–å·ä¸º1-8çš„æœ¨å—ï¼Œä¹å®«æ ¼ä¸­æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå‘¨å›´(ä¸Šä¸‹å·¦å³)çš„æœ¨å—å¯ä»¥å’Œç©ºæ ¼äº¤æ¢ä½ç½®ã€‚å¯¹äºé—®é¢˜ï¼Œç»™å®šä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œç›®æ ‡çŠ¶æ€æ˜¯æœŸæœ›è¾¾åˆ°1-8é¡ºåºæ’åˆ—çš„åºåˆ—ï¼Œå¹¶ä¸”ç©ºæ ¼åœ¨å³ä¸‹è§’ï¼Œé—®é¢˜çš„å®è´¨å°±æ˜¯å¯»æ‰¾ä¸€ä¸ªåˆæ³•çš„ç§»åŠ¨åºåˆ—ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204607.png" /></p><p>ä¸æ˜¯æ¯ä¸€ä¸ªç»™å®šçš„åˆå§‹çŠ¶æ€éƒ½å­˜åœ¨è§£ï¼Œåœ¨åˆ†æä¹‹å‰ï¼Œå¼•å…¥çº¿æ€§ä»£æ•°ä¸­çš„å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li><p>é€†åºæ•°ï¼šåœ¨ä¸€ä¸ªæ’åˆ—ä¸­ï¼Œå¦‚æœä¸€å¯¹æ•°å­—çš„å‰åä½ç½®ä¸å¤§å°é¡ºåºç›¸åï¼Œå³å‰é¢çš„æ•°å¤§äºåé¢çš„æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ç§°ä¸ºä¸€ä¸ªé€†åºã€‚ä¸€ä¸ªæ’åˆ—ä¸­åºçš„æ€»æ•°å°±ç§°ä¸ºè¿™ä¸ªæ’åˆ—çš„é€†åºæ•°ã€‚</p></li><li><p>å¥‡æ’åˆ—ï¼šé€†åºæ•°ä¸ºå¥‡æ•°çš„æ’åˆ—ç§°ä¸ºå¥‡æ’åˆ—</p></li><li><p>å¶æ’åˆ—ï¼šé€†åºæ•°ä¸ºå¶æ•°çš„æ’åˆ—ç§°ä¸ºå¶æ’åˆ—</p><p>ä½¿ç”¨çº¿æ€§ä»£æ•°ç†è®ºå¯ä»¥å¾—çŸ¥ï¼Œå¯¹äºä»»æ„ç›®æ ‡çŠ¶æ€ï¼Œåªæœ‰åˆå§‹çŠ¶æ€çš„é€†åºæ•°å’Œç›®æ ‡çŠ¶æ€çš„é€†åºæ•°çš„å¥‡å¶æ€§ç›¸åŒæ‰æœ‰è§£(é€†åºæ•°è®¡ç®—ä¸åŒ…æ‹¬0çš„é€†åºæ•°)ã€‚</p><p>è¯æ˜ï¼š</p><p>âˆµå…«æ•°ç é—®é¢˜æ¯ä¸€ä¸ªæ­¥éª¤éƒ½å¯ä»¥è§†ä½œ 0 çš„ç§»åŠ¨ï¼Œ 0çš„ç§»åŠ¨è‡³å¤šæœ‰å››ä¸ªå¯èƒ½çš„æ–¹å‘ åˆâˆµ 0 æ˜¯åºåˆ—ä¸­æœ€å°çš„æ•°ï¼Œåºåˆ—çš„å¥‡å¶æ€§ä¸ä¼šè·Ÿéš0 çš„ç§»åŠ¨è€Œæ”¹å˜ ä¸”å¯¹äºå…¶ä½™æ•°å­—è€Œè¨€ï¼Œè¦ä¹ˆä¸ 0 äº’æ¢ï¼Œè¦ä¹ˆè·¨è¿‡ä¸¤ä¸ªæ•°å­—å’Œ 0äº’æ¢ âˆ´é€†åºæ•°çš„æ”¹å˜åªæœ‰å˜åŒ–ä¸º 0ã€ -2ã€ +2 è¿™ä¸‰ç§æƒ…å†µåˆâˆµå¥‡æ•°Â±å¶æ•°=å¥‡æ•°ï¼Œå¶æ•°Â±å¶æ•°=å¶æ•°âˆ´åºåˆ—åœ¨å˜æ¢è¿‡ç¨‹ä¸­ï¼Œå®ƒçš„å¥‡å¶æ€§ä¸ä¼šå‘ç”Ÿæ”¹å˜âˆ´å¦‚æœåˆå§‹åºåˆ—å’Œç›®æ ‡åºåˆ—ä¸æ˜¯åŒä¸ºå¥‡æ’åˆ—æˆ–è€…å¶æ’åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ªå…«æ•°ç é—®é¢˜å°±æ˜¯æ— è§£çš„ã€‚</p></li></ul><p>ä»¥å›¾ä¸­æ‰€ç»™çŠ¶æ€ä¸ºä¾‹ï¼Œåˆå§‹çŠ¶æ€çš„é€†åºæ•°t=0+6+5+1+2+1+1=16ï¼Œç›®æ ‡çŠ¶æ€çš„é€†åºæ•°t'=0ï¼Œæ•…æœ‰è§£ã€‚</p><h2 id="äºŒæ·±åº¦ä¼˜å…ˆéå†æœç´¢dfs">äºŒã€æ·±åº¦ä¼˜å…ˆéå†æœç´¢(DFS)</h2><h3 id="ç®—æ³•ä»‹ç»">2.1ç®—æ³•ä»‹ç»</h3><p><strong>æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</strong>ï¼ˆè‹±è¯­ï¼šDepth-First-Searchï¼ŒDFSï¼‰æ˜¯ä¸€ç§ç”¨äºéå†æˆ–æœç´¢æ ‘æˆ–å›¾çš„ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•ä¼šå°½å¯èƒ½æ·±çš„æœç´¢æ ‘çš„åˆ†æ”¯ã€‚å½“èŠ‚ç‚¹vçš„æ‰€åœ¨è¾¹éƒ½å·±è¢«æ¢å¯»è¿‡ï¼Œæœç´¢å°†å›æº¯åˆ°å‘ç°èŠ‚ç‚¹vçš„é‚£æ¡è¾¹çš„èµ·å§‹èŠ‚ç‚¹ã€‚è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°å·²å‘ç°ä»æºèŠ‚ç‚¹å¯è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ­¢ã€‚å¦‚æœè¿˜å­˜åœ¨æœªè¢«å‘ç°çš„èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä½œä¸ºæºèŠ‚ç‚¹å¹¶é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ•´ä¸ªè¿›ç¨‹åå¤è¿›è¡Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®ä¸ºæ­¢ï¼Œå±äºç›²ç›®æœç´¢ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼ŒDFSæ–¹æ³•é¦–å…ˆä»æ ¹èŠ‚ç‚¹1å¼€å§‹ï¼Œå…¶æœ€ç»ˆå¾—åˆ°çš„éå†é¡ºåºæ˜¯â€œ1-2-3-4-5-6-7-8-9-10-11-12â€ã€‚ï¼ˆå‡å®šå·¦åˆ†æå’Œå³åˆ†æä¸­ä¼˜å…ˆé€‰æ‹©å·¦åˆ†æï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204640.png" /></p><p>æˆ‘ä»¬å°†å…¶åº”ç”¨äºå…«æ•°ç é—®é¢˜çš„è§£å†³ã€‚è§£å…«æ•°ç é—®é¢˜å®é™…ä¸Šå°±æ˜¯æ‰¾å‡ºä»åˆå§‹çŠ¶æ€åˆ°è¾¾ç›®æ ‡çŠ¶æ€æ‰€ç»è¿‡çš„ä¸€ç³»åˆ—ä¸­é—´è¿‡æ¸¡çŠ¶æ€ã€‚å‰æ–‡æåˆ°DFSéå†çš„æ ‘æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§è§„å®šçš„éå†æ–¹æ³•å°±èƒ½å®Œæˆéå†ï¼Œè€Œå¯¹äºå…«æ•°ç é—®é¢˜ï¼Œæ²¡æœ‰å·²ç»å­˜åœ¨çš„è·¯å¾„ä¾›æˆ‘ä»¬éå†ï¼Œéœ€è¦æˆ‘ä»¬ä»åˆå§‹çŠ¶æ€å‘ä¸‹å»¶ä¼¸ï¼ˆä¹Ÿå°±æ˜¯ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼‰æ‰èƒ½æ„é€ å‡ºç±»ä¼¼çš„æ ‘ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204711.png" /></p><p>ä»¥ä¸Šå›¾ä¸ºä¾‹ã€‚åœ¨ä½¿ç”¨DFSè¿›è¡Œæœç´¢æ—¶ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½ä¼šæŒ‰ç…§ä¸€å®šçš„é¡ºåºè¿›è¡Œä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼ˆåœ¨ä¸Šå›¾ä¸­æ˜¯ä¸‹ã€å·¦ã€å³ã€ä¸Šçš„é¡ºåºï¼‰ï¼Œä¸€æ¬¡ç§»åŠ¨åä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼Œç„¶åä»¥æ–°çŠ¶æ€ä¸ºèµ·ç‚¹ç»§ç»­æŒ‰çº¦å®šçš„é¡ºåºï¼ˆä¾‹å¦‚å…ˆå‘ä¸‹ï¼‰ç§»åŠ¨ã€‚ç»ˆæ­¢çš„æ¡ä»¶æ˜¯æ‰¾åˆ°è§£æˆ–è€…è¾¾åˆ°æ·±åº¦ç•Œé™ã€‚é‚£ä¹ˆå¦‚æœæŒ‰ç…§å›¾ä¸­ä¸‹ã€å·¦ã€å³ã€ä¸Šçš„é¡ºåºæœç´¢åçš„ç»“æœå°†ä¼šæ˜¯æœ€å·¦è¾¹çš„ä¸€æ¡è·¯ä¸€ç›´æ˜¯ä¼˜å…ˆå‘ä¸‹ç§»åŠ¨ï¼Œå¦‚æœä¸èƒ½å‘ä¸‹åˆ™ä¾æ¬¡ä¼šæ˜¯å·¦ã€å³ã€ä¸Šçš„ä¸€ç§ã€‚</p><h3 id="å®éªŒä»£ç ">2.2å®éªŒä»£ç </h3><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    D_open.push(new borad(NULL, start, 0, INT_MAX - 1));    printf(&quot;DFSï¼š\n&quot;);    while (!D_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad *cur &#x3D; D_open.top();           D_open.pop();        &#x2F;&#x2F;if (cur-&gt;depth &#x3D;&#x3D; 5) &#123;        &#x2F;&#x2F;    break;        &#x2F;&#x2F;&#125;        &#x2F;&#x2F;ä¸ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (hn(cur-&gt;status, target) &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%d\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad *temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, INT_MAX - 1);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                D_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å®éªŒç»“æœ">2.3å®éªŒç»“æœ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204805.png" /></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ·±åº¦ä¼˜å…ˆç®—æ³•åœ¨è§£å†³å…«æ•°ç é—®é¢˜æ—¶æœ‰ä¸€ä¸ªè‡´å‘½ç¼ºç‚¹ï¼Œå°±æ˜¯å¿…é¡»è®¾ç½®ä¸€ä¸ªæ·±åº¦ç•Œé™ï¼Œå¦åˆ™ï¼Œæœç´¢ä¼šä¸€ç›´æ²¿ç€çºµæ·±æ–¹å‘å‘å±•ï¼Œä¼šä¸€ç›´æ— æ³•æœç´¢åˆ°è§£è·¯å¾„ã€‚å³ä½¿åŠ äº†é™åˆ¶æ¡ä»¶ï¼Œæœç´¢åˆ°äº†è§£è·¯å¾„ï¼Œè§£è·¯å¾„ä¹Ÿä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£è·¯å¾„ã€‚</p><h3 id="å®éªŒæ€»ç»“">2.4å®éªŒæ€»ç»“</h3><ul><li>ç¼ºç‚¹ï¼šå¦‚æœç›®æ ‡èŠ‚ç‚¹ä¸åœ¨æœç´¢è¿›å…¥çš„åˆ†æ”¯ä¸Šï¼Œè€Œè¯¥åˆ†æ”¯åˆæ˜¯ä¸€ä¸ªæ— ç©·åˆ†æ”¯,å°±å¾—ä¸åˆ°è§£,å› æ­¤è¯¥ç®—æ³•æ˜¯ä¸å®Œå¤‡çš„ã€‚</li><li>ä¼˜ç‚¹ï¼šå¦‚æœç›®æ ‡èŠ‚ç‚¹åœ¨æœç´¢è¿›å…¥çš„åˆ†æ”¯ä¸Šï¼Œåˆ™å¯ä»¥è¾ƒå¿«å¾—åˆ°è§£ã€‚</li></ul><h2 id="ä¸‰å¹¿åº¦ä¼˜å…ˆéå†æœç´¢bfs">ä¸‰ã€å¹¿åº¦ä¼˜å…ˆéå†æœç´¢(BFS)</h2><h3 id="ç®—æ³•ä»‹ç»-1">3.1ç®—æ³•ä»‹ç»</h3><p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</strong>ï¼ˆè‹±è¯­ï¼šBreadth-First-Searchï¼Œç¼©å†™ä¸ºBFSï¼‰ï¼Œåˆè¯‘ä½œå®½åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ–æ¨ªå‘ä¼˜å…ˆæœç´¢ï¼Œæ˜¯ä¸€ç§å›¾å½¢æœç´¢ç®—æ³•ã€‚ç®€å•çš„è¯´ï¼ŒBFSæ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘çš„å®½åº¦éå†æ ‘çš„èŠ‚ç‚¹ã€‚å¦‚æœæ‰€æœ‰èŠ‚ç‚¹å‡è¢«è®¿é—®ï¼Œåˆ™ç®—æ³•ä¸­æ­¢ã€‚BFSæ˜¯ä¸€ç§ç›²ç›®æœç´¢æ³•ï¼Œç›®çš„æ˜¯ç³»ç»Ÿåœ°å±•å¼€å¹¶æ£€æŸ¥å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä»¥æ‰¾å¯»ç»“æœã€‚</p><p>BFSä¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹ï¼Œç„¶åå†ä¾æ¬¡è®¿é—®é‚»å±…èŠ‚ç‚¹çš„é‚»å±…èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è®¿é—®å®Œæ¯•ã€‚åœ¨å…·ä½“çš„å®ç°ä¸­ï¼Œä½¿ç”¨openå’Œclosedä¸¤ä¸ªè¡¨ï¼Œopenæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡å¯¹openè¿›è¡Œä¸€æ¬¡å‡ºé˜Ÿæ“ä½œï¼ˆå¹¶æ”¾å…¥closedä¸­ï¼‰ï¼Œå¹¶å°†å…¶é‚»å±…èŠ‚ç‚¹è¿›è¡Œå…¥é˜Ÿæ“ä½œã€‚ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæ—¶å³å®Œæˆäº†æ‰€æœ‰èŠ‚ç‚¹çš„éå†ã€‚closedè¡¨åœ¨éå†æ ‘æ—¶å…¶å®æ²¡æœ‰ç”¨ï¼Œå› ä¸ºå­èŠ‚ç‚¹åªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°è¾¾ã€‚ä½†åœ¨è¿›è¡Œå›¾çš„éå†æ—¶ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¼šç”±å¤šä¸ªèŠ‚ç‚¹åˆ°è¾¾ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸ºäº†é˜²æ­¢é‡å¤éå†åº”è¯¥æ¯æ¬¡éƒ½æ£€æŸ¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦å·²ç»åœ¨closedä¸­äº†ã€‚ä¾æ—§ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼ŒBFSæ–¹æ³•é¦–å…ˆä»æ ¹èŠ‚ç‚¹1å¼€å§‹ï¼Œå…¶æœ€ç»ˆå¾—åˆ°çš„éå†é¡ºåºæ˜¯â€œ1-2-7-8-3-6-9-12-4-5-10-11â€ã€‚å¯ä»¥çœ‹å‡ºæ¥BFSè¿›è¡Œéå†æ—¶æ˜¯ä¸€å±‚ä¸€å±‚çš„æœç´¢çš„ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204640.png" /></p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204722.png" /></p><p>åœ¨åº”ç”¨BFSç®—æ³•è¿›è¡Œå…«æ•°ç é—®é¢˜æœç´¢æ—¶éœ€è¦openå’Œclosedä¸¤ä¸ªè¡¨ã€‚é¦–å…ˆå°†åˆå§‹çŠ¶æ€åŠ å…¥opené˜Ÿåˆ—ï¼Œç„¶åè¿›è¡Œå‡ºé˜Ÿæ“ä½œå¹¶æ”¾å…¥closedä¸­ï¼Œå¯¹å‡ºé˜Ÿçš„çŠ¶æ€è¿›è¡Œæ‰©å±•ï¼ˆæ‰€è°“æ‰©å±•ä¹Ÿå°±æ˜¯æ‰¾å‡ºå…¶ä¸Šä¸‹å·¦å³ç§»åŠ¨åçš„çŠ¶æ€ï¼‰ï¼Œå°†æ‰©å±•å‡ºçš„çŠ¶æ€åŠ å…¥é˜Ÿåˆ—ï¼Œç„¶åç»§ç»­å¾ªç¯å‡ºé˜Ÿ-æ‰©å±•-å…¥é˜Ÿçš„æ“ä½œï¼Œç›´åˆ°æ‰¾åˆ°è§£ä¸ºæ­¢ã€‚åœ¨ä¸Šå›¾è¿™ä¸ªä¾‹å­ä¸­ï¼Œçº¢åœˆé‡Œçš„æ•°å­—æ˜¯éå†é¡ºåºã€‚å½“æ‰¾åˆ°è§£æ—¶ä¸€ç›´å¾€å‰æ‰¾çˆ¶èŠ‚ç‚¹å³å¯æ‰¾å‡ºæ±‚è§£çš„ç§»åŠ¨è·¯çº¿ã€‚</p><h3 id="å®éªŒä»£ç -1">3.2å®éªŒä»£ç </h3><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    B_open.push(new borad(NULL, start, 0, INT_MAX - 1));    printf(&quot;BFSï¼š\n&quot;);    while (!B_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad* cur &#x3D; B_open.front();        B_open.pop();        &#x2F;&#x2F;ä¸ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (hn(cur-&gt;status, target) &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%d\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad* temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, INT_MAX - 1);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                B_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;    &#x2F;&#x2F;æ¸…ç©ºcloseè¡¨    close.clear();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å®éªŒç»“æœ-1">3.3å®éªŒç»“æœ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204754.png" /></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå¹¿åº¦ä¼˜å…ˆç®—æ³•æˆåŠŸæ‰¾åˆ°äº†æ·±åº¦ä¸º22çš„æœ€ä¼˜è§£ï¼Œä½†æ˜¯closeè¡¨æ˜¯DFSä¸­æ·±åº¦46312äº§ç”Ÿçš„å¤§å°ä¸º47788çš„closeè¡¨çš„ä¸¤å€å¤šï¼Œç”±äºğµğ¹ğ‘†ç®—æ³•è¿›è¡Œçš„æ˜¯ç›²ç›®çš„æœç´¢ï¼Œæ²¡æœ‰è€ƒè™‘ä»£ä»·ï¼Œè€Œä¸”åˆ©ç”¨äº†ç©ºé—´æ¢å–æ—¶é—´çš„ç­–ç•¥ï¼Œæ•…ç©ºé—´ä¹Ÿç›¸å¯¹ä¼šæœ‰æ›´å¤§çš„å¤æ‚åº¦ã€‚</p><h3 id="å®éªŒæ€»ç»“-1">3.4å®éªŒæ€»ç»“</h3><ul><li>ç¼ºç‚¹ï¼šå½“ç›®æ ‡èŠ‚ç‚¹è·ç¦»åˆå§‹èŠ‚ç‚¹è¾ƒè¿œæ—¶ä¼šäº§ç”Ÿè®¸å¤šæ— ç”¨çš„èŠ‚ç‚¹ï¼Œæœç´¢æ•ˆç‡ä½ï¼Œåªèƒ½é€‚ç”¨äºåˆ°è¾¾ç›®æ ‡ç»“ç‚¹æ­¥æ•°è¾ƒå°‘çš„æƒ…å†µã€‚</li><li>ä¼˜ç‚¹ï¼šåªè¦é—®é¢˜æœ‰è§£ï¼Œåˆ™æ€»å¯ä»¥å¾—åˆ°è§£ï¼Œè€Œä¸”æ˜¯æœ€çŸ­è·¯å¾„çš„è§£ã€‚</li></ul><h2 id="å››aç®—æ³•å®ç°å…«æ•°ç é—®é¢˜">å››ã€A*ç®—æ³•å®ç°å…«æ•°ç é—®é¢˜</h2><h3 id="ç®—æ³•ä»‹ç»-2">4.1ç®—æ³•ä»‹ç»</h3><p>**A*æœç´¢ç®—æ³•**ï¼ˆA* searchalgorithmï¼‰æ˜¯ä¸€ç§åœ¨å›¾å½¢å¹³é¢ä¸Šï¼Œæœ‰å¤šä¸ªèŠ‚ç‚¹çš„è·¯å¾„ï¼Œæ±‚å‡ºæœ€ä½é€šè¿‡æˆæœ¬çš„ç®—æ³•ï¼Œä¹Ÿæ˜¯è®¸å¤šå…¶ä»–é—®é¢˜çš„å¸¸ç”¨å¯å‘å¼ç®—æ³•ã€‚è¯¥ç®—æ³•ç»¼åˆäº†æœ€è‰¯ä¼˜å…ˆæœç´¢å’ŒDijkstraç®—æ³•çš„ä¼˜ç‚¹ï¼šåœ¨è¿›è¡Œå¯å‘å¼æœç´¢æé«˜ç®—æ³•æ•ˆç‡çš„åŒæ—¶ï¼Œå¯ä»¥ä¿è¯æ‰¾åˆ°ä¸€æ¡æœ€ä¼˜è·¯å¾„ï¼ˆåŸºäºè¯„ä¼°å‡½æ•°ï¼‰ã€‚</p><p>åœ¨A*ç®—æ³•ä¸­ï¼Œä¸€ä¸ªç»“ç‚¹ä½ç½®çš„å¥½åç”¨ä¼°ä»·å‡½æ•°æ¥å¯¹å®ƒè¿›è¡Œè¯„ä¼°ï¼š</p><p><span class="math display">\[f{}&#39;\left ( n \right )=g{}&#39;\left ( n \right )+h{}&#39;\left ( n\right )\]</span></p><p>è¿™é‡Œï¼Œf'(n)æ˜¯ä¼°ä»·å‡½æ•°ï¼Œg'(n)æ˜¯èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„å€¼(ä¹Ÿç§°ä¸ºæœ€å°è€—è´¹æˆ–æœ€å°ä»£ä»·)ï¼Œh'(n)æ˜¯nåˆ°ç›®æ ‡çš„æœ€çŸ­è·¯ç»çš„å¯å‘å€¼ã€‚ç”±äºè¿™ä¸ªf'(n)å…¶å®æ˜¯æ— æ³•é¢„å…ˆçŸ¥é“çš„ï¼Œå› è€Œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯å¦‚ä¸‹ä¼°ä»·å‡½æ•°ï¼š</p><p><span class="math display">\[f\left ( n \right )=g\left ( n \right )+h\left ( n \right )\]</span></p><p>è¿™ä¸ªå…¬å¼éµå¾ªä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>å¦‚æœg(n)ä¸º0ï¼Œå³åªè®¡ç®—ä»»æ„é¡¶ç‚¹nåˆ°ç›®æ ‡çš„è¯„ä¼°å‡½æ•°h(n)ï¼Œè€Œä¸è®¡ç®—èµ·ç‚¹åˆ°é¡¶ç‚¹nçš„è·ç¦»ï¼Œåˆ™ç®—æ³•è½¬åŒ–ä¸ºä½¿ç”¨è´ªå¿ƒç­–ç•¥çš„æœ€è‰¯ä¼˜å…ˆæœç´¢ï¼Œé€Ÿåº¦æœ€å¿«ï¼Œä½†å¯èƒ½å¾—ä¸å‡ºæœ€ä¼˜è§£ï¼›</li><li>å¦‚æœh(n)ä¸å¤§äºé¡¶ç‚¹nåˆ°ç›®æ ‡é¡¶ç‚¹çš„å®é™…è·ç¦»ï¼Œåˆ™ä¸€å®šå¯ä»¥æ±‚å‡ºæœ€ä¼˜è§£ï¼Œè€Œä¸”h(n)è¶Šå°ï¼Œéœ€è¦è®¡ç®—çš„èŠ‚ç‚¹è¶Šå¤šï¼Œç®—æ³•æ•ˆç‡è¶Šä½ï¼Œå¸¸è§çš„è¯„ä¼°å‡½æ•°æœ‰â€”â€”æ¬§å‡ é‡Œå¾—è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ã€åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼›</li><li>å¦‚æœh(n)ä¸º0ï¼Œå³åªéœ€æ±‚å‡ºèµ·ç‚¹åˆ°ä»»æ„é¡¶ç‚¹nçš„æœ€çŸ­è·¯å¾„g(n)ï¼Œè€Œä¸è®¡ç®—ä»»ä½•è¯„ä¼°å‡½æ•°h(n)ï¼Œåˆ™è½¬åŒ–ä¸ºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå³Dijkstraç®—æ³•ï¼Œæ­¤æ—¶éœ€è¦è®¡ç®—æœ€å¤šçš„é¡¶ç‚¹ï¼›</li></ul><p>å…¶ä¸­ï¼Œg(n)æ˜¯ä»åˆå§‹ç»“ç‚¹åˆ°èŠ‚ç‚¹nçš„å®é™…ä»£ä»·ï¼Œh(n)æ˜¯ä»ç»“ç‚¹nåˆ°ç›®æ ‡ç»“ç‚¹çš„æœ€ä½³è·¯å¾„çš„ä¼°è®¡ä»£ä»·ã€‚åœ¨è¿™é‡Œä¸»è¦æ˜¯h(n)ä½“ç°äº†æœç´¢çš„å¯å‘ä¿¡æ¯ï¼Œå› ä¸ºg(n)æ˜¯å·²çŸ¥çš„ã€‚ç”¨f(n)ä½œä¸ºf'(n)çš„è¿‘ä¼¼ï¼Œä¹Ÿå³ç”¨g(n)ä»£æ›¿g'(n)ï¼Œh(n)ä»£æ›¿h'(n)ã€‚è¿™æ ·å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol type="1"><li>g(n)â‰¥g'(n)(å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯æ»¡è¶³çš„ï¼Œå¯ä»¥ä¸ç”¨è€ƒè™‘)ï¼Œä¸”få¿…é¡»ä¿æŒå•è°ƒé€’å¢ï¼›</li><li>hå¿…é¡»å°äºç­‰äºå®é™…çš„ä»å½“å‰èŠ‚ç‚¹åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹çš„æœ€å°è€—è´¹h(n)â‰¤h'(n)ã€‚ï¼ˆå¯ä»¥è¯æ˜åº”ç”¨è¿™æ ·çš„ä¼°ä»·å‡½æ•°å¯ä»¥æ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼‰</li></ol><h3 id="å®éªŒä»£ç -2">4.2å®éªŒä»£ç </h3><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    printf(&quot;A* Fn&#x3D;Gn+Hnï¼š\n&quot;);    while (!A_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad* cur &#x3D; A_open.top();        A_open.pop();        &#x2F;&#x2F;hn&#x3D;Fn-depthä¸ºä¸ç›®æ ‡çŠ¶æ€çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (cur-&gt;Fn - cur-&gt;depth &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%d\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad* temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, 0);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                &#x2F;&#x2F;è®¡ç®—å¯å‘å‡½æ•°å€¼ï¼Œå¹¶æ›´æ–°èŠ‚ç‚¹                temp-&gt;Fn &#x3D; temp-&gt;depth + hn(temp-&gt;status, target);                &#x2F;&#x2F;åŠ å…¥A_openè¡¨                A_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;    &#x2F;&#x2F;æ¸…ç©ºcloseè¡¨    close.clear();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å®éªŒç»“æœ-2">4.3å®éªŒç»“æœ</h3><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204738.png" /></p><p>å¦‚å›¾æ‰€ç¤ºï¼ŒA*æœç´¢ç®—æ³•åœ¨è§£å†³å…«æ•°ç é—®é¢˜æ—¶å–å¾—äº†æœ€ä¼˜çš„ç»“æœï¼Œæ— è®ºæ˜¯æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ç©ºé—´å¤æ‚åº¦éƒ½å¾—åˆ°äº†æå¤§çš„ä¼˜åŒ–ã€‚ä½†æ˜¯ğ´âˆ—ç®—æ³•ä½œä¸ºä¸€ç§é¢„æµ‹ç®—æ³•ï¼Œä¸èƒ½ä¿è¯è§£ä¸ºæœ€ä¼˜è§£ã€‚</p><h3 id="å®éªŒæ€»ç»“-2">4.4å®éªŒæ€»ç»“</h3><ul><li>ä¼˜ç‚¹ï¼šA*ç®—æ³•åœ¨ç»å¤§å¤šæ•°çš„æƒ…å†µä¸‹ï¼Œåœ¨æ€§èƒ½æ–¹é¢éƒ½è¿œè¿œä¼˜ä¸DFSå’ŒBFSã€‚ç®—æ³•çš„ä¸»è¦è¿è¡Œæ€§èƒ½ï¼Œå–å†³äºä¼°ä»·å‡½æ•°fçš„é€‰å–ã€‚</li><li>ç¼ºç‚¹ï¼šç”±äºç®—æ³•æœ¬èº«çš„ç‰¹ç‚¹ï¼Œå› æ­¤æ ¹æ®ä¼°ä»·å‡½æ•°æ‰¾åˆ°çš„è§£è·¯å¾„ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£è·¯å¾„ã€‚</li></ul><h2 id="äº”æ•ˆç‡æ¯”è¾ƒåŠä¼˜ç¼ºç‚¹">äº”ã€æ•ˆç‡æ¯”è¾ƒåŠä¼˜ç¼ºç‚¹</h2><h3 id="æ¦‚å¿µ">5.1æ¦‚å¿µ</h3><p>é¦–å…ˆç»™å‡ºå‡ ä¸ªç”¨æ¥è¿›è¡Œæ•ˆç‡æ¯”ä»·çš„å˜é‡ï¼š</p><ol type="1"><li><p>æ·±åº¦(D)ï¼šä»åˆå§‹èŠ‚ç‚¹åˆ°è¾¾ç›®æ ‡çš„è·¯å¾„æ·±åº¦ï¼›</p></li><li><p>æ—¶é—´(T)ï¼šæœç´¢ç¨‹åºè¿è¡Œçš„æ—¶é—´,å•ä½æ¯«ç§’(ms)ï¼›</p></li><li><p>çŠ¶æ€æ•°(N)ï¼šæ•´ä¸ªè¿‡ç¨‹ä¸­ç”Ÿæˆçš„çŠ¶æ€æ€»æ•°ï¼›</p></li><li><p>å¤–æ˜¾ç‡(P)ï¼šæœç´¢å·¥ç¨‹ä¸­,ä»åˆå§‹èŠ‚ç‚¹å‘ç›®æ ‡èŠ‚ç‚¹è¿›è¡Œæœç´¢çš„åŒºåŸŸçš„å®½åº¦ã€‚</p><p>å…¶ä¸­æ—¶é—´ä½¿ç”¨Cæ ‡å‡†åº“å‡½æ•° clock_t clock(void)è®¡ç®—è·å¾—ï¼Œè¿”å›ä¸‰ä¸ªç®—æ³•ç¨‹åºæ‰§è¡Œèµ·ï¼Œå¤„ç†å™¨æ—¶é’Ÿæ‰€ä½¿ç”¨çš„æ—¶é—´ã€‚ä¸ºäº†è·å– CPUæ‰€ä½¿ç”¨çš„ç§’æ•°ï¼Œå¿…é¡»é™¤ä»¥CLOCKS_PER_SECã€‚è€Œå¤–æ˜¾ç‡å®šä¹‰ä¸ºä»¥ä¸‹å…¬å¼è®¡ç®—è·å¾—ï¼š</p><p><span class="math display">\[P=\frac{D}{N},P\in \left( 0,1\right]\]</span></p></li></ol><h3 id="å®éªŒæ•°æ®åˆ†æ">5.2 å®éªŒæ•°æ®åˆ†æ</h3><p>æ•°æ®è¯´æ˜ï¼š</p><ol type="1"><li>ç¯å¢ƒä¸ºWindowsç³»ç»Ÿï¼Œè¯­è¨€ä¸ºC++ï¼Œä½¿ç”¨clock()å‡½æ•°è¾“å‡ºç®—æ³•æ—¶é—´ï¼›</li><li>ç›®æ ‡çŠ¶æ€1 2 3 4 5 6 7 8 0ï¼›</li><li>ç”±äºè¿è¡Œæ—¶é—´å—ç”µè„‘å½±å“å¾ˆå¤§ï¼Œå…·æœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œå› è€Œæ¯ä¸ªçŠ¶æ€æ‰§è¡Œ3æ¬¡,å–å¹³å‡æ•°ä½œä¸ºæœ€ç»ˆç»“æœæ—¶é—´ã€‚</li></ol><p>ä»¥ä¸‹ä¸ºé¢˜ç›®æ‰€ç»™åˆå§‹çŠ¶æ€äº§ç”Ÿçš„æ•°æ®ï¼š</p><table><thead><tr class="header"><th></th><th>æ·±åº¦D</th><th>æ—¶é—´T</th><th>çŠ¶æ€æ•°N</th><th>å¤–æ˜¾ç‡P</th></tr></thead><tbody><tr class="odd"><td>DFS</td><td>46312</td><td>0.295000</td><td>47788</td><td>0.969113</td></tr><tr class="even"><td>BFS</td><td>22</td><td>0.793000</td><td>102868</td><td>0.000213</td></tr><tr class="odd"><td>A*</td><td>22</td><td>0.005000</td><td>503</td><td>0.043737</td></tr></tbody></table><p>ä»¥ä¸‹ä¸ºéšæœºåˆå§‹çŠ¶æ€äº§ç”Ÿçš„æ•°æ®ï¼š</p><table><thead><tr class="header"><th>çŠ¶æ€æ•°N</th><th>DFS</th><th>BFS</th><th>A*</th></tr></thead><tbody><tr class="odd"><td>1</td><td>37809</td><td>60897</td><td>1114</td></tr><tr class="even"><td>2</td><td>13571</td><td>129921</td><td>1289</td></tr><tr class="odd"><td>3</td><td>39006</td><td>36948</td><td>926</td></tr><tr class="even"><td>4</td><td>56982</td><td>38459</td><td>182</td></tr><tr class="odd"><td>5</td><td>101524</td><td>23754</td><td>610</td></tr><tr class="even"><td>6</td><td>62529</td><td>85828</td><td>1175</td></tr><tr class="odd"><td>7</td><td>119230</td><td>43684</td><td>750</td></tr><tr class="even"><td>8</td><td>72091</td><td>129811</td><td>2492</td></tr><tr class="odd"><td>9</td><td>68716</td><td>40819</td><td>393</td></tr><tr class="even"><td>10</td><td>128887</td><td>159858</td><td>6852</td></tr></tbody></table><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204834.png" /></p><table><thead><tr class="header"><th>æ·±åº¦D</th><th>DFS</th><th>BFS</th><th>A*</th></tr></thead><tbody><tr class="odd"><td>1</td><td>36756</td><td>20</td><td>20</td></tr><tr class="even"><td>2</td><td>13268</td><td>24</td><td>24</td></tr><tr class="odd"><td>3</td><td>37943</td><td>19</td><td>19</td></tr><tr class="even"><td>4</td><td>55007</td><td>19</td><td>19</td></tr><tr class="odd"><td>5</td><td>95102</td><td>18</td><td>20</td></tr><tr class="even"><td>6</td><td>60172</td><td>22</td><td>22</td></tr><tr class="odd"><td>7</td><td>108378</td><td>20</td><td>20</td></tr><tr class="even"><td>8</td><td>69118</td><td>24</td><td>24</td></tr><tr class="odd"><td>9</td><td>66096</td><td>20</td><td>20</td></tr><tr class="even"><td>10</td><td>113307</td><td>25</td><td>27</td></tr></tbody></table><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204843.png" /></p><table><thead><tr class="header"><th>æ—¶é—´T</th><th>DFS</th><th>BFS</th><th>A*</th></tr></thead><tbody><tr class="odd"><td>1</td><td>0.226</td><td>0.444</td><td>0.011</td></tr><tr class="even"><td>2</td><td>0.079</td><td>1.026</td><td>0.012</td></tr><tr class="odd"><td>3</td><td>0.231</td><td>0.277</td><td>0.01</td></tr><tr class="even"><td>4</td><td>0.347</td><td>0.291</td><td>0.002</td></tr><tr class="odd"><td>5</td><td>0.675</td><td>0.176</td><td>0.006</td></tr><tr class="even"><td>6</td><td>0.372</td><td>0.665</td><td>0.011</td></tr><tr class="odd"><td>7</td><td>0.749</td><td>0.321</td><td>0.007</td></tr><tr class="even"><td>8</td><td>0.429</td><td>0.997</td><td>0.024</td></tr><tr class="odd"><td>9</td><td>0.439</td><td>0.302</td><td>0.003</td></tr><tr class="even"><td>10</td><td>0.796</td><td>1.367</td><td>0.068</td></tr></tbody></table><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204853.png" /></p><table><thead><tr class="header"><th>å¤–æ˜¾ç‡P</th><th>DFS</th><th>BFS</th><th>A*</th></tr></thead><tbody><tr class="odd"><td>1</td><td>0.000972</td><td>0.000328</td><td>0.017953</td></tr><tr class="even"><td>2</td><td>0.000978</td><td>0.000185</td><td>0.018619</td></tr><tr class="odd"><td>3</td><td>0.000973</td><td>0.000514</td><td>0.020518</td></tr><tr class="even"><td>4</td><td>0.000965</td><td>0.000494</td><td>0.104396</td></tr><tr class="odd"><td>5</td><td>0.000937</td><td>0.000758</td><td>0.032787</td></tr><tr class="even"><td>6</td><td>0.000962</td><td>0.000256</td><td>0.018723</td></tr><tr class="odd"><td>7</td><td>0.000909</td><td>0.000458</td><td>0.026667</td></tr><tr class="even"><td>8</td><td>0.000959</td><td>0.000185</td><td>0.009631</td></tr><tr class="odd"><td>9</td><td>0.000962</td><td>0.00049</td><td>0.050891</td></tr><tr class="even"><td>10</td><td>0.000879</td><td>0.000156</td><td>0.00394</td></tr></tbody></table><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20211020204901.png" /></p><h3 id="ç ”ç©¶ç»“è®º">5.3ç ”ç©¶ç»“è®º</h3><p>é€šè¿‡ç ”ç©¶ï¼Œå¯å¾—ç»“è®ºå¦‚ä¸‹ï¼š</p><ol type="1"><li>DFSæœç´¢æ•ˆç‡å—æ·±åº¦å½±å“å¾ˆå¤§ï¼Œç”±äºæ·±åº¦ç•Œé™è®¾ç½®å¾—å¾ˆå¤§ï¼Œæ•…æœç´¢ç»“ç‚¹å†—ä½™å¤šã€é€Ÿåº¦æ…¢ï¼›</li><li>BFSæ‰¾åˆ°çš„ä¸€å®šæ˜¯æœ€ä¼˜è§£ï¼Œä½†æ˜¯åœ¨ç®—æ³•æ•ˆç‡ä¸Šï¼Œä¸ä¸€å®šæ¯”DFSå¥½ï¼Œä¸”è¿œè¿œä¸å¦‚A*ç®—æ³•ï¼ŒåŒæ—¶BFSåœ¨æœç´¢æ·±åº¦è¾ƒæ·±æ—¶ï¼Œäº§ç”Ÿçš„å†—ä½™ç»“ç‚¹è¾ƒå¤šï¼›</li><li>A*ç®—æ³•åœ¨æ•ˆç‡ä¸Šç›¸å¯¹æœ€ä¼˜ï¼Œæ—¶é—´å’Œç©ºé—´ä¸Šéƒ½æ¯”DFSå’ŒBFSæ›´ä¼˜ï¼Œä½†ç¼ºç‚¹æ˜¯ï¼Œæ‰¾åˆ°çš„è§£ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£ã€‚</li></ol><h2 id="å…­å‚è€ƒæ–‡çŒ®">å…­ã€å‚è€ƒæ–‡çŒ®</h2><p>[1]ä»˜å®æ°,ç‹é›ªè¹,å‘¨å¥,å‘¨å­™é™,æœ±ç ,å¼ ä¿Šä½™.å…«æ•°ç é—®é¢˜è§£æ³•æ•ˆç‡æ¯”è¾ƒåŠæ”¹è¿›ç ”ç©¶[J].è½¯ä»¶å¯¼åˆŠ,2016,15(09):41-45.</p><p>[2]StuartJ.Russell,PeterNorvig. äººå·¥æ™ºèƒ½:ä¸€ç§ç°ä»£çš„æ–¹æ³•(ç¬¬3ç‰ˆ)[J].è®¡ç®—æœºæ•™è‚², 2011(15):68-68.</p><p>[3]Thomas,H.Cormen,Charles,E.Leiserson,Ronald,L.Rivest,Clifford,Stein,æ®·å»ºå¹³,å¾äº‘,ç‹åˆš,åˆ˜æ™“å…‰,è‹æ˜,é‚¹æ’æ˜,ç‹å®å¿—.ç®—æ³•å¯¼è®º(åŸä¹¦ç¬¬3ç‰ˆ)[J]. è®¡ç®—æœºæ•™è‚²(10æœŸ):51-51.</p><h2 id="ä¸ƒå®Œæ•´ä»£ç ">ä¸ƒã€å®Œæ•´ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;stack&gt;#include &lt;unordered_set&gt;#include &lt;unordered_map&gt;#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;cstdlib&gt;#include &lt;ctime&gt;#include &lt;time.h&gt;#include &lt;math.h&gt;#include &lt;climits&gt;using namespace std;struct borad &#123;    int status[9];&#x2F;&#x2F;status[0]åˆ°status[8]è¡¨ç¤º3X3çš„çŸ©é˜µï¼Œ0è¡¨ç¤ºç©ºæ ¼    int depth;&#x2F;&#x2F;æ·±åº¦    int Fn;&#x2F;&#x2F;å¯å‘å‡½æ•°å€¼ï¼ŒFn &#x3D; depth + hnå³æ·±åº¦åŠ æ›¼å“ˆé¡¿è·ç¦»    borad* pre;&#x2F;&#x2F;çˆ¶æŒ‡é’ˆï¼ŒæŒ‡å‘ç§»åŠ¨å‰çš„æ£‹ç›˜çŠ¶æ€    borad() : pre(0), status(), depth(0), Fn(INT_MAX - 1) &#123;        for (int j &#x3D; 0; j &lt; 9; j++) &#123;            status[j] &#x3D; j;        &#125;    &#125;    borad(borad* x, int i[9], int y, int z) : pre(x), depth(y), Fn(z) &#123;        for (int j &#x3D; 0; j &lt; 9; j++) &#123;            status[j] &#x3D; i[j];        &#125;    &#125;&#125;;&#x2F;&#x2F;ä¼˜å…ˆé˜Ÿåˆ—è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼Œå‡åºstruct cmp &#123;    bool operator() (const borad* a, const borad* b) &#123;        return a-&gt;Fn &gt; b-&gt;Fn;    &#125;&#125;;bool swapnum(int a, int b, int* status);&#x2F;&#x2F;äº¤æ¢å…ƒç´ int getindex(int* status, int num);&#x2F;&#x2F;è·å¾—å…ƒç´ åœ¨æ£‹ç›˜ä¸Šçš„ä¸€ç»´åæ ‡void print(int* status);&#x2F;&#x2F;æ‰“å°æ£‹ç›˜int hn(int* status, int* target);&#x2F;&#x2F;å½“å‰çŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€çš„æ›¼å“ˆé¡¿è·ç¦»void printans(borad* cur);&#x2F;&#x2F;æ‰“å°è§£æ³•ï¼Œå›æº¯int status2int(int* status);&#x2F;&#x2F;æ£‹ç›˜çŠ¶æ€è½¬ä¸ºintæ ¼å¼int reversesum(int* status);&#x2F;&#x2F;è®¡ç®—é€†åºæ•°ä¹‹å’Œint* randstatus(int* target);&#x2F;&#x2F;è·å¾—éšæœºåˆå§‹çŠ¶æ€int main() &#123;    clock_t start_t, end_t;    double total_t;    int go[4] &#x3D; &#123; -1,1,-3,3 &#125;;&#x2F;&#x2F;å››ä¸ªç§»åŠ¨æ–¹å‘    int start[9] &#x3D; &#123; 1,8,7,3,0,5,4,6,2 &#125;;&#x2F;&#x2F;åˆå§‹çŠ¶æ€    int target[9] &#x3D; &#123; 1,2,3,4,5,6,7,8,0 &#125;;&#x2F;&#x2F;ç›®æ ‡çŠ¶æ€    &#x2F;&#x2F;int* start;&#x2F;&#x2F;éšæœºåˆå§‹çŠ¶æ€    &#x2F;&#x2F;ç”Ÿæˆéšæœºåˆå§‹çŠ¶æ€    &#x2F;&#x2F;start &#x3D; randstatus(target);    stack&lt;borad*&gt; D_open;&#x2F;&#x2F;DFSçš„openè¡¨ï¼Œä½¿ç”¨æ ˆï¼Œæ·±åº¦å¤§çš„åœ¨è¡¨å¤´    queue&lt;borad*&gt; B_open;&#x2F;&#x2F;BFSçš„openè¡¨ï¼Œä½¿ç”¨é˜Ÿåˆ—ï¼Œæ·±åº¦å°çš„åœ¨è¡¨å¤´    priority_queue&lt;borad*, vector&lt;borad*&gt;, cmp&gt; A_open;&#x2F;&#x2F;A*çš„openè¡¨ï¼Œä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¯å‘å‡½æ•°å€¼å°çš„å…ƒç´ åœ¨è¡¨å¤´    unordered_set&lt;int&gt; close;&#x2F;&#x2F;closeè¡¨ï¼Œå­˜æ”¾å·²è®¿é—®è¿‡çš„çŠ¶æ€ï¼Œå…ƒç´ ä¸ºçŠ¶æ€çš„intæ ¼å¼    &#x2F;&#x2F;ä¾‹ï¼š&#123; 1,2,3,8,0,4,7,6,5 &#125;&#x3D;&#x3D;ã€‹123804765(int)    &#x2F;&#x2F;&#123; 0,1,3,8,2,4,7,6,5 &#125;&#x3D;&#x3D;ã€‹13824765(int)    A_open.push(new borad(NULL, start, 0, INT_MAX - 1));    borad* temp &#x3D; A_open.top();    printf(&quot;åˆå§‹çŠ¶æ€ï¼š&quot;);    print(temp-&gt;status);    printf(&quot;ç›®æ ‡çŠ¶æ€ï¼š&quot;);    print(target);    start_t &#x3D; clock();    &#x2F;&#x2F;--------------------------------------------start-A*-------- Fn&#x3D;Gn+Hn -----------------------------&#x2F;&#x2F;    &#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    printf(&quot;A* Fn&#x3D;Gn+Hnï¼š\n&quot;);    while (!A_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad* cur &#x3D; A_open.top();        A_open.pop();        &#x2F;&#x2F;hn&#x3D;Fn-depthä¸ºä¸ç›®æ ‡çŠ¶æ€çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (cur-&gt;Fn - cur-&gt;depth &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%ld\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad* temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, 0);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                &#x2F;&#x2F;è®¡ç®—å¯å‘å‡½æ•°å€¼ï¼Œå¹¶æ›´æ–°èŠ‚ç‚¹                temp-&gt;Fn &#x3D; temp-&gt;depth + hn(temp-&gt;status, target);                &#x2F;&#x2F;åŠ å…¥A_openè¡¨                A_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;    &#x2F;&#x2F;æ¸…ç©ºcloseè¡¨    close.clear();    &#x2F;&#x2F;--------------------------------------------end-A*--------- Fn&#x3D;Gn+Hn -------------------------&#x2F;&#x2F;    end_t &#x3D; clock();    &#x2F;&#x2F;æ¸…ç©ºA_open    while (!A_open.empty()) &#123;        A_open.pop();    &#125;    total_t &#x3D; ((double)end_t - (double)start_t) &#x2F; CLOCKS_PER_SEC;    printf(&quot;æ€»æ—¶é—´ï¼š%f\n\n\n&quot;, total_t);    start_t &#x3D; clock();    &#x2F;&#x2F;--------------------------------------------start-BFS------------------------------------------&#x2F;&#x2F;    &#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    B_open.push(new borad(NULL, start, 0, INT_MAX - 1));    printf(&quot;BFSï¼š\n&quot;);    while (!B_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad* cur &#x3D; B_open.front();        B_open.pop();        &#x2F;&#x2F;ä¸ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (hn(cur-&gt;status, target) &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%ld\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad* temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, INT_MAX - 1);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                B_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;    &#x2F;&#x2F;æ¸…ç©ºcloseè¡¨    close.clear();    &#x2F;&#x2F;--------------------------------------------end-BFS------------------------------------------&#x2F;&#x2F;    end_t &#x3D; clock();    total_t &#x3D; ((double)end_t - (double)start_t) &#x2F; CLOCKS_PER_SEC;    printf(&quot;æ€»æ—¶é—´ï¼š%f\n\n\n&quot;, total_t);    start_t &#x3D; clock();    &#x2F;&#x2F;--------------------------------------------start-DFS------------------------------------------&#x2F;&#x2F;    &#x2F;&#x2F;åˆå§‹çŠ¶æ€å‹å…¥é˜Ÿåˆ—    D_open.push(new borad(NULL, start, 0, INT_MAX - 1));    printf(&quot;DFSï¼š\n&quot;);    while (!D_open.empty()) &#123;        &#x2F;&#x2F;å¼¹å‡ºä¸€ä¸ªçŠ¶æ€        borad* cur &#x3D; D_open.top();        D_open.pop();        &#x2F;&#x2F;if (cur-&gt;depth &#x3D;&#x3D; 5) &#123;        &#x2F;&#x2F;    break;        &#x2F;&#x2F;&#125;        &#x2F;&#x2F;ä¸ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œä¸º0å³åˆ°è¾¾ç›®æ ‡çŠ¶æ€        if (hn(cur-&gt;status, target) &#x3D;&#x3D; 0) &#123;            printf(&quot;åˆ°è¾¾ç›®æ ‡çŠ¶æ€\ncloseè¡¨å¤§å°ä¸º%ld\nç›®æ ‡çŠ¶æ€æ·±åº¦ä¸º%d\n&quot;, close.size(), cur-&gt;depth);            &#x2F;&#x2F;printans(cur);            break;        &#125;        &#x2F;&#x2F;å­˜æ”¾intæ ¼å¼çš„çŠ¶æ€        int intstatus &#x3D; status2int(cur-&gt;status);        &#x2F;&#x2F;å‡ºç°é‡å¤çŠ¶æ€        if (close.count(intstatus)) &#123;            continue;        &#125;        &#x2F;&#x2F;åŠ å…¥closeè¡¨ï¼Œè¡¨ç¤ºå·²è®¿é—®è¿‡        close.insert(intstatus);        &#x2F;&#x2F;è·å¾—0çš„åæ ‡        int zeroindex &#x3D; getindex(cur-&gt;status, 0);        for (int i &#x3D; 0; i &lt; 4; i++) &#123;            &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ï¼Œå¤åˆ¶å½“å‰æ£‹ç›˜çŠ¶æ€ï¼Œæ·±åº¦+1            borad* temp &#x3D; new borad(cur, cur-&gt;status, cur-&gt;depth + 1, INT_MAX - 1);            &#x2F;&#x2F;0å‘å››ä¸ªæ–¹å‘ç§»åŠ¨            if (swapnum(zeroindex, zeroindex + go[i], temp-&gt;status)) &#123;                &#x2F;&#x2F;ç§»åŠ¨æˆåŠŸ                D_open.push(temp);            &#125;            else &#123;                &#x2F;&#x2F;ç§»åŠ¨å¤±è´¥                delete(temp);            &#125;        &#125;    &#125;    &#x2F;&#x2F;--------------------------------------------end-DFS------------------------------------------&#x2F;&#x2F;    end_t &#x3D; clock();    total_t &#x3D; ((double)end_t - (double)start_t) &#x2F; CLOCKS_PER_SEC;    printf(&quot;æ€»æ—¶é—´ï¼š%f\n&quot;, total_t);    &#x2F;&#x2F;delete(start);    return 0;&#125;&#x2F;&#x2F;æ‰“å°æ£‹ç›˜void print(int* status) &#123;    for (int i &#x3D; 0; i &lt; 9; i++) &#123;        if (i % 3 &#x3D;&#x3D; 0) &#123;            printf(&quot;\n&quot;);        &#125;        printf(&quot;%d &quot;, status[i]);    &#125;    printf(&quot;\n\n&quot;);&#125;&#x2F;&#x2F;è·å¾—å…ƒç´ åœ¨æ£‹ç›˜ä¸Šçš„ä¸€ç»´åæ ‡int getindex(int* status, int num) &#123;    for (int i &#x3D; 0; i &lt; 9; i++) &#123;        if (status[i] &#x3D;&#x3D; num) &#123;            return i;        &#125;    &#125;    return -1;&#125;&#x2F;&#x2F;äº¤æ¢å…ƒç´ bool swapnum(int a, int b, int* status) &#123;    if (b &gt;&#x3D; 0 &amp;&amp; b &lt;&#x3D; 8 &amp;&amp; (a &#x2F; 3 &#x3D;&#x3D; b &#x2F; 3 || a % 3 &#x3D;&#x3D; b % 3)) &#123;        swap(status[a], status[b]);        return true;    &#125;    else &#123;        return false;    &#125;&#125;&#x2F;&#x2F;å½“å‰çŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€çš„æ›¼å“ˆé¡¿è·ç¦»int hn(int* status, int* target) &#123;    &#x2F;&#x2F;è·å¾—å½“å‰çŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€çš„äºŒç»´xï¼Œyåæ ‡    int x, y, xt, yt, it, h &#x3D; 0;    for (int i &#x3D; 0; i &lt; 9; i++) &#123;        x &#x3D; i % 3;        y &#x3D; i &#x2F; 3;        it &#x3D; getindex(target, status[i]);        xt &#x3D; it % 3;        yt &#x3D; it &#x2F; 3;        h +&#x3D; abs(x - xt) + abs(y - yt);    &#125;    return h;&#125;&#x2F;&#x2F;æ‰“å°è§£æ³•ï¼Œå›æº¯void printans(borad* cur) &#123;    vector&lt;string&gt; ans;    while (cur) &#123;        ans.push_back(to_string(cur-&gt;status[0]) + to_string(cur-&gt;status[1]) + to_string(cur-&gt;status[2]) + &quot;\n&quot;            + to_string(cur-&gt;status[3]) + to_string(cur-&gt;status[4]) + to_string(cur-&gt;status[5]) + &quot;\n&quot;            + to_string(cur-&gt;status[6]) + to_string(cur-&gt;status[7]) + to_string(cur-&gt;status[8]));        cur &#x3D; cur-&gt;pre;    &#125;    for (int i &#x3D; ans.size() - 1; i &gt;&#x3D; 0; i--) &#123;        printf(&quot;%s\n â†“\n&quot;, ans[i].c_str());    &#125;    printf(&quot;END\n\n&quot;);&#125;&#x2F;&#x2F;æ£‹ç›˜çŠ¶æ€è½¬ä¸ºintæ ¼å¼int status2int(int* status) &#123;    int res &#x3D; 0;    for (int i &#x3D; 0, j &#x3D; 8; i &lt; 9; i++, j--) &#123;        res +&#x3D; status[i] * pow(10, j);    &#125;    return res;&#125;&#x2F;&#x2F;è®¡ç®—é€†åºæ•°ä¹‹å’Œint reversesum(int* status) &#123;    int sum &#x3D; 0;    for (int i &#x3D; 0; i &lt; 9; i++) &#123;        if (status[i] !&#x3D; 0) &#123;            for (int j &#x3D; 0; j &lt; i; j++) &#123;                if (status[j] &gt; status[i]) &#123;                    sum++;                &#125;            &#125;        &#125;    &#125;    return sum;&#125;&#x2F;&#x2F;è·å¾—éšæœºåˆå§‹çŠ¶æ€int* randstatus(int* target) &#123;    int* start &#x3D; new int[9]();    unordered_map&lt;int, int&gt; nums;&#x2F;&#x2F;è®°å½•å·²æ·»åŠ çš„æ•°    srand((int)time(0));    int element, sum1, sum2;    sum2 &#x3D; reversesum(target);    &#x2F;&#x2F;æ ¹æ®åˆå§‹çŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€çš„é€†åºæ•°ä¹‹å’Œï¼ˆsum1ã€sum2ï¼‰æ˜¯å¦ç›¸ç­‰ï¼Œåˆ¤æ–­åˆå§‹çŠ¶æ€æ˜¯å¦æœ‰è§£ï¼Œä¸ç›¸ç­‰ï¼ˆå³æ— è§£ï¼‰åˆ™é‡æ–°ç”Ÿæˆåˆå§‹çŠ¶æ€    do &#123;        for (int i &#x3D; 0; i &lt; 9; i++) &#123;            element &#x3D; rand() % 9;            while (nums[element]) &#123;                element &#x3D; rand() % 9;            &#125;            nums[element]++;            start[i] &#x3D; element;        &#125;        &#x2F;&#x2F;æ¸…ç©ºè®°å½•        nums.clear();        &#x2F;&#x2F;è®¡ç®—é€†åºæ•°ä¹‹å’Œ        sum1 &#x3D; reversesum(start);    &#125; while (sum1 % 2 !&#x3D; sum2 % 2);    return start;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>äººå·¥æ™ºèƒ½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Texlive+VScode</title>
    <link href="/2021/10/18/latex/"/>
    <url>/2021/10/18/latex/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ­å»ºLatexç¯å¢ƒï¼šTexlive+VScode ç›¸å…³è®°å½•</p><span id="more"></span><h2 id="å®‰è£…-texlive">1.å®‰è£… Texlive</h2><p>é‰´äºæˆ‘æ ¡æ²¡æœ‰ï¼ˆæˆ‘çŸ¥é“çš„ï¼‰å¯ç”¨å¼€æºè½¯ä»¶é•œåƒç«™ï¼Œæ‰€ä»¥åœ¨åˆ°æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™çš„<ahref="https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/Images/">texlive</a>é¡µä¸‹è½½ã€‚</p><p><a href="https://imgtu.com/i/5UYncq"><imgsrc="https://z3.ax1x.com/2021/10/18/5UYncq.png" /></a></p><p>å¯èƒ½ç”±äºæ›´æ–°å¯¼è‡´ä½ æ‰“å¼€ä¹‹åçš„é¡µé¢ä¸ä¸Šé¢çš„å†…å®¹ä¸ä¸€è‡´ï¼Œæ€»ä¹‹ä¸‹è½½æœ€æ–°çš„texlive***.isoï¼Œè™½ç„¶å¾ˆå¤§ä½†å„ç§å®åŒ…é½å…¨ï¼Œç”¨èµ·æ¥èƒ½çœå»å„ç§éº»çƒ¦ã€‚</p><p>åœ¨å¸¦å®½æ‰©å®¹ä¹‹åçš„æ ¡å›­ç½‘åŠ æŒä¸‹ï¼Œä¸ç”¨å‡ å¹´å°±èƒ½ä¸‹è½½å®Œè¿™ä¸ªisoæ–‡ä»¶äº†ã€‚</p><p>å¦‚æœä½ æ˜¯windows7ç”šè‡³xpç”¨æˆ·ï¼Œæˆ‘å»ºè®®ä½ æŠŠisoæ–‡ä»¶è§£å‹ç„¶åè¿›è¡Œåç»­æ“ä½œã€‚</p><p>å¦‚æœæ˜¯windows 10/11ï¼Œç³»ç»Ÿè‡ªå¸¦è™šæ‹Ÿå…‰é©±ï¼Œç›´æ¥åŒå‡»è¿›å…¥å³å¯ã€‚</p><p>ï¼ˆ linux/macOS æˆ‘ä¸äº†è§£ï¼Œçœç•¥ï¼‰æ•ˆæœå¦‚å›¾ï¼š</p><p><a href="https://imgtu.com/i/5UUe9H"><imgsrc="https://z3.ax1x.com/2021/10/18/5UUe9H.png" /></a></p><p>åŒå‡»æˆ–è€…å³é”®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œinstall-tl-advanced.batï¼Œå¯ä»¥ç‚¹è¿›<strong>Advanced</strong>è¿›å…¥é«˜çº§å®‰è£…ï¼Œç‚¹å‡»<strong>Customize</strong>æ¥å–æ¶ˆä½ ä¸éœ€è¦å®‰è£…çš„å®åŒ…ï¼Œæ¯”å¦‚éä¸­è‹±çš„è¯­è¨€åŒ…ï¼Œè¿™é‡Œæˆ‘åªä¿®æ”¹äº†å®‰è£…ç›®å½•ï¼Œæœ€åå¼€å§‹æ¼«é•¿çš„ç­‰å¾…ã€‚</p><p><a href="https://imgtu.com/i/5UaCGQ"><imgsrc="https://z3.ax1x.com/2021/10/18/5UaCGQ.png" /></a></p><p>ï¼ˆå®‰è£…TeXworkså‰ç«¯ä¹Ÿå¯ä»¥å–æ¶ˆæ‰ï¼Œæ¯•ç«Ÿéƒ½æ‰“ç®—ç”¨vscodeäº†ï¼ŒåŠ ä¸Šå‰é¢è¯´çš„è¯­è¨€åŒ…ä¹‹ç±»çš„ï¼Œå¯ä»¥çœä¸ª1Gå·¦å³ï¼Œæˆ‘æƒ³ç€ç•™æ¡åè·¯å°±å•¥éƒ½æ²¡æ”¹ï¼Œä¹Ÿä¸ç¼ºè¿™ç‚¹ç©ºé—´ï¼‰</p><p>ï¼ˆåœ¨æˆ‘çš„ç”µè„‘ä¸Šä¸€å…±å®‰è£…äº†57 min 56 sï¼Œæ•™ç¨‹éƒ½å¿«å†™å®Œäº†ï¼Œè¿˜æ²¡æœ‰è£…å¥½ï¼‰</p><h2 id="å®‰è£…-vscode">2. å®‰è£… VSCode</h2><p>åˆ°<ahref="https://code.visualstudio.com/Download">å®˜ç½‘</a>æ ¹æ®ä½ çš„ç³»ç»Ÿé€‰æ‹©ä¸‹è½½å®‰è£…å³å¯ï¼Œè¿™éƒ¨åˆ†åº”è¯¥å¤§å¤šæ•°äººéƒ½å®‰è£…è¿‡äº†ï¼Œæ²¡ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ã€‚</p><p><a href="https://imgtu.com/i/5Ud4hD"><imgsrc="https://z3.ax1x.com/2021/10/18/5Ud4hD.png" /></a></p><p>å®‰è£…å®Œæˆä¹‹åå¯ä»¥åœ¨åº”ç”¨å•†åº—æŒ‘é€‰å„ç§æé«˜ä½¿ç”¨ä½“éªŒçš„æ‰©å±•ï¼Œè·Ÿæœ¬æ–‡ç›¸å…³çš„ä¸»è¦æ˜¯<strong>LatexWorkshop</strong>ã€‚</p><p><a href="https://imgtu.com/i/5U0KJS"><imgsrc="https://z3.ax1x.com/2021/10/18/5U0KJS.png" /></a></p><p>å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥åˆ›å»ºæˆ–è€…æ‰“å¼€ä¸€ä¸ªtexæ–‡ä»¶ï¼Œæ­¤æ—¶ä»£ç å·²ç»è¢«é«˜äº®æ˜¾ç¤ºäº†ã€‚</p><p><a href="https://imgtu.com/i/5U560K"><imgsrc="https://z3.ax1x.com/2021/10/18/5U560K.png" /></a></p><p>æŒ‰ä¸‹å¿«æ·é”®Ctrl+Alt+Bï¼ˆbuild latex projectï¼‰ï¼Œé¡ºåˆ©ç”Ÿæˆï¼Œæ•ˆæœä¸é”™ã€‚</p><p><a href="https://imgtu.com/i/5U5xcn"><imgsrc="https://z3.ax1x.com/2021/10/18/5U5xcn.png" /></a></p><h2 id="é…ç½®-vscode-çš„-æ’ä»¶">3. é…ç½® VSCode çš„ æ’ä»¶</h2><p>æŒ‰ä¸‹F1æˆ–è€…Ctrlï¼‹shiftï¼‹Pï¼Œè¾“å…¥setjsonï¼Œé€‰æ‹©ç¬¬ä¸‰ä¸ªï¼ˆå¦‚å›¾æ‰€ç¤ºï¼‰ã€‚</p><p><a href="https://imgtu.com/i/5Uo9xA"><imgsrc="https://z3.ax1x.com/2021/10/18/5Uo9xA.png" /></a></p><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"latex-workshop.latex.tools"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>   <span class="token comment">// ç¼–è¯‘å·¥å…·å’Œå‘½ä»¤</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"xelatex"</span><span class="token punctuation">,</span>   <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"xelatex"</span><span class="token punctuation">,</span>   <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"-synctex=1"</span><span class="token punctuation">,</span>   <span class="token string">"-interaction=nonstopmode"</span><span class="token punctuation">,</span>   <span class="token string">"-file-line-error"</span><span class="token punctuation">,</span>   <span class="token string">"-pdf"</span><span class="token punctuation">,</span>   <span class="token string">"%DOCFILE%"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"pdflatex"</span><span class="token punctuation">,</span>   <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"pdflatex"</span><span class="token punctuation">,</span>   <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"-synctex=1"</span><span class="token punctuation">,</span>   <span class="token string">"-interaction=nonstopmode"</span><span class="token punctuation">,</span>   <span class="token string">"-file-line-error"</span><span class="token punctuation">,</span>   <span class="token string">"%DOCFILE%"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"bibtex"</span><span class="token punctuation">,</span>   <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"bibtex"</span><span class="token punctuation">,</span>   <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"%DOCFILE%"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token property">"latex-workshop.latex.recipes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"xelatex"</span><span class="token punctuation">,</span>   <span class="token property">"tools"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"xelatex"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"pdflatex"</span><span class="token punctuation">,</span>   <span class="token property">"tools"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"pdflatex"</span>          <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"xelatex->bibtex->xelatex->xelatex"</span><span class="token punctuation">,</span>   <span class="token property">"tools"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"xelatex"</span><span class="token punctuation">,</span>   <span class="token string">"bibtex"</span><span class="token punctuation">,</span>   <span class="token string">"xelatex"</span><span class="token punctuation">,</span>   <span class="token string">"xelatex"</span>          <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span>   <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"pdflatex->bibtex->pdflatex->pdflatex"</span><span class="token punctuation">,</span>   <span class="token property">"tools"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token string">"pdflatex"</span><span class="token punctuation">,</span>   <span class="token string">"bibtex"</span><span class="token punctuation">,</span>   <span class="token string">"pdflatex"</span><span class="token punctuation">,</span>   <span class="token string">"pdflatex"</span>          <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"latex-workshop.view.pdf.viewer"</span><span class="token operator">:</span> <span class="token string">"tab"</span><span class="token punctuation">,</span><span class="token property">"editor.inlineSuggest.enabled"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">"latex-workshop.latex.autoClean.run"</span><span class="token operator">:</span> <span class="token string">"onBuilt"</span><span class="token punctuation">,</span><span class="token property">"latex-workshop.latex.autoBuild.run"</span><span class="token operator">:</span> <span class="token string">"never"</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>Ctrl+Alt+B æ˜¯ç¼–è¯‘</li><li>Ctrl+Alt+Væ˜¯ç¼–è¯‘+é¢„è§ˆpdf</li></ul><p>æˆ‘æœ€å¼€å§‹å†™è¿™äº›å…¶å®æ˜¯æƒ³è¦æŠŠä¸­å¤§çš„foxitpdfè®¾ç½®æˆé»˜è®¤çš„pdfé¢„è§ˆè½¯ä»¶ï¼Œä¸è¿‡æœ€ç»ˆæ•ˆæœå¹¶ä¸å¥½ï¼Œæ‰€ä»¥ä½œç½¢ã€‚</p><p>ï¼ˆå’¨è¯¢äº†foxitçš„æŠ€æœ¯å®¢æœï¼Œä»–ä»¬è¯´ç›®å‰æ˜¯å®ç°ä¸äº†çš„ï¼‰</p><p>ä¸Šé¢è¿™äº›è®¾ç½®ä¸»è¦æ˜¯å› ä¸ºé»˜è®¤çš„ç¼–è¯‘å·¥å…·æ˜¯ latexmkï¼Œç”±äºä¸éœ€è¦ç”¨åˆ°latexmkï¼Œå› æ­¤æŠŠå…¶ä¿®æ”¹ä¸ºä¸­æ–‡ç¯å¢ƒå¸¸ç”¨çš„ xelatexï¼›å°† tools ä¸­çš„%DOC%æ›¿æ¢æˆ%DOCFILE%å°±å¯ä»¥æ”¯æŒç¼–è¯‘ä¸­æ–‡è·¯å¾„ä¸‹çš„æ–‡ä»¶äº†ã€‚</p><p>è¿˜å¯ä»¥ç ”ç©¶çš„è®¾ç½®æœ‰å¾ˆå¤šï¼Œä»€ä¹ˆæ­£å‘æœç´¢åå‘æœç´¢ä¹‹ç±»çš„ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p><p><a href="https://ericp.cn/cmd">å…¬å¼æŒ‡å¯¼æ‰‹å†Œ</a></p><p>å¦‚æœä¸­æ–‡æ— æ³•æ˜¾ç¤ºå°±åŠ ä¸Šè¿™ä¸€å¥ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">\usepackage[UTF8]&#123;ctex&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>Latexçš„ç›¸å…³å…¬å¼åŠä½¿ç”¨å°±ä¸å†èµ˜è¿°äº†ã€‚</p><p>ç”±äºvscodeä¸ä¸€å®šèƒ½æˆåŠŸå®ç°4æ¬¡ç¼–è¯‘ï¼Œæ•…æˆ‘ç¼–å†™äº†ä»¥ä¸‹batæ–‡ä»¶ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆpdfå¹¶æ¸…é™¤æ‰€æœ‰è¿‡ç¨‹æ–‡ä»¶ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>:: å››æ¬¡ç¼–è¯‘ï¼šxe-bib-xe-xe::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>xelatex reportbibtex reportxelatex reportxelatex report::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>:: æ¸…é™¤æ–‡ä»¶ä»¥åŠæ¸…é™¤æ›´å¤šæ–‡ä»¶::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>:clean<span class="token builtin class-name">echo</span> åˆ é™¤ç¼–è¯‘ä¸´æ—¶æ–‡ä»¶del /f /q /s *.log *.glo *.ilg *.lof *.ind *.out *.thm *.toc *.lot *.loe *.out.bak *.blg *.synctex.gz *.aux *.bbl *.xdvdel /f /q *.idxdel /f /s *.dvi *.psgoto end::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>:: ç»“æŸç¬¦ï¼Œæ— ä»»ä½•å…·ä½“æ„ä¹‰::<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>:end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello world!</title>
    <link href="/2021/04/25/Helloworld/"/>
    <url>/2021/04/25/Helloworld/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>My First blog:Something about Enderfga</p><span id="more"></span><h1 id="think-twice-code-once.">Think twice, code once.</h1>        <div id="aplayer-MINSJYnF" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <div class="code-wrapper"><pre class="aplayer-lrc-content"></pre></div>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-MINSJYnF"),            narrow: false,            autoplay: true,            showlrc: false,            music: {              title: "Never Coming Back",              author: "Evan Call",              url: "https://cdn.jsdelivr.net/gh/Enderfga/Enderfga/Backup/music.mp3",              pic: "https://z3.ax1x.com/2021/04/24/cvhTxI.jpg",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><p><a href="https://imgtu.com/i/gAAR54"><imgsrc="https://z3.ax1x.com/2021/04/30/gAAR54.jpg" /></a></p><p>è‡ªæ‰“æˆä¸ºä¸€ä¸ªç¨‹åºçŒ¿å¼€å§‹ï¼Œç¿»é˜…åšå®¢æ–‡ç« å­¦ä¹ å°±æˆäº†æˆ‘çš„æ—¥å¸¸ï¼ˆè´¨é‡ç¡®å®æœ‰å¤Ÿå‚å·®ä¸é½Â·Â·Â·ï¼‰ï¼ŒCSDNã€åšå®¢å›­ã€ç®€ä¹¦ã€çŸ¥ä¹ã€GitHubç­‰æˆ‘éƒ½ç»å¸¸å…‰é¡¾ï¼Œäºæ˜¯èŒç”Ÿäº†è‡ªå·±å†™blogçš„æƒ³æ³•ï¼Œè‹¦äºæŠ€æœ¯åŠ›ä¸è¶³ä¸€ç›´æç½®è‡³ä»Šï¼ˆç°åœ¨ä¹Ÿä¸æ€ä¹ˆæ ·å“ˆå“ˆå“ˆï¼‰ã€‚åœ¨GZTimeçš„ååŠ©ä¸‹ï¼Œæˆ‘è‡ªå·±çš„å°ç ´ç«™ç»ˆäºå»ºæˆå•¦~å¸Œæœ›æˆ‘æ—©æ—¥äº§å‡ºç‚¹æŠ€æœ¯æ€§æ–‡ç« ï¼Œç°åœ¨åªèƒ½æ‹¿æ¥è®°æµæ°´è´¦äº†Â·Â·Â·Â·Â·Â·</p><h1 id="enderfga">Enderfgaï¼Ÿ</h1><p>å…³äºæˆ‘çš„idæ¥æºå…¶å®æŒºå‚»çš„ï¼Œåœ¨æˆä¸ºç¨‹åºçŒ¿ä¹‹å‰æˆ‘æ˜¯ä¸€åèµ„æ·±æ¸¸æˆç©å®¶ï¼Œæˆ‘è¿˜æ¸…æ¥šåœ°è®°å¾—æˆ‘æ¥è§¦çš„ç¬¬ä¸€æ¬¾ç½‘ç»œæ¸¸æˆå«æ¤ç‰©å¤§æˆ˜åƒµå°¸OLï¼Œç„¶åæ˜¯æ´›å…‹ç‹å›½ï¼Œå¡å¸ƒè¥¿æ¸¸ï¼Œå¥¥å¥‡ä¼ è¯´Â·Â·Â·ç›´åˆ°å…­å¹´çº§é‚£å¹´ï¼Œæˆ‘ç©äº†ç¬¬ä¸€æ¬¾æˆ‘æ„¿å°†å…¶ç§°ä¹‹ä¸ºâ€œæ¸¸æˆâ€æˆ–è€…è¯´æ˜¯â€œç¬¬ä¹è‰ºæœ¯â€çš„ä½œå“â€”â€”Minecraftã€‚</p><p><a href="https://imgtu.com/i/gAAhG9"><imgsrc="https://z3.ax1x.com/2021/04/30/gAAhG9.jpg" /></a></p><p>MCä¸€ç›´é™ªæˆ‘èµ°åˆ°ä»Šå¤©ï¼Œæˆ‘å¯¹ç¼–ç¨‹çš„å…´è¶£åŸºæœ¬ä¹Ÿæ˜¯èŒèŠ½äºæ­¤ã€‚è™½ç„¶è¯¾ç¨‹é‡Œæ²¡æœ‰æ¶‰åŠJavaï¼Œä½†æœ‰æœºä¼šæˆ‘è¿˜æ˜¯ä¼šäº‰å–å¥½å¥½è‡ªå­¦Javaå’ŒC#çš„ã€‚è‡³äºMCï¼Œä¸ç®¡æ€ä¹ˆæ›´æ–°æ¢ä»£ï¼Œmod/çº¢çŸ³/å‘½ä»¤æ–¹å—/æ¬ºè´Ÿæœ«å½±é¾™/ç§ç”°å…»çŒªéƒ½æŒºå¸å¼•æˆ‘çš„ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">EnderDragonâ€”Enderman-Enderfga,Doesn&#39;t that sound cool?&quot;This is not the end,this is not even the beginning of the end,but,perhaps,the end of the beginning.&quot;                   â€”â€”Winston Leonard Spencer Churchill<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>è¿™ä¸ªidä¸çŸ¥ä¸è§‰é—´å±…ç„¶ç”¨äº†ä¸ƒå¹´äº†ï¼Œä»ä¸ªåˆ«ç½‘ç«™åˆ°æ‰€æœ‰è´¦æˆ·ç»Ÿä¸€ï¼Œæˆ‘ä¹Ÿä¸èˆå¾—æ¢æ–°çš„äº†ï¼ˆåœ¨äº’è”ç½‘ä¸Šç»Ÿä¸€è²Œä¼¼ä¸æ˜¯ä»€ä¹ˆå¥½ä¹ æƒ¯ï¼Œè¿˜å®¹æ˜“æŸ¥åˆ°æˆ‘å¹´è½»çš„æ—¶å€™ç•™ä¸‹çš„é»‘å†å²Â·Â·Â·ï¼‰åªå¸Œæœ›å¤–å›½å‹äººçœ‹åˆ°è¿™ä¹ˆæ²™é›•çš„è‹±è¯­åä¸è¦ç¬‘æˆ‘å“ˆå“ˆå“ˆã€‚ï¼ˆè°·æ­Œå¨˜å¿µçš„å¥½å¯çˆ±ï¼ï¼‰</p><p><a href="https://imgtu.com/i/gAm5Bq"><imgsrc="https://z3.ax1x.com/2021/04/30/gAm5Bq.jpg" /></a></p><h1 id="acgn-å¼•ãã“ã‚‚ã‚Š">ACGN-å¼•ãã“ã‚‚ã‚Š</h1><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/treasure.jpg" /></p><div style="text-align:center">å®¿èˆä¸€è§’</div><h2 id="animation">Animation</h2><p>äºŒæ¬¡å…ƒæµ“åº¦++ï¼›</p><p>å¾ˆåº†å¹¸è‡ªå·±çš„ç«¥å¹´æœ‰è™¹çŒ«è“å…”ä¸ƒä¾ ä¼ ï¼Œæ´›æ´›å†é™©è®°ï¼Œè“çŒ«æ·˜æ°”ä¸‰åƒé—®ï¼Œç§¦æ—¶æ˜æœˆï¼Œä¸œæ–¹ç¥å¨ƒÂ·Â·Â·Â·Â·Â·ç­‰ç­‰ä¼˜ç§€å›½äº§ä½œå“é™ªä¼´ï¼ˆç”šè‡³é¡ºä¾¿åœ¨é‡Œé¢å­¦ä¼šäº†æ™®é€šè¯ï¼‰ï¼Œåæ¥åœ¨æ˜Ÿç©ºå«è§†çš„ã€ŠåŠ¨æ¼«å…ˆé”‹ã€‹æ ç›®é‡Œå…¥å‘äº†æ—¥æ¼«ï¼šçŠ¬å¤œå‰ï¼Œæµ·è´¼ç‹ï¼Œé’¢ä¹‹ç‚¼é‡‘æœ¯å¸ˆï¼Œä¸ƒé¾™ç ï¼Œ<strong>ç«å½±å¿è€…</strong>ï¼Œ<strong>é“¶é­‚</strong>Â·Â·Â·Â·Â·Â·æ²¡æœ‰è¿™å‡ éƒ¨ç•ªï¼Œè‚¯å®šä¹Ÿæ²¡æœ‰ç°åœ¨æ—¶è€Œä¸­äºŒçƒ­è¡€ï¼Œæ—¶è€Œæ²™é›•åºŸæŸ´çš„æˆ‘ã€‚è‡³äºBç«™çš„å…¥ç«™æ—¶é—´æ˜¯2015-07-1017:20:10ï¼ˆè¿™æ˜¯é€šè¿‡ç­”é¢˜çš„æ—¶é—´ï¼Œç»ˆäºä¸æ˜¯æ¸¸å®¢äº†ï¼ï¼‰ï¼ˆç”¨æ—¶é—´æˆ³æŸ¥çš„ï¼Œæˆ‘æ€ä¹ˆå¯èƒ½è®°å¾—è¿™ç§ä¸œè¥¿ï¼‰</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/gZkFVf.jpg" /></p><p>é‚£ä¸ªæ—¶å€™ç‰¹åœ°å»çœ‹äº†æŸç§‘å­¦çš„è¶…ç”µç£ç‚®ï¼Œloveliveä»€ä¹ˆçš„ï¼Œå››èˆäº”å…¥ä¹Ÿç®—æ˜¯äºŒåˆºçŒ¿å…¥é—¨äº†ï¼ˆå§ï¼Ÿï¼‰</p><p>ä»é›¶å¼€å§‹çš„å¼‚ä¸–ç•Œç”Ÿæ´»ï¼Œä¸€æ‹³è¶…äººï¼Œçµèƒ½ç™¾åˆ†ç™¾ï¼Œå°æ—å®¶çš„é¾™å¥³ä»†ï¼Œå¹²ç‰©å¦¹å°åŸ‹ï¼Œåˆºå®¢ä¼å…­ä¸ƒï¼Œ<strong>ç´«ç½—å…°æ°¸æ’èŠ±å›­</strong>Â·Â·Â·Â·Â·Â·è¿™äº›å¹´çœ‹ç•ªçš„é¢‘ç‡è™½ç„¶å°‘äº†ï¼Œä½†é‚£ç§æ¯å‘¨ç­‰æ›´æ–°çœ‹ç•ªçš„çƒ­æƒ…å·²ç»åˆ»è¿›DNAäº†ã€‚æ¯é¡¿é¥­çš„æ—¶å€™åˆ·åˆ·Bç«™çš„å‰ªè¾‘è¿˜èƒ½æ„Ÿæ…¨ä¸€ä¸‹â€œçˆ·é’å›â€ï¼Œæ³ªç›®ä¸€ä¼šã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211208140846878.png" /></p><p>å¦å¤–æˆ‘çš„å¤´åƒå…¶å®æ˜¯æ¡‚å°å¤ªéƒï¼Œä¸è¿‡å› ä¸ºç‰ˆæƒæ„è¯†çš„åŠ æ·±ï¼Œå¯èƒ½æœ‰æœºä¼šè¿˜æ˜¯å¾—é‡ç”»ä¸€ä¸ªã€‚</p><p><a href="https://imgtu.com/i/fgyay4"><imgsrc="https://z3.ax1x.com/2021/08/15/fgyay4.jpg" /></a></p><p>æ›´æ–°ï¼šæ¡‚å…ˆç”ŸæˆåŠŸå‡çº§äº†ï¼Œå‚è€ƒäº†å°¼å°”æœºæ¢°çºªå…ƒä¸­9Sçš„è£…æ‰®ï¼Œç°åœ¨ç§‘æŠ€æ„Ÿæ»¡æ»¡ï¼</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/%E7%8C%AB%E7%8C%ABw.jpg" /></p><p>æ›´æ–°çš„æ›´æ–°ï¼šå¦å¤–ä¸€ä¸ªç‰ˆæœ¬è¯ç”Ÿå•¦ï¼æ˜¯ç…¤æ°”ç½çŒ«çŒ«çš„æ‹Ÿäººç‰ˆï¼</p><h2 id="comic">Comic</h2><p>å›å¿†äº†ä¸€ä¸‹ï¼Œæˆ‘å¥½åƒä¸æ€ä¹ˆçœ‹æ¼«ç”»ã€‚èµ·åˆçœ‹æ¼«ç”»æ˜¯å› ä¸ºæ­»ç«æµ·æ›´æ–°å¤ªæ…¢äº†ï¼Œåæ¥åœ¨å¿«çœ‹ä¸Šçœ‹äº†å‡ éƒ¨ï¼Œè®°å¾—åå­—çš„æœ‰é˜ç‹ä¸é«˜å…´ï¼Œå“‘èˆï¼Œå¿«æŠŠæˆ‘å“¥å¸¦èµ°ï¼Œ<strong>è‰å¥³</strong>ã€‚å¥½çœ‹æ˜¯å¥½çœ‹ï¼Œæ„Ÿè§‰æœ‰ç‚¹åƒæŠ˜ä¸­é€‰æ‹©ï¼Œä¸å¦‚åŠ¨ç”»çµåŠ¨ä¹Ÿä¸å¦‚å°è¯´å…¨é¢ã€‚</p><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/20180718145340_ZKfkz.thumb.1000_0.jpeg" /></p><p>å·²ç»å®Œå…¨æƒ³ä¸èµ·æ¥è‰å¥³è®²ä»€ä¹ˆäº†ï¼Œä½†ç”»é£é’ˆä¸æˆ³ã€‚æœ€è¿‘å¬äº†ã€Š<ahref="https://bilibili.com/video/BV1WX4y1G7ok">é‰´æƒ…å¸ˆ</a>ã€‹è¿™é¦–æ­Œæ‰æƒ³èµ·æ¥çš„ã€‚</p><h2 id="game">Game</h2><p>è¯´åˆ°è¿™ä¸ªæˆ‘å¯å°±ä¸å›°äº†ï¼ˆzzzzz....ï¼‰</p><p><a href="https://imgtu.com/i/gV9KCn"><imgsrc="https://z3.ax1x.com/2021/05/01/gV9KCn.jpg" /></a></p><div style="text-align:center"><iframe width="100%" height="500" src="https://player.bilibili.com/player.html?aid=5868975&amp;bvid=BV1Ts411k73E&amp;cid=9531080&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></iframe></div><p><a href="https://imgtu.com/i/gV9eEQ"><imgsrc="https://z3.ax1x.com/2021/05/01/gV9eEQ.jpg" /></a></p><div style="text-align:center"><iframe width="100%" height="500" src="https://player.bilibili.com/player.html?aid=460307938&amp;bvid=BV1t5411w723&amp;cid=331362469&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></iframe></div><p><imgsrc="https://blogimg.coding.net/p/img/d/image1/git/raw/master/img/image-20211208141258648.png" /></p><div style="text-align:center"><iframe width="100%" height="500" src="https://player.bilibili.com/player.html?aid=12069119&amp;bvid=BV1Wx411q7zb&amp;cid=19911067&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>æˆ‘è®°å¾—å½“å¹´è¿›bç«™ç­”é¢˜çš„æ—¶å€™æœ‰ä¸€é“é¢˜è®©æˆ‘é€‰å‡ºâ€œè€å¤´æ»šåŠ¨æ¡â€çš„åŸåï¼Œç™¾åº¦çš„è¿‡ç¨‹ä¸­æˆ‘äº†è§£åˆ°â€œä¸Šå¤å·è½´5â€(è€æ»š)modçš„ä¸°å¯Œç¨‹åº¦å ªæ¯”MCï¼Œä¸­ä¸–çºªå‰‘ä¸é­”æ³•çš„ä¸–ç•Œä¹Ÿè®©æˆ‘ç€è¿·ï¼Œäºæ˜¯æˆ‘æ¯…ç„¶å†³ç„¶åœ°æˆä¸ºäº†ä¸€åæŠ“æ ¹å®ï¼ˆé¾™è£”ï¼‰ï¼Œä½†é€šå…³çš„è¿‡ç¨‹ä¸­æˆ‘é¥±å—è¿·è·¯çš„å›°æ‰°ï¼šé»‘ç¯çç«çš„æ´çªŸã€ä¹±ä¸ƒå…«ç³Ÿçš„é™·é˜±ã€ä¸å¯åçŠ¶çš„åœ°å›¾Â·Â·Â·äºæ˜¯æˆ‘å†³å®šæ‰¾ä¸€æ¬¾æˆ‘æƒ³æ€ä¹ˆèµ°å°±æ€ä¹ˆèµ°çš„æ¸¸æˆâ€”â€”ã€ŠAssassinâ€˜sCreedã€‹ã€‚ä¸€å…¥å‘å°±æ˜¯10å¹´ï¼Œæˆ‘æ„¿æ—¶é—´æ°¸è¿œåœç•™åœ¨ä½›ç½—ä¼¦è¨å¡”é¡¶çš„æœˆåœ†ä¹‹å¤œã€‚åº“é‡Œçš„å…¨å¥—åˆºå®¢ä¿¡æ¡é€šå…³äº†ï¼Œæˆ‘åˆæƒ³å¿µå‰‘ä¸é­”æ³•çš„æ•…äº‹äº†ï¼Œå› ä¸ºä¹…ä»°å…¶å¤§åæˆ‘ä¸‹è½½äº†â€”â€”ã€ŠTheWitcher3ã€‹ã€‚è¿™æ˜¯ä¸€éƒ¨æˆ‘æœ€å–œæ¬¢çš„æ¸¸æˆï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œè¿™ä¹Ÿè®¸å°±æ˜¯â€œç¬¬ä¹è‰ºæœ¯â€å§ã€‚ä¸‰è¨€ä¸¤è¯­ä¸èƒ½è¡¨è¾¾å‡ºå…¶ä¸­çš„æ³¢æ¾œå£®é˜”ï¼Œæ¯ä¸€ä¸ªæ”¯çº¿ï¼Œæ¯ä¸€éƒ¨DLCéƒ½å€¼å¾—æˆ‘ä¸€éåˆä¸€éåœ°æ¸¸ç©ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">æˆ‘å»è¿‡å‡¯å°”è«ç½•å¿½ç„¶å†·å†½è€Œè‡³çš„ç™½é›ªï¼Œæˆ‘å¬è¿‡å²å‡¯åˆ©æ°ä¼´ç€æµ·å¦–æ¸…å•¸çš„æµ·é£ã€‚æˆ‘ä»°å¤´é¥®å°½è¯ºå¨æ ¼ç‘é™ˆå¹´çš„çŸ®äººçƒˆé…’ï¼Œæˆ‘ç­–é©¬èµ°éå…¨å¨ä¼¦æœ€è‰°é™©çš„ä¸‡æ°´åƒå±±ã€‚å¯¹æˆ‘è€Œè¨€ï¼Œå®¶æ˜¯ä»€ä¹ˆåœ°æ–¹ã€‚æ˜¯é‚£æŠ¹é»‘ç™½è£™æ‘†çš„å€©å½±ï¼Œè¿˜æ˜¯é‚£ä¸é¦™ä¸é†‹æ —çš„èŠ¬èŠ³ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç»™æˆ‘ç•™ä¸‹æ·±åˆ»å°è±¡çš„æ¸¸æˆæœ‰å¾ˆå¤šï¼Œå°¼å°”é‡Œçš„â€œä¸–ç•Œç«Ÿç„¶å¦‚æ­¤ç¾ä¸½â€ï¼Œ2077é‡Œçš„"ä»¥æˆ‘æ®‹èº¯åŒ–çƒˆç«"ï¼Œæ­»äº¡ææµ…é‡Œçš„â€œæˆ‘åœ¨å†¥æ»©ç­‰ä½ â€Â·Â·Â·Â·Â·Â·å¸Œæœ›æˆ‘çš„ç¨‹åºçŒ¿ä¹‹è·¯æœ€ç»ˆå¯ä»¥èµ°åˆ°åƒå°å²›ç§€å¤«é‚£æ ·ï¼Œæ‹¥æœ‰è‡ªå·±çš„å·¥ä½œå®¤ï¼Œä¹¦å†™è‡ªå·±çš„è‰ºæœ¯ã€‚</p><p>ï¼ˆå¦å¤–ä¸Šé¢2Bé‚£å¼ å›¾çš„ä½œè€…æ˜¯Wlopï¼Œæˆ‘æœ€å–œæ¬¢çš„ç”»å¸ˆï¼‰</p><h2 id="novel">Novel</h2><p>æˆ‘è¿˜å¹´è½»çš„æ—¶å€™ä¼šçœ‹ä¸€äº›å¤©èš•åœŸè±†ï¼Œå”å®¶ä¸‰å°‘ï¼Œè€³æ ¹å†™çš„å°è¯´Â·Â·Â·Â·Â·Â·å¯¹æˆ‘çš„æ–‡å­¦æ°´å¹³çœŸæ˜¯æ²¡æœ‰åŠç‚¹æå‡ã€‚</p><p>åœ¨é«˜äºŒè¯­æ–‡è€å¸ˆçš„è€³æ¿¡ç›®æŸ“ä¸‹ï¼Œæˆ‘ä¸€ä¸ªç†å·¥ç”·å¯¹æ–‡å­¦å…´è¶£ç›ç„¶ã€‚å³ä½¿å¾ˆå¿™ï¼Œä¹Ÿæƒ³æŠ½ç‚¹æ—¶é—´é™¶å†¶æƒ…æ“ã€‚</p><div style="text-align:center">è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²</div><p><a href="https://imgtu.com/i/gV41qf"><imgsrc="https://z3.ax1x.com/2021/05/01/gV41qf.jpg" /></a></p><p>é™¤äº†è¯—ä¸è¯ï¼Œè¿˜è®°å¾—åå­—çš„ä¹¦åªå‰©ä¸‹ã€Šå·¨äººçš„é™¨è½ã€‹ã€ã€Šä¸‰ä½“ã€‹ã€ã€Šå¤–å©†çš„é“æ­‰ä¿¡ã€‹ã€ã€Šè‡ªç”±åœ¨é«˜å¤„ã€‹Â·Â·Â·Â·Â·Â·</p><p>å‰©ä¸‹çš„å„ç§æ‚¬ç–‘ä¾¦æ¢å°è¯´å°±ä¸åˆ—ä¸¾äº†ï¼ˆä¸è¿‡å¼ºæ¨ä¸€æ‰‹ã€Šç¥æ¢å¤æ´›å…‹ã€‹ã€ŠPOIç–‘çŠ¯è¿½è¸ªã€‹ï¼‰ã€‚</p><h2 id="music">Music</h2><p>æˆ‘è¿™ä¸ªäººå¬çš„æ­Œæœ‰äº¿ç‚¹ç‚¹æ‚ï¼ŒåŸºæœ¬æ­Œå•é‡Œä»€ä¹ˆéƒ½æ²¾ä¸€ç‚¹ï¼ˆäºŒæ¬¡å…ƒ&amp;æ¬§ç¾å æ¯”è¾ƒå¤§ï¼‰</p><p>ç‰¹åœ°å¼€äº†ä¸€ä¸ªMusicç‰ˆå—éƒ½æ˜¯å› ä¸ºâ€”â€”hanserï¼</p><div style="text-align:center"><iframe width="100%" height="500" src="https://player.bilibili.com/player.html?aid=4848309&amp;bvid=BV1Cs411i7B1&amp;cid=7870718&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>2016-10-01è‡³ä»Šï¼Œæ°¸è¿œå•æ¨æ†¨æ†¨ï¼</p><p><a href="https://imgtu.com/i/4jdP0g"><imgsrc="https://z3.ax1x.com/2021/10/05/4jdP0g.jpg" /></a></p><h1 id="enderfga-1">Enderfgaã€‚</h1><p>ä¸çŸ¥ä¸è§‰å†™äº†å¥½å¤šåºŸè¯äº†Â·Â·Â·Â·Â·Â·</p><p>æ€»ä¹‹ï¼Œå¤§å­¦ç”Ÿæ´»å¼€å§‹äº†ï¼Œå¸Œæœ›æˆ‘èƒ½å½“å¥½ä¸€ä¸ªç¥å¥‡æµ·èº/å“†å•¦å®‰æ¢¦ã€‚</p><div data-align="right">----Nothing is trueï¼Œeverything is permitted.</div>]]></content>
    
    
    
    <tags>
      
      <tag>é—²è°ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
